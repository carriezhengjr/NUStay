function QA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var YA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bi(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var D1={exports:{}},zf={},V1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),JA=Symbol.for("react.portal"),eR=Symbol.for("react.fragment"),tR=Symbol.for("react.strict_mode"),nR=Symbol.for("react.profiler"),rR=Symbol.for("react.provider"),iR=Symbol.for("react.context"),sR=Symbol.for("react.forward_ref"),oR=Symbol.for("react.suspense"),aR=Symbol.for("react.memo"),lR=Symbol.for("react.lazy"),aw=Symbol.iterator;function uR(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var F1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U1=Object.assign,j1={};function cl(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||F1}cl.prototype.isReactComponent={};cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B1(){}B1.prototype=cl.prototype;function ry(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||F1}var iy=ry.prototype=new B1;iy.constructor=ry;U1(iy,cl.prototype);iy.isPureReactComponent=!0;var lw=Array.isArray,z1=Object.prototype.hasOwnProperty,sy={current:null},$1={key:!0,ref:!0,__self:!0,__source:!0};function H1(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)z1.call(e,r)&&!$1.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];i.children=h}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Ac,type:t,key:o,ref:a,props:i,_owner:sy.current}}function cR(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function hR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uw=/\/+/g;function Tm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hR(""+t.key):e.toString(36)}function fd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ac:case JA:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Tm(a,0):r,lw(i)?(n="",t!=null&&(n=t.replace(uw,"$&/")+"/"),fd(i,e,n,"",function(f){return f})):i!=null&&(oy(i)&&(i=cR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(uw,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",lw(t))for(var u=0;u<t.length;u++){o=t[u];var h=r+Tm(o,u);a+=fd(o,e,n,h,i)}else if(h=uR(t),typeof h=="function")for(t=h.call(t),u=0;!(o=t.next()).done;)o=o.value,h=r+Tm(o,u++),a+=fd(o,e,n,h,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Bh(t,e,n){if(t==null)return t;var r=[],i=0;return fd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function dR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},pd={transition:null},fR={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:pd,ReactCurrentOwner:sy};Ce.Children={map:Bh,forEach:function(t,e,n){Bh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bh(t,function(){e++}),e},toArray:function(t){return Bh(t,function(e){return e})||[]},only:function(t){if(!oy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=cl;Ce.Fragment=eR;Ce.Profiler=nR;Ce.PureComponent=ry;Ce.StrictMode=tR;Ce.Suspense=oR;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U1({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=sy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)z1.call(e,h)&&!$1.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&u!==void 0?u[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Ac,type:t.type,key:i,ref:o,props:r,_owner:a}};Ce.createContext=function(t){return t={$$typeof:iR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rR,_context:t},t.Consumer=t};Ce.createElement=H1;Ce.createFactory=function(t){var e=H1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:sR,render:t}};Ce.isValidElement=oy;Ce.lazy=function(t){return{$$typeof:lR,_payload:{_status:-1,_result:t},_init:dR}};Ce.memo=function(t,e){return{$$typeof:aR,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=pd.transition;pd.transition={};try{t()}finally{pd.transition=e}};Ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ce.useCallback=function(t,e){return pn.current.useCallback(t,e)};Ce.useContext=function(t){return pn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return pn.current.useEffect(t,e)};Ce.useId=function(){return pn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return pn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Ce.useRef=function(t){return pn.current.useRef(t)};Ce.useState=function(t){return pn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return pn.current.useTransition()};Ce.version="18.2.0";V1.exports=Ce;var j=V1.exports;const zd=XA(j),$d=QA({__proto__:null,default:zd},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR=j,mR=Symbol.for("react.element"),gR=Symbol.for("react.fragment"),_R=Object.prototype.hasOwnProperty,yR=pR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vR={key:!0,ref:!0,__self:!0,__source:!0};function W1(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)_R.call(e,r)&&!vR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mR,type:t,key:o,ref:a,props:i,_owner:yR.current}}zf.Fragment=gR;zf.jsx=W1;zf.jsxs=W1;D1.exports=zf;var A=D1.exports,wg={},q1={exports:{}},jn={},G1={exports:{}},K1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,ce){var ee=Z.length;Z.push(ce);e:for(;0<ee;){var de=ee-1>>>1,ve=Z[de];if(0<i(ve,ce))Z[de]=ce,Z[ee]=ve,ee=de;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ce=Z[0],ee=Z.pop();if(ee!==ce){Z[0]=ee;e:for(var de=0,ve=Z.length,Pe=ve>>>1;de<Pe;){var Me=2*(de+1)-1,Ee=Z[Me],me=Me+1,bt=Z[me];if(0>i(Ee,ee))me<ve&&0>i(bt,Ee)?(Z[de]=bt,Z[me]=ee,de=me):(Z[de]=Ee,Z[Me]=ee,de=Me);else if(me<ve&&0>i(bt,ee))Z[de]=bt,Z[me]=ee,de=me;else break e}}return ce}function i(Z,ce){var ee=Z.sortIndex-ce.sortIndex;return ee!==0?ee:Z.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var h=[],f=[],m=1,_=null,w=3,P=!1,S=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Z){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=Z)r(f),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=n(f)}}function B(Z){if(E=!1,R(Z),!S)if(n(h)!==null)S=!0,mt(q);else{var ce=n(f);ce!==null&&an(B,ce.startTime-Z)}}function q(Z,ce){S=!1,E&&(E=!1,b(C),C=-1),P=!0;var ee=w;try{for(R(ce),_=n(h);_!==null&&(!(_.expirationTime>ce)||Z&&!F());){var de=_.callback;if(typeof de=="function"){_.callback=null,w=_.priorityLevel;var ve=de(_.expirationTime<=ce);ce=t.unstable_now(),typeof ve=="function"?_.callback=ve:_===n(h)&&r(h),R(ce)}else r(h);_=n(h)}if(_!==null)var Pe=!0;else{var Me=n(f);Me!==null&&an(B,Me.startTime-ce),Pe=!1}return Pe}finally{_=null,w=ee,P=!1}}var K=!1,k=null,C=-1,O=5,M=-1;function F(){return!(t.unstable_now()-M<O)}function U(){if(k!==null){var Z=t.unstable_now();M=Z;var ce=!0;try{ce=k(!0,Z)}finally{ce?D():(K=!1,k=null)}}else K=!1}var D;if(typeof x=="function")D=function(){x(U)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,cr=He.port2;He.port1.onmessage=U,D=function(){cr.postMessage(null)}}else D=function(){N(U,0)};function mt(Z){k=Z,K||(K=!0,D())}function an(Z,ce){C=N(function(){Z(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){S||P||(S=!0,mt(q))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ee=w;w=ce;try{return Z()}finally{w=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=w;w=Z;try{return ce()}finally{w=ee}},t.unstable_scheduleCallback=function(Z,ce,ee){var de=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,Z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ee+ve,Z={id:m++,callback:ce,priorityLevel:Z,startTime:ee,expirationTime:ve,sortIndex:-1},ee>de?(Z.sortIndex=ee,e(f,Z),n(h)===null&&Z===n(f)&&(E?(b(C),C=-1):E=!0,an(B,ee-de))):(Z.sortIndex=ve,e(h,Z),S||P||(S=!0,mt(q))),Z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Z){var ce=w;return function(){var ee=w;w=ce;try{return Z.apply(this,arguments)}finally{w=ee}}}})(K1);G1.exports=K1;var wR=G1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=j,Un=wR;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q1=new Set,Zu={};function Io(t,e){Ha(t,e),Ha(t+"Capture",e)}function Ha(t,e){for(Zu[t]=e,t=0;t<e.length;t++)Q1.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,ER=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cw={},hw={};function TR(t){return Eg.call(hw,t)?!0:Eg.call(cw,t)?!1:ER.test(t)?hw[t]=!0:(cw[t]=!0,!1)}function SR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PR(t,e,n,r){if(e===null||typeof e>"u"||SR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ay=/[\-:]([a-z])/g;function ly(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ay,ly);Kt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ay,ly);Kt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ay,ly);Kt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function uy(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PR(e,n,i,r)&&(n=null),r||i===null?TR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ai=Z1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zh=Symbol.for("react.element"),wa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),Y1=Symbol.for("react.provider"),X1=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),dy=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),J1=Symbol.for("react.offscreen"),dw=Symbol.iterator;function lu(t){return t===null||typeof t!="object"?null:(t=dw&&t[dw]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,Sm;function Su(t){if(Sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sm=e&&e[1]||""}return`
`+Sm+t}var Pm=!1;function Im(t,e){if(!t||Pm)return"";Pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u]){var h=`
`+i[a].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=a&&0<=u);break}}}finally{Pm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Su(t):""}function IR(t){switch(t.tag){case 5:return Su(t.type);case 16:return Su("Lazy");case 13:return Su("Suspense");case 19:return Su("SuspenseList");case 0:case 2:case 15:return t=Im(t.type,!1),t;case 11:return t=Im(t.type.render,!1),t;case 1:return t=Im(t.type,!0),t;default:return""}}function Ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case wa:return"Portal";case Tg:return"Profiler";case cy:return"StrictMode";case Sg:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X1:return(t.displayName||"Context")+".Consumer";case Y1:return(t._context.displayName||"Context")+".Provider";case hy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dy:return e=t.displayName||null,e!==null?e:Ig(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return Ig(t(e))}catch{}}return null}function xR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ig(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CR(t){var e=eS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $h(t){t._valueTracker||(t._valueTracker=CR(t))}function tS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xg(t,e){var n=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nS(t,e){e=e.checked,e!=null&&uy(t,"checked",e,!1)}function Cg(t,e){nS(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bg(t,e.type,n):e.hasOwnProperty("defaultValue")&&bg(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bg(t,e,n){(e!=="number"||Hd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pu=Array.isArray;function Oa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ag(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Pu(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function rS(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hh,sS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hh=Hh||document.createElement("div"),Hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bR=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(t){bR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lu[e]=Lu[t]})});function oS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lu.hasOwnProperty(t)&&Lu[t]?(""+e).trim():e+"px"}function aS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=oS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AR=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kg(t,e){if(e){if(AR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lg=null;function fy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ng=null,La=null,Na=null;function _w(t){if(t=Oc(t)){if(typeof Ng!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Gf(e),Ng(t.stateNode,t.type,e))}}function lS(t){La?Na?Na.push(t):Na=[t]:La=t}function uS(){if(La){var t=La,e=Na;if(Na=La=null,_w(t),e)for(t=0;t<e.length;t++)_w(e[t])}}function cS(t,e){return t(e)}function hS(){}var xm=!1;function dS(t,e,n){if(xm)return t(e,n);xm=!0;try{return cS(t,e,n)}finally{xm=!1,(La!==null||Na!==null)&&(hS(),uS())}}function Yu(t,e){var n=t.stateNode;if(n===null)return null;var r=Gf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Mg=!1;if(vi)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){Mg=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{Mg=!1}function RR(t,e,n,r,i,o,a,u,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Nu=!1,Wd=null,qd=!1,Dg=null,kR={onError:function(t){Nu=!0,Wd=t}};function OR(t,e,n,r,i,o,a,u,h){Nu=!1,Wd=null,RR.apply(kR,arguments)}function LR(t,e,n,r,i,o,a,u,h){if(OR.apply(this,arguments),Nu){if(Nu){var f=Wd;Nu=!1,Wd=null}else throw Error(J(198));qd||(qd=!0,Dg=f)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yw(t){if(xo(t)!==t)throw Error(J(188))}function NR(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yw(i),t;if(o===r)return yw(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function pS(t){return t=NR(t),t!==null?mS(t):null}function mS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mS(t);if(e!==null)return e;t=t.sibling}return null}var gS=Un.unstable_scheduleCallback,vw=Un.unstable_cancelCallback,MR=Un.unstable_shouldYield,DR=Un.unstable_requestPaint,_t=Un.unstable_now,VR=Un.unstable_getCurrentPriorityLevel,py=Un.unstable_ImmediatePriority,_S=Un.unstable_UserBlockingPriority,Gd=Un.unstable_NormalPriority,FR=Un.unstable_LowPriority,yS=Un.unstable_IdlePriority,$f=null,jr=null;function UR(t){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot($f,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:zR,jR=Math.log,BR=Math.LN2;function zR(t){return t>>>=0,t===0?32:31-(jR(t)/BR|0)|0}var Wh=64,qh=4194304;function Iu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Iu(u):(o&=a,o!==0&&(r=Iu(o)))}else a=n&~i,a!==0?r=Iu(a):o!==0&&(r=Iu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),i=1<<n,r|=t[n],e&=~i;return r}function $R(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Er(o),u=1<<a,h=i[a];h===-1?(!(u&n)||u&r)&&(i[a]=$R(u,e)):h<=e&&(t.expiredLanes|=u),o&=~u}}function Vg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vS(){var t=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function WR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Er(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function my(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function wS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ES,gy,TS,SS,PS,Fg=!1,Gh=[],os=null,as=null,ls=null,Xu=new Map,Ju=new Map,Qi=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ww(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Xu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(e.pointerId)}}function cu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Oc(e),e!==null&&gy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GR(t,e,n,r,i){switch(e){case"focusin":return os=cu(os,t,e,n,r,i),!0;case"dragenter":return as=cu(as,t,e,n,r,i),!0;case"mouseover":return ls=cu(ls,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xu.set(o,cu(Xu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ju.set(o,cu(Ju.get(o)||null,t,e,n,r,i)),!0}return!1}function IS(t){var e=Ys(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=fS(n),e!==null){t.blockedOn=e,PS(t.priority,function(){TS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function md(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ug(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lg=r,n.target.dispatchEvent(r),Lg=null}else return e=Oc(n),e!==null&&gy(e),t.blockedOn=n,!1;e.shift()}return!0}function Ew(t,e,n){md(t)&&n.delete(e)}function KR(){Fg=!1,os!==null&&md(os)&&(os=null),as!==null&&md(as)&&(as=null),ls!==null&&md(ls)&&(ls=null),Xu.forEach(Ew),Ju.forEach(Ew)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,Fg||(Fg=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,KR)))}function ec(t){function e(i){return hu(i,t)}if(0<Gh.length){hu(Gh[0],t);for(var n=1;n<Gh.length;n++){var r=Gh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&hu(os,t),as!==null&&hu(as,t),ls!==null&&hu(ls,t),Xu.forEach(e),Ju.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)IS(n),n.blockedOn===null&&Qi.shift()}var Ma=Ai.ReactCurrentBatchConfig,Zd=!0;function ZR(t,e,n,r){var i=Fe,o=Ma.transition;Ma.transition=null;try{Fe=1,_y(t,e,n,r)}finally{Fe=i,Ma.transition=o}}function QR(t,e,n,r){var i=Fe,o=Ma.transition;Ma.transition=null;try{Fe=4,_y(t,e,n,r)}finally{Fe=i,Ma.transition=o}}function _y(t,e,n,r){if(Zd){var i=Ug(t,e,n,r);if(i===null)Vm(t,e,r,Qd,n),ww(t,r);else if(GR(i,t,e,n,r))r.stopPropagation();else if(ww(t,r),e&4&&-1<qR.indexOf(t)){for(;i!==null;){var o=Oc(i);if(o!==null&&ES(o),o=Ug(t,e,n,r),o===null&&Vm(t,e,r,Qd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vm(t,e,r,null,n)}}var Qd=null;function Ug(t,e,n,r){if(Qd=null,t=fy(r),t=Ys(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qd=t,null}function xS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VR()){case py:return 1;case _S:return 4;case Gd:case FR:return 16;case yS:return 536870912;default:return 16}default:return 16}}var rs=null,yy=null,gd=null;function CS(){if(gd)return gd;var t,e=yy,n=e.length,r,i="value"in rs?rs.value:rs.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return gd=i.slice(t,1<r?1-r:void 0)}function _d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kh(){return!0}function Tw(){return!1}function Bn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Kh:Tw,this.isPropagationStopped=Tw,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=Bn(hl),kc=at({},hl,{view:0,detail:0}),YR=Bn(kc),bm,Am,du,Hf=at({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==du&&(du&&t.type==="mousemove"?(bm=t.screenX-du.screenX,Am=t.screenY-du.screenY):Am=bm=0,du=t),bm)},movementY:function(t){return"movementY"in t?t.movementY:Am}}),Sw=Bn(Hf),XR=at({},Hf,{dataTransfer:0}),JR=Bn(XR),ek=at({},kc,{relatedTarget:0}),Rm=Bn(ek),tk=at({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),nk=Bn(tk),rk=at({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ik=Bn(rk),sk=at({},hl,{data:0}),Pw=Bn(sk),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ak={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lk[t])?!!e[t]:!1}function wy(){return uk}var ck=at({},kc,{key:function(t){if(t.key){var e=ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ak[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(t){return t.type==="keypress"?_d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hk=Bn(ck),dk=at({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=Bn(dk),fk=at({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),pk=Bn(fk),mk=at({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),gk=Bn(mk),_k=at({},Hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yk=Bn(_k),vk=[9,13,27,32],Ey=vi&&"CompositionEvent"in window,Mu=null;vi&&"documentMode"in document&&(Mu=document.documentMode);var wk=vi&&"TextEvent"in window&&!Mu,bS=vi&&(!Ey||Mu&&8<Mu&&11>=Mu),xw=" ",Cw=!1;function AS(t,e){switch(t){case"keyup":return vk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function Ek(t,e){switch(t){case"compositionend":return RS(e);case"keypress":return e.which!==32?null:(Cw=!0,xw);case"textInput":return t=e.data,t===xw&&Cw?null:t;default:return null}}function Tk(t,e){if(Ta)return t==="compositionend"||!Ey&&AS(t,e)?(t=CS(),gd=yy=rs=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bS&&e.locale!=="ko"?null:e.data;default:return null}}var Sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sk[t.type]:e==="textarea"}function kS(t,e,n,r){lS(r),e=Yd(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Du=null,tc=null;function Pk(t){zS(t,0)}function Wf(t){var e=Ia(t);if(tS(e))return t}function Ik(t,e){if(t==="change")return e}var OS=!1;if(vi){var km;if(vi){var Om="oninput"in document;if(!Om){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Om=typeof Aw.oninput=="function"}km=Om}else km=!1;OS=km&&(!document.documentMode||9<document.documentMode)}function Rw(){Du&&(Du.detachEvent("onpropertychange",LS),tc=Du=null)}function LS(t){if(t.propertyName==="value"&&Wf(tc)){var e=[];kS(e,tc,t,fy(t)),dS(Pk,e)}}function xk(t,e,n){t==="focusin"?(Rw(),Du=e,tc=n,Du.attachEvent("onpropertychange",LS)):t==="focusout"&&Rw()}function Ck(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wf(tc)}function bk(t,e){if(t==="click")return Wf(e)}function Ak(t,e){if(t==="input"||t==="change")return Wf(e)}function Rk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ir=typeof Object.is=="function"?Object.is:Rk;function nc(t,e){if(Ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eg.call(e,i)||!Ir(t[i],e[i]))return!1}return!0}function kw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ow(t,e){var n=kw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kw(n)}}function NS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MS(){for(var t=window,e=Hd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hd(t.document)}return e}function Ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kk(t){var e=MS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NS(n.ownerDocument.documentElement,n)){if(r!==null&&Ty(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ow(n,o);var a=Ow(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ok=vi&&"documentMode"in document&&11>=document.documentMode,Sa=null,jg=null,Vu=null,Bg=!1;function Lw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bg||Sa==null||Sa!==Hd(r)||(r=Sa,"selectionStart"in r&&Ty(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vu&&nc(Vu,r)||(Vu=r,r=Yd(jg,"onSelect"),0<r.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sa)))}function Zh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pa={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},Lm={},DS={};vi&&(DS=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function qf(t){if(Lm[t])return Lm[t];if(!Pa[t])return t;var e=Pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DS)return Lm[t]=e[n];return t}var VS=qf("animationend"),FS=qf("animationiteration"),US=qf("animationstart"),jS=qf("transitionend"),BS=new Map,Nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(t,e){BS.set(t,e),Io(e,[t])}for(var Nm=0;Nm<Nw.length;Nm++){var Mm=Nw[Nm],Lk=Mm.toLowerCase(),Nk=Mm[0].toUpperCase()+Mm.slice(1);Is(Lk,"on"+Nk)}Is(VS,"onAnimationEnd");Is(FS,"onAnimationIteration");Is(US,"onAnimationStart");Is("dblclick","onDoubleClick");Is("focusin","onFocus");Is("focusout","onBlur");Is(jS,"onTransitionEnd");Ha("onMouseEnter",["mouseout","mouseover"]);Ha("onMouseLeave",["mouseout","mouseover"]);Ha("onPointerEnter",["pointerout","pointerover"]);Ha("onPointerLeave",["pointerout","pointerover"]);Io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Io("onBeforeInput",["compositionend","keypress","textInput","paste"]);Io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function Mw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LR(r,e,void 0,t),t.currentTarget=null}function zS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&i.isPropagationStopped())break e;Mw(i,u,f),o=h}else for(a=0;a<r.length;a++){if(u=r[a],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&i.isPropagationStopped())break e;Mw(i,u,f),o=h}}}if(qd)throw t=Dg,qd=!1,Dg=null,t}function Ze(t,e){var n=e[qg];n===void 0&&(n=e[qg]=new Set);var r=t+"__bubble";n.has(r)||($S(e,t,2,!1),n.add(r))}function Dm(t,e,n){var r=0;e&&(r|=4),$S(n,t,r,e)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function rc(t){if(!t[Qh]){t[Qh]=!0,Q1.forEach(function(n){n!=="selectionchange"&&(Mk.has(n)||Dm(n,!1,t),Dm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qh]||(e[Qh]=!0,Dm("selectionchange",!1,e))}}function $S(t,e,n,r){switch(xS(e)){case 1:var i=ZR;break;case 4:i=QR;break;default:i=_y}n=i.bind(null,e,n,t),i=void 0,!Mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var h=a.tag;if((h===3||h===4)&&(h=a.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Ys(u),a===null)return;if(h=a.tag,h===5||h===6){r=o=a;continue e}u=u.parentNode}}r=r.return}dS(function(){var f=o,m=fy(n),_=[];e:{var w=BS.get(t);if(w!==void 0){var P=vy,S=t;switch(t){case"keypress":if(_d(n)===0)break e;case"keydown":case"keyup":P=hk;break;case"focusin":S="focus",P=Rm;break;case"focusout":S="blur",P=Rm;break;case"beforeblur":case"afterblur":P=Rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=JR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=pk;break;case VS:case FS:case US:P=nk;break;case jS:P=gk;break;case"scroll":P=YR;break;case"wheel":P=yk;break;case"copy":case"cut":case"paste":P=ik;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Iw}var E=(e&4)!==0,N=!E&&t==="scroll",b=E?w!==null?w+"Capture":null:w;E=[];for(var x=f,R;x!==null;){R=x;var B=R.stateNode;if(R.tag===5&&B!==null&&(R=B,b!==null&&(B=Yu(x,b),B!=null&&E.push(ic(x,B,R)))),N)break;x=x.return}0<E.length&&(w=new P(w,S,null,n,m),_.push({event:w,listeners:E}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",w&&n!==Lg&&(S=n.relatedTarget||n.fromElement)&&(Ys(S)||S[wi]))break e;if((P||w)&&(w=m.window===m?m:(w=m.ownerDocument)?w.defaultView||w.parentWindow:window,P?(S=n.relatedTarget||n.toElement,P=f,S=S?Ys(S):null,S!==null&&(N=xo(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(P=null,S=f),P!==S)){if(E=Sw,B="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(E=Iw,B="onPointerLeave",b="onPointerEnter",x="pointer"),N=P==null?w:Ia(P),R=S==null?w:Ia(S),w=new E(B,x+"leave",P,n,m),w.target=N,w.relatedTarget=R,B=null,Ys(m)===f&&(E=new E(b,x+"enter",S,n,m),E.target=R,E.relatedTarget=N,B=E),N=B,P&&S)t:{for(E=P,b=S,x=0,R=E;R;R=ca(R))x++;for(R=0,B=b;B;B=ca(B))R++;for(;0<x-R;)E=ca(E),x--;for(;0<R-x;)b=ca(b),R--;for(;x--;){if(E===b||b!==null&&E===b.alternate)break t;E=ca(E),b=ca(b)}E=null}else E=null;P!==null&&Dw(_,w,P,E,!1),S!==null&&N!==null&&Dw(_,N,S,E,!0)}}e:{if(w=f?Ia(f):window,P=w.nodeName&&w.nodeName.toLowerCase(),P==="select"||P==="input"&&w.type==="file")var q=Ik;else if(bw(w))if(OS)q=Ak;else{q=Ck;var K=xk}else(P=w.nodeName)&&P.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(q=bk);if(q&&(q=q(t,f))){kS(_,q,n,m);break e}K&&K(t,w,f),t==="focusout"&&(K=w._wrapperState)&&K.controlled&&w.type==="number"&&bg(w,"number",w.value)}switch(K=f?Ia(f):window,t){case"focusin":(bw(K)||K.contentEditable==="true")&&(Sa=K,jg=f,Vu=null);break;case"focusout":Vu=jg=Sa=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,Lw(_,n,m);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":Lw(_,n,m)}var k;if(Ey)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ta?AS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(bS&&n.locale!=="ko"&&(Ta||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ta&&(k=CS()):(rs=m,yy="value"in rs?rs.value:rs.textContent,Ta=!0)),K=Yd(f,C),0<K.length&&(C=new Pw(C,t,null,n,m),_.push({event:C,listeners:K}),k?C.data=k:(k=RS(n),k!==null&&(C.data=k)))),(k=wk?Ek(t,n):Tk(t,n))&&(f=Yd(f,"onBeforeInput"),0<f.length&&(m=new Pw("onBeforeInput","beforeinput",null,n,m),_.push({event:m,listeners:f}),m.data=k))}zS(_,e)})}function ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Yu(t,n),o!=null&&r.unshift(ic(t,o,i)),o=Yu(t,e),o!=null&&r.push(ic(t,o,i))),t=t.return}return r}function ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dw(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&f!==null&&(u=f,i?(h=Yu(n,o),h!=null&&a.unshift(ic(n,h,u))):i||(h=Yu(n,o),h!=null&&a.push(ic(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Dk=/\r\n?/g,Vk=/\u0000|\uFFFD/g;function Vw(t){return(typeof t=="string"?t:""+t).replace(Dk,`
`).replace(Vk,"")}function Yh(t,e,n){if(e=Vw(e),Vw(t)!==e&&n)throw Error(J(425))}function Xd(){}var zg=null,$g=null;function Hg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wg=typeof setTimeout=="function"?setTimeout:void 0,Fk=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(t){return Fw.resolve(null).then(t).catch(jk)}:Wg;function jk(t){setTimeout(function(){throw t})}function Fm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ec(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ec(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var dl=Math.random().toString(36).slice(2),Fr="__reactFiber$"+dl,sc="__reactProps$"+dl,wi="__reactContainer$"+dl,qg="__reactEvents$"+dl,Bk="__reactListeners$"+dl,zk="__reactHandles$"+dl;function Ys(t){var e=t[Fr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[Fr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uw(t);t!==null;){if(n=t[Fr])return n;t=Uw(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[Fr]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Gf(t){return t[sc]||null}var Gg=[],xa=-1;function xs(t){return{current:t}}function Qe(t){0>xa||(t.current=Gg[xa],Gg[xa]=null,xa--)}function Ge(t,e){xa++,Gg[xa]=t.current,t.current=e}var vs={},sn=xs(vs),En=xs(!1),uo=vs;function Wa(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function Jd(){Qe(En),Qe(sn)}function jw(t,e,n){if(sn.current!==vs)throw Error(J(168));Ge(sn,e),Ge(En,n)}function HS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,xR(t)||"Unknown",i));return at({},n,r)}function ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,uo=sn.current,Ge(sn,t),Ge(En,En.current),!0}function Bw(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=HS(t,e,uo),r.__reactInternalMemoizedMergedChildContext=t,Qe(En),Qe(sn),Ge(sn,t)):Qe(En),Ge(En,n)}var ui=null,Kf=!1,Um=!1;function WS(t){ui===null?ui=[t]:ui.push(t)}function $k(t){Kf=!0,WS(t)}function Cs(){if(!Um&&ui!==null){Um=!0;var t=0,e=Fe;try{var n=ui;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,Kf=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),gS(py,Cs),i}finally{Fe=e,Um=!1}}return null}var Ca=[],ba=0,tf=null,nf=0,Yn=[],Xn=0,co=null,hi=1,di="";function Gs(t,e){Ca[ba++]=nf,Ca[ba++]=tf,tf=t,nf=e}function qS(t,e,n){Yn[Xn++]=hi,Yn[Xn++]=di,Yn[Xn++]=co,co=t;var r=hi;t=di;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var o=32-Er(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,hi=1<<32-Er(e)+i|n<<i|r,di=o+t}else hi=1<<o|n<<i|r,di=t}function Sy(t){t.return!==null&&(Gs(t,1),qS(t,1,0))}function Py(t){for(;t===tf;)tf=Ca[--ba],Ca[ba]=null,nf=Ca[--ba],Ca[ba]=null;for(;t===co;)co=Yn[--Xn],Yn[Xn]=null,di=Yn[--Xn],Yn[Xn]=null,hi=Yn[--Xn],Yn[Xn]=null}var Vn=null,Nn=null,tt=!1,vr=null;function GS(t,e){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Nn=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=co!==null?{id:hi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Nn=null,!0):!1;default:return!1}}function Kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zg(t){if(tt){var e=Nn;if(e){var n=e;if(!zw(t,e)){if(Kg(t))throw Error(J(418));e=us(n.nextSibling);var r=Vn;e&&zw(t,e)?GS(r,n):(t.flags=t.flags&-4097|2,tt=!1,Vn=t)}}else{if(Kg(t))throw Error(J(418));t.flags=t.flags&-4097|2,tt=!1,Vn=t}}}function $w(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function Xh(t){if(t!==Vn)return!1;if(!tt)return $w(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hg(t.type,t.memoizedProps)),e&&(e=Nn)){if(Kg(t))throw KS(),Error(J(418));for(;e;)GS(t,e),e=us(e.nextSibling)}if($w(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Vn?us(t.stateNode.nextSibling):null;return!0}function KS(){for(var t=Nn;t;)t=us(t.nextSibling)}function qa(){Nn=Vn=null,tt=!1}function Iy(t){vr===null?vr=[t]:vr.push(t)}var Hk=Ai.ReactCurrentBatchConfig;function _r(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var rf=xs(null),sf=null,Aa=null,xy=null;function Cy(){xy=Aa=sf=null}function by(t){var e=rf.current;Qe(rf),t._currentValue=e}function Qg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Da(t,e){sf=t,xy=Aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(xy!==t)if(t={context:t,memoizedValue:e,next:null},Aa===null){if(sf===null)throw Error(J(308));Aa=t,sf.dependencies={lanes:0,firstContext:t}}else Aa=Aa.next=t;return e}var Xs=null;function Ay(t){Xs===null?Xs=[t]:Xs.push(t)}function ZS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ay(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zi=!1;function Ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Ay(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}function Hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function of(t,e,n,r){var i=t.updateQueue;Zi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,f=h.next;h.next=null,a===null?o=f:a.next=f,a=h;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==a&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=h))}if(o!==null){var _=i.baseState;a=0,m=f=h=null,u=o;do{var w=u.lane,P=u.eventTime;if((r&w)===w){m!==null&&(m=m.next={eventTime:P,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=t,E=u;switch(w=e,P=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){_=S.call(P,_,w);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,w=typeof S=="function"?S.call(P,_,w):S,w==null)break e;_=at({},_,w);break e;case 2:Zi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[u]:w.push(u))}else P={eventTime:P,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=P,h=_):m=m.next=P,a|=w;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;w=u,u=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(m===null&&(h=_),i.baseState=h,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fo|=a,t.lanes=a,t.memoizedState=_}}function Ww(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var YS=new Z1.Component().refs;function Yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:at({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zf={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dn(),i=ds(t),o=gi(r,i);o.payload=e,n!=null&&(o.callback=n),e=cs(t,o,i),e!==null&&(Tr(e,t,i,r),yd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dn(),i=ds(t),o=gi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=cs(t,o,i),e!==null&&(Tr(e,t,i,r),yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),r=ds(t),i=gi(n,r);i.tag=2,e!=null&&(i.callback=e),e=cs(t,i,r),e!==null&&(Tr(e,t,r,n),yd(e,t,r))}};function qw(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!nc(n,r)||!nc(i,o):!0}function XS(t,e,n){var r=!1,i=vs,o=e.contextType;return typeof o=="object"&&o!==null?o=rr(o):(i=Tn(e)?uo:sn.current,r=e.contextTypes,o=(r=r!=null)?Wa(t,i):vs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Gw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zf.enqueueReplaceState(e,e.state,null)}function Xg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=YS,Ry(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rr(o):(o=Tn(e)?uo:sn.current,i.context=Wa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zf.enqueueReplaceState(i,i.state,null),of(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var u=i.refs;u===YS&&(u=i.refs={}),a===null?delete u[o]:u[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Jh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kw(t){var e=t._init;return e(t._payload)}function JS(t){function e(b,x){if(t){var R=b.deletions;R===null?(b.deletions=[x],b.flags|=16):R.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=fs(b,x),b.index=0,b.sibling=null,b}function o(b,x,R){return b.index=R,t?(R=b.alternate,R!==null?(R=R.index,R<x?(b.flags|=2,x):R):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function u(b,x,R,B){return x===null||x.tag!==6?(x=qm(R,b.mode,B),x.return=b,x):(x=i(x,R),x.return=b,x)}function h(b,x,R,B){var q=R.type;return q===Ea?m(b,x,R.props.children,B,R.key):x!==null&&(x.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ki&&Kw(q)===x.type)?(B=i(x,R.props),B.ref=fu(b,x,R),B.return=b,B):(B=Pd(R.type,R.key,R.props,null,b.mode,B),B.ref=fu(b,x,R),B.return=b,B)}function f(b,x,R,B){return x===null||x.tag!==4||x.stateNode.containerInfo!==R.containerInfo||x.stateNode.implementation!==R.implementation?(x=Gm(R,b.mode,B),x.return=b,x):(x=i(x,R.children||[]),x.return=b,x)}function m(b,x,R,B,q){return x===null||x.tag!==7?(x=io(R,b.mode,B,q),x.return=b,x):(x=i(x,R),x.return=b,x)}function _(b,x,R){if(typeof x=="string"&&x!==""||typeof x=="number")return x=qm(""+x,b.mode,R),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zh:return R=Pd(x.type,x.key,x.props,null,b.mode,R),R.ref=fu(b,null,x),R.return=b,R;case wa:return x=Gm(x,b.mode,R),x.return=b,x;case Ki:var B=x._init;return _(b,B(x._payload),R)}if(Pu(x)||lu(x))return x=io(x,b.mode,R,null),x.return=b,x;Jh(b,x)}return null}function w(b,x,R,B){var q=x!==null?x.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return q!==null?null:u(b,x,""+R,B);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case zh:return R.key===q?h(b,x,R,B):null;case wa:return R.key===q?f(b,x,R,B):null;case Ki:return q=R._init,w(b,x,q(R._payload),B)}if(Pu(R)||lu(R))return q!==null?null:m(b,x,R,B,null);Jh(b,R)}return null}function P(b,x,R,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return b=b.get(R)||null,u(x,b,""+B,q);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case zh:return b=b.get(B.key===null?R:B.key)||null,h(x,b,B,q);case wa:return b=b.get(B.key===null?R:B.key)||null,f(x,b,B,q);case Ki:var K=B._init;return P(b,x,R,K(B._payload),q)}if(Pu(B)||lu(B))return b=b.get(R)||null,m(x,b,B,q,null);Jh(x,B)}return null}function S(b,x,R,B){for(var q=null,K=null,k=x,C=x=0,O=null;k!==null&&C<R.length;C++){k.index>C?(O=k,k=null):O=k.sibling;var M=w(b,k,R[C],B);if(M===null){k===null&&(k=O);break}t&&k&&M.alternate===null&&e(b,k),x=o(M,x,C),K===null?q=M:K.sibling=M,K=M,k=O}if(C===R.length)return n(b,k),tt&&Gs(b,C),q;if(k===null){for(;C<R.length;C++)k=_(b,R[C],B),k!==null&&(x=o(k,x,C),K===null?q=k:K.sibling=k,K=k);return tt&&Gs(b,C),q}for(k=r(b,k);C<R.length;C++)O=P(k,b,C,R[C],B),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?C:O.key),x=o(O,x,C),K===null?q=O:K.sibling=O,K=O);return t&&k.forEach(function(F){return e(b,F)}),tt&&Gs(b,C),q}function E(b,x,R,B){var q=lu(R);if(typeof q!="function")throw Error(J(150));if(R=q.call(R),R==null)throw Error(J(151));for(var K=q=null,k=x,C=x=0,O=null,M=R.next();k!==null&&!M.done;C++,M=R.next()){k.index>C?(O=k,k=null):O=k.sibling;var F=w(b,k,M.value,B);if(F===null){k===null&&(k=O);break}t&&k&&F.alternate===null&&e(b,k),x=o(F,x,C),K===null?q=F:K.sibling=F,K=F,k=O}if(M.done)return n(b,k),tt&&Gs(b,C),q;if(k===null){for(;!M.done;C++,M=R.next())M=_(b,M.value,B),M!==null&&(x=o(M,x,C),K===null?q=M:K.sibling=M,K=M);return tt&&Gs(b,C),q}for(k=r(b,k);!M.done;C++,M=R.next())M=P(k,b,C,M.value,B),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?C:M.key),x=o(M,x,C),K===null?q=M:K.sibling=M,K=M);return t&&k.forEach(function(U){return e(b,U)}),tt&&Gs(b,C),q}function N(b,x,R,B){if(typeof R=="object"&&R!==null&&R.type===Ea&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case zh:e:{for(var q=R.key,K=x;K!==null;){if(K.key===q){if(q=R.type,q===Ea){if(K.tag===7){n(b,K.sibling),x=i(K,R.props.children),x.return=b,b=x;break e}}else if(K.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Ki&&Kw(q)===K.type){n(b,K.sibling),x=i(K,R.props),x.ref=fu(b,K,R),x.return=b,b=x;break e}n(b,K);break}else e(b,K);K=K.sibling}R.type===Ea?(x=io(R.props.children,b.mode,B,R.key),x.return=b,b=x):(B=Pd(R.type,R.key,R.props,null,b.mode,B),B.ref=fu(b,x,R),B.return=b,b=B)}return a(b);case wa:e:{for(K=R.key;x!==null;){if(x.key===K)if(x.tag===4&&x.stateNode.containerInfo===R.containerInfo&&x.stateNode.implementation===R.implementation){n(b,x.sibling),x=i(x,R.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=Gm(R,b.mode,B),x.return=b,b=x}return a(b);case Ki:return K=R._init,N(b,x,K(R._payload),B)}if(Pu(R))return S(b,x,R,B);if(lu(R))return E(b,x,R,B);Jh(b,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,R),x.return=b,b=x):(n(b,x),x=qm(R,b.mode,B),x.return=b,b=x),a(b)):n(b,x)}return N}var Ga=JS(!0),eP=JS(!1),Lc={},Br=xs(Lc),oc=xs(Lc),ac=xs(Lc);function Js(t){if(t===Lc)throw Error(J(174));return t}function ky(t,e){switch(Ge(ac,e),Ge(oc,t),Ge(Br,Lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rg(e,t)}Qe(Br),Ge(Br,e)}function Ka(){Qe(Br),Qe(oc),Qe(ac)}function tP(t){Js(ac.current);var e=Js(Br.current),n=Rg(e,t.type);e!==n&&(Ge(oc,t),Ge(Br,n))}function Oy(t){oc.current===t&&(Qe(Br),Qe(oc))}var it=xs(0);function af(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jm=[];function Ly(){for(var t=0;t<jm.length;t++)jm[t]._workInProgressVersionPrimary=null;jm.length=0}var vd=Ai.ReactCurrentDispatcher,Bm=Ai.ReactCurrentBatchConfig,ho=0,st=null,Rt=null,Vt=null,lf=!1,Fu=!1,lc=0,Wk=0;function Qt(){throw Error(J(321))}function Ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ir(t[n],e[n]))return!1;return!0}function My(t,e,n,r,i,o){if(ho=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vd.current=t===null||t.memoizedState===null?Zk:Qk,t=n(r,i),Fu){o=0;do{if(Fu=!1,lc=0,25<=o)throw Error(J(301));o+=1,Vt=Rt=null,e.updateQueue=null,vd.current=Yk,t=n(r,i)}while(Fu)}if(vd.current=uf,e=Rt!==null&&Rt.next!==null,ho=0,Vt=Rt=st=null,lf=!1,e)throw Error(J(300));return t}function Dy(){var t=lc!==0;return lc=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?st.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function ir(){if(Rt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Vt===null?st.memoizedState:Vt.next;if(e!==null)Vt=e,Rt=t;else{if(t===null)throw Error(J(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?st.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function uc(t,e){return typeof e=="function"?e(t):e}function zm(t){var e=ir(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=a=null,h=null,f=o;do{var m=f.lane;if((ho&m)===m)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var _={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=_,a=r):h=h.next=_,st.lanes|=m,fo|=m}f=f.next}while(f!==null&&f!==o);h===null?a=r:h.next=u,Ir(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,fo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $m(t){var e=ir(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);Ir(o,e.memoizedState)||(wn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function nP(){}function rP(t,e){var n=st,r=ir(),i=e(),o=!Ir(r.memoizedState,i);if(o&&(r.memoizedState=i,wn=!0),r=r.queue,Vy(oP.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,cc(9,sP.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(J(349));ho&30||iP(n,e,i)}return i}function iP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sP(t,e,n,r){e.value=n,e.getSnapshot=r,aP(e)&&lP(t)}function oP(t,e,n){return n(function(){aP(e)&&lP(t)})}function aP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ir(t,n)}catch{return!0}}function lP(t){var e=Ei(t,1);e!==null&&Tr(e,t,1,-1)}function Zw(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=Kk.bind(null,st,t),[e.memoizedState,t]}function cc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uP(){return ir().memoizedState}function wd(t,e,n,r){var i=Mr();st.flags|=t,i.memoizedState=cc(1|e,n,void 0,r===void 0?null:r)}function Qf(t,e,n,r){var i=ir();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var a=Rt.memoizedState;if(o=a.destroy,r!==null&&Ny(r,a.deps)){i.memoizedState=cc(e,n,o,r);return}}st.flags|=t,i.memoizedState=cc(1|e,n,o,r)}function Qw(t,e){return wd(8390656,8,t,e)}function Vy(t,e){return Qf(2048,8,t,e)}function cP(t,e){return Qf(4,2,t,e)}function hP(t,e){return Qf(4,4,t,e)}function dP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fP(t,e,n){return n=n!=null?n.concat([t]):null,Qf(4,4,dP.bind(null,e,t),n)}function Fy(){}function pP(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mP(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gP(t,e,n){return ho&21?(Ir(n,e)||(n=vS(),st.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function qk(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=Bm.transition;Bm.transition={};try{t(!1),e()}finally{Fe=n,Bm.transition=r}}function _P(){return ir().memoizedState}function Gk(t,e,n){var r=ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yP(t))vP(e,n);else if(n=ZS(t,e,n,r),n!==null){var i=dn();Tr(n,t,r,i),wP(n,e,r)}}function Kk(t,e,n){var r=ds(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yP(t))vP(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,n);if(i.hasEagerState=!0,i.eagerState=u,Ir(u,a)){var h=e.interleaved;h===null?(i.next=i,Ay(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=ZS(t,e,i,r),n!==null&&(i=dn(),Tr(n,t,r,i),wP(n,e,r))}}function yP(t){var e=t.alternate;return t===st||e!==null&&e===st}function vP(t,e){Fu=lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}var uf={readContext:rr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},Zk={readContext:rr,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:Qw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wd(4194308,4,dP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wd(4194308,4,t,e)},useInsertionEffect:function(t,e){return wd(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Gk.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:Zw,useDebugValue:Fy,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=Zw(!1),e=t[0];return t=qk.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Mr();if(tt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Ft===null)throw Error(J(349));ho&30||iP(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Qw(oP.bind(null,r,o,t),[t]),r.flags|=2048,cc(9,sP.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mr(),e=Ft.identifierPrefix;if(tt){var n=di,r=hi;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Wk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qk={readContext:rr,useCallback:pP,useContext:rr,useEffect:Vy,useImperativeHandle:fP,useInsertionEffect:cP,useLayoutEffect:hP,useMemo:mP,useReducer:zm,useRef:uP,useState:function(){return zm(uc)},useDebugValue:Fy,useDeferredValue:function(t){var e=ir();return gP(e,Rt.memoizedState,t)},useTransition:function(){var t=zm(uc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:nP,useSyncExternalStore:rP,useId:_P,unstable_isNewReconciler:!1},Yk={readContext:rr,useCallback:pP,useContext:rr,useEffect:Vy,useImperativeHandle:fP,useInsertionEffect:cP,useLayoutEffect:hP,useMemo:mP,useReducer:$m,useRef:uP,useState:function(){return $m(uc)},useDebugValue:Fy,useDeferredValue:function(t){var e=ir();return Rt===null?e.memoizedState=t:gP(e,Rt.memoizedState,t)},useTransition:function(){var t=$m(uc)[0],e=ir().memoizedState;return[t,e]},useMutableSource:nP,useSyncExternalStore:rP,useId:_P,unstable_isNewReconciler:!1};function Za(t,e){try{var n="",r=e;do n+=IR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Xk=typeof WeakMap=="function"?WeakMap:Map;function EP(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hf||(hf=!0,u_=r),Jg(t,e)},n}function TP(t,e,n){n=gi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jg(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Yw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Xk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dO.bind(null,t,e,n),e.then(t,t))}function Xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,cs(n,e,1))),n.lanes|=1),t)}var Jk=Ai.ReactCurrentOwner,wn=!1;function hn(t,e,n,r){e.child=t===null?eP(e,null,n,r):Ga(e,t.child,n,r)}function eE(t,e,n,r,i){n=n.render;var o=e.ref;return Da(e,i),r=My(t,e,n,r,o,i),n=Dy(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(tt&&n&&Sy(e),e.flags|=1,hn(t,e,r,i),e.child)}function tE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!qy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,SP(t,e,o,r,i)):(t=Pd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:nc,n(a,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=fs(o,r),t.ref=e.ref,t.return=e,e.child=t}function SP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nc(o,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return e_(t,e,n,r,i)}function PP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ka,On),On|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(ka,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(ka,On),On|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ge(ka,On),On|=r;return hn(t,e,i,n),e.child}function IP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e_(t,e,n,r,i){var o=Tn(n)?uo:sn.current;return o=Wa(e,o),Da(e,i),n=My(t,e,n,r,o,i),r=Dy(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(tt&&r&&Sy(e),e.flags|=1,hn(t,e,n,i),e.child)}function nE(t,e,n,r,i){if(Tn(n)){var o=!0;ef(e)}else o=!1;if(Da(e,i),e.stateNode===null)Ed(t,e),XS(e,n,r),Xg(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var h=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=rr(f):(f=Tn(n)?uo:sn.current,f=Wa(e,f));var m=n.getDerivedStateFromProps,_=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||h!==f)&&Gw(e,a,r,f),Zi=!1;var w=e.memoizedState;a.state=w,of(e,r,a,i),h=e.memoizedState,u!==r||w!==h||En.current||Zi?(typeof m=="function"&&(Yg(e,n,m,r),h=e.memoizedState),(u=Zi||qw(e,n,u,r,w,h,f))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=f,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,QS(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:_r(e.type,u),a.props=f,_=e.pendingProps,w=a.context,h=n.contextType,typeof h=="object"&&h!==null?h=rr(h):(h=Tn(n)?uo:sn.current,h=Wa(e,h));var P=n.getDerivedStateFromProps;(m=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==_||w!==h)&&Gw(e,a,r,h),Zi=!1,w=e.memoizedState,a.state=w,of(e,r,a,i);var S=e.memoizedState;u!==_||w!==S||En.current||Zi?(typeof P=="function"&&(Yg(e,n,P,r),S=e.memoizedState),(f=Zi||qw(e,n,f,r,w,S,h)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),a.props=r,a.state=S,a.context=h,r=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return t_(t,e,n,r,o,i)}function t_(t,e,n,r,i,o){IP(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Bw(e,n,!1),Ti(t,e,o);r=e.stateNode,Jk.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ga(e,t.child,null,o),e.child=Ga(e,null,u,o)):hn(t,e,u,o),e.memoizedState=r.state,i&&Bw(e,n,!0),e.child}function xP(t){var e=t.stateNode;e.pendingContext?jw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jw(t,e.context,!1),ky(t,e.containerInfo)}function rE(t,e,n,r,i){return qa(),Iy(i),e.flags|=256,hn(t,e,n,r),e.child}var n_={dehydrated:null,treeContext:null,retryLane:0};function r_(t){return{baseLanes:t,cachePool:null,transitions:null}}function CP(t,e,n){var r=e.pendingProps,i=it.current,o=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(it,i&1),t===null)return Zg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Jf(a,r,0,null),t=io(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=r_(n),e.memoizedState=n_,t):Uy(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return eO(t,e,a,r,u,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,u=i.sibling;var h={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=fs(i,h),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=fs(u,o):(o=io(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?r_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=n_,r}return o=t.child,t=o.sibling,r=fs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uy(t,e){return e=Jf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,n,r){return r!==null&&Iy(r),Ga(e,t.child,null,n),t=Uy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eO(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Hm(Error(J(422))),ed(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Jf({mode:"visible",children:r.children},i,0,null),o=io(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ga(e,t.child,null,a),e.child.memoizedState=r_(a),e.memoizedState=n_,o);if(!(e.mode&1))return ed(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(J(419)),r=Hm(o,r,void 0),ed(t,e,a,r)}if(u=(a&t.childLanes)!==0,wn||u){if(r=Ft,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ei(t,i),Tr(r,t,i,-1))}return Wy(),r=Hm(Error(J(421))),ed(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fO.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nn=us(i.nextSibling),Vn=e,tt=!0,vr=null,t!==null&&(Yn[Xn++]=hi,Yn[Xn++]=di,Yn[Xn++]=co,hi=t.id,di=t.overflow,co=e),e=Uy(e,r.children),e.flags|=4096,e)}function iE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qg(t.return,e,n)}function Wm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function bP(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(hn(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iE(t,n,e);else if(t.tag===19)iE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&af(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&af(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wm(e,!0,n,null,o);break;case"together":Wm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tO(t,e,n){switch(e.tag){case 3:xP(e),qa();break;case 5:tP(e);break;case 1:Tn(e.type)&&ef(e);break;case 4:ky(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(rf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?CP(t,e,n):(Ge(it,it.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);Ge(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,PP(t,e,n)}return Ti(t,e,n)}var AP,i_,RP,kP;AP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i_=function(){};RP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Js(Br.current);var o=null;switch(n){case"input":i=xg(t,i),r=xg(t,r),o=[];break;case"select":i=at({},i,{value:void 0}),r=at({},r,{value:void 0}),o=[];break;case"textarea":i=Ag(t,i),r=Ag(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xd)}kg(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Zu.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var h=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Zu.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Ze("scroll",t),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};kP=function(t,e,n,r){n!==r&&(e.flags|=4)};function pu(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nO(t,e,n){var r=e.pendingProps;switch(Py(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Tn(e.type)&&Jd(),Yt(e),null;case 3:return r=e.stateNode,Ka(),Qe(En),Qe(sn),Ly(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vr!==null&&(d_(vr),vr=null))),i_(t,e),Yt(e),null;case 5:Oy(e);var i=Js(ac.current);if(n=e.type,t!==null&&e.stateNode!=null)RP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yt(e),null}if(t=Js(Br.current),Xh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Fr]=e,r[sc]=o,t=(e.mode&1)!==0,n){case"dialog":Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":case"embed":Ze("load",r);break;case"video":case"audio":for(i=0;i<xu.length;i++)Ze(xu[i],r);break;case"source":Ze("error",r);break;case"img":case"image":case"link":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"input":fw(r,o),Ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ze("invalid",r);break;case"textarea":mw(r,o),Ze("invalid",r)}kg(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Yh(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Yh(r.textContent,u,t),i=["children",""+u]):Zu.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ze("scroll",r)}switch(n){case"input":$h(r),pw(r,o,!0);break;case"textarea":$h(r),gw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Fr]=e,t[sc]=r,AP(t,e,!1,!1),e.stateNode=t;e:{switch(a=Og(n,r),n){case"dialog":Ze("cancel",t),Ze("close",t),i=r;break;case"iframe":case"object":case"embed":Ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<xu.length;i++)Ze(xu[i],t);i=r;break;case"source":Ze("error",t),i=r;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=r;break;case"details":Ze("toggle",t),i=r;break;case"input":fw(t,r),i=xg(t,r),Ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=at({},r,{value:void 0}),Ze("invalid",t);break;case"textarea":mw(t,r),i=Ag(t,r),Ze("invalid",t);break;default:i=r}kg(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?aS(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&sS(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Qu(t,h):typeof h=="number"&&Qu(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zu.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Ze("scroll",t):h!=null&&uy(t,o,h,a))}switch(n){case"input":$h(t),pw(t,r,!1);break;case"textarea":$h(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Oa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)kP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Js(ac.current),Js(Br.current),Xh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fr]=e,(o=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:Yh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Qe(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Nn!==null&&e.mode&1&&!(e.flags&128))KS(),qa(),e.flags|=98560,o=!1;else if(o=Xh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Fr]=e}else qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else vr!==null&&(d_(vr),vr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?kt===0&&(kt=3):Wy())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Ka(),i_(t,e),t===null&&rc(e.stateNode.containerInfo),Yt(e),null;case 10:return by(e.type._context),Yt(e),null;case 17:return Tn(e.type)&&Jd(),Yt(e),null;case 19:if(Qe(it),o=e.memoizedState,o===null)return Yt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)pu(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=af(t),a!==null){for(e.flags|=128,pu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(it,it.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>Qa&&(e.flags|=128,r=!0,pu(o,!1),e.lanes=4194304)}else{if(!r)if(t=af(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!tt)return Yt(e),null}else 2*_t()-o.renderingStartTime>Qa&&n!==1073741824&&(e.flags|=128,r=!0,pu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=it.current,Ge(it,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Hy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function rO(t,e){switch(Py(e),e.tag){case 1:return Tn(e.type)&&Jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ka(),Qe(En),Qe(sn),Ly(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oy(e),null;case 13:if(Qe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(it),null;case 4:return Ka(),null;case 10:return by(e.type._context),null;case 22:case 23:return Hy(),null;case 24:return null;default:return null}}var td=!1,tn=!1,iO=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ra(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function s_(t,e,n){try{n()}catch(r){dt(t,e,r)}}var sE=!1;function sO(t,e){if(zg=Zd,t=MS(),Ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,h=-1,f=0,m=0,_=t,w=null;t:for(;;){for(var P;_!==n||i!==0&&_.nodeType!==3||(u=a+i),_!==o||r!==0&&_.nodeType!==3||(h=a+r),_.nodeType===3&&(a+=_.nodeValue.length),(P=_.firstChild)!==null;)w=_,_=P;for(;;){if(_===t)break t;if(w===n&&++f===i&&(u=a),w===o&&++m===r&&(h=a),(P=_.nextSibling)!==null)break;_=w,w=_.parentNode}_=P}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for($g={focusedElem:t,selectionRange:n},Zd=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,N=S.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?E:_r(e.type,E),N);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){dt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return S=sE,sE=!1,S}function Uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&s_(e,n,o)}i=i.next}while(i!==r)}}function Yf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OP(t){var e=t.alternate;e!==null&&(t.alternate=null,OP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fr],delete e[sc],delete e[qg],delete e[Bk],delete e[zk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LP(t){return t.tag===5||t.tag===3||t.tag===4}function oE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xd));else if(r!==4&&(t=t.child,t!==null))for(a_(t,e,n),t=t.sibling;t!==null;)a_(t,e,n),t=t.sibling}function l_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l_(t,e,n),t=t.sibling;t!==null;)l_(t,e,n),t=t.sibling}var Bt=null,yr=!1;function Hi(t,e,n){for(n=n.child;n!==null;)NP(t,e,n),n=n.sibling}function NP(t,e,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount($f,n)}catch{}switch(n.tag){case 5:tn||Ra(n,e);case 6:var r=Bt,i=yr;Bt=null,Hi(t,e,n),Bt=r,yr=i,Bt!==null&&(yr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(yr?(t=Bt,n=n.stateNode,t.nodeType===8?Fm(t.parentNode,n):t.nodeType===1&&Fm(t,n),ec(t)):Fm(Bt,n.stateNode));break;case 4:r=Bt,i=yr,Bt=n.stateNode.containerInfo,yr=!0,Hi(t,e,n),Bt=r,yr=i;break;case 0:case 11:case 14:case 15:if(!tn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&s_(n,e,a),i=i.next}while(i!==r)}Hi(t,e,n);break;case 1:if(!tn&&(Ra(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){dt(n,e,u)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(tn=(r=tn)||n.memoizedState!==null,Hi(t,e,n),tn=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function aE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new iO),e.forEach(function(r){var i=pO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:Bt=u.stateNode,yr=!1;break e;case 3:Bt=u.stateNode.containerInfo,yr=!0;break e;case 4:Bt=u.stateNode.containerInfo,yr=!0;break e}u=u.return}if(Bt===null)throw Error(J(160));NP(o,a,i),Bt=null,yr=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(f){dt(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MP(e,t),e=e.sibling}function MP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Nr(t),r&4){try{Uu(3,t,t.return),Yf(3,t)}catch(E){dt(t,t.return,E)}try{Uu(5,t,t.return)}catch(E){dt(t,t.return,E)}}break;case 1:gr(e,t),Nr(t),r&512&&n!==null&&Ra(n,n.return);break;case 5:if(gr(e,t),Nr(t),r&512&&n!==null&&Ra(n,n.return),t.flags&32){var i=t.stateNode;try{Qu(i,"")}catch(E){dt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,u=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&nS(i,o),Og(u,a);var f=Og(u,o);for(a=0;a<h.length;a+=2){var m=h[a],_=h[a+1];m==="style"?aS(i,_):m==="dangerouslySetInnerHTML"?sS(i,_):m==="children"?Qu(i,_):uy(i,m,_,f)}switch(u){case"input":Cg(i,o);break;case"textarea":rS(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?Oa(i,!!o.multiple,P,!1):w!==!!o.multiple&&(o.defaultValue!=null?Oa(i,!!o.multiple,o.defaultValue,!0):Oa(i,!!o.multiple,o.multiple?[]:"",!1))}i[sc]=o}catch(E){dt(t,t.return,E)}}break;case 6:if(gr(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){dt(t,t.return,E)}}break;case 3:if(gr(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(E){dt(t,t.return,E)}break;case 4:gr(e,t),Nr(t);break;case 13:gr(e,t),Nr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(zy=_t())),r&4&&aE(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(tn=(f=tn)||m,gr(e,t),tn=f):gr(e,t),Nr(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(ie=t,m=t.child;m!==null;){for(_=ie=m;ie!==null;){switch(w=ie,P=w.child,w.tag){case 0:case 11:case 14:case 15:Uu(4,w,w.return);break;case 1:Ra(w,w.return);var S=w.stateNode;if(typeof S.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){dt(r,n,E)}}break;case 5:Ra(w,w.return);break;case 22:if(w.memoizedState!==null){uE(_);continue}}P!==null?(P.return=w,ie=P):uE(_)}m=m.sibling}e:for(m=null,_=t;;){if(_.tag===5){if(m===null){m=_;try{i=_.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=_.stateNode,h=_.memoizedProps.style,a=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=oS("display",a))}catch(E){dt(t,t.return,E)}}}else if(_.tag===6){if(m===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(E){dt(t,t.return,E)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;m===_&&(m=null),_=_.return}m===_&&(m=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:gr(e,t),Nr(t),r&4&&aE(t);break;case 21:break;default:gr(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LP(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qu(i,""),r.flags&=-33);var o=oE(t);l_(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=oE(t);a_(t,u,a);break;default:throw Error(J(161))}}catch(h){dt(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oO(t,e,n){ie=t,DP(t)}function DP(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||td;if(!a){var u=i.alternate,h=u!==null&&u.memoizedState!==null||tn;u=td;var f=tn;if(td=a,(tn=h)&&!f)for(ie=i;ie!==null;)a=ie,h=a.child,a.tag===22&&a.memoizedState!==null?cE(i):h!==null?(h.return=a,ie=h):cE(i);for(;o!==null;)ie=o,DP(o),o=o.sibling;ie=i,td=u,tn=f}lE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):lE(t)}}function lE(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:tn||Yf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!tn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ww(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ww(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var _=m.dehydrated;_!==null&&ec(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}tn||e.flags&512&&o_(e)}catch(w){dt(e,e.return,w)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function uE(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function cE(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yf(4,e)}catch(h){dt(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){dt(e,i,h)}}var o=e.return;try{o_(e)}catch(h){dt(e,o,h)}break;case 5:var a=e.return;try{o_(e)}catch(h){dt(e,a,h)}}}catch(h){dt(e,e.return,h)}if(e===t){ie=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ie=u;break}ie=e.return}}var aO=Math.ceil,cf=Ai.ReactCurrentDispatcher,jy=Ai.ReactCurrentOwner,tr=Ai.ReactCurrentBatchConfig,ke=0,Ft=null,xt=null,Wt=0,On=0,ka=xs(0),kt=0,hc=null,fo=0,Xf=0,By=0,ju=null,yn=null,zy=0,Qa=1/0,li=null,hf=!1,u_=null,hs=null,nd=!1,is=null,df=0,Bu=0,c_=null,Td=-1,Sd=0;function dn(){return ke&6?_t():Td!==-1?Td:Td=_t()}function ds(t){return t.mode&1?ke&2&&Wt!==0?Wt&-Wt:Hk.transition!==null?(Sd===0&&(Sd=vS()),Sd):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:xS(t.type)),t):1}function Tr(t,e,n,r){if(50<Bu)throw Bu=0,c_=null,Error(J(185));Rc(t,n,r),(!(ke&2)||t!==Ft)&&(t===Ft&&(!(ke&2)&&(Xf|=n),kt===4&&Yi(t,Wt)),Sn(t,r),n===1&&ke===0&&!(e.mode&1)&&(Qa=_t()+500,Kf&&Cs()))}function Sn(t,e){var n=t.callbackNode;HR(t,e);var r=Kd(t,t===Ft?Wt:0);if(r===0)n!==null&&vw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vw(n),e===1)t.tag===0?$k(hE.bind(null,t)):WS(hE.bind(null,t)),Uk(function(){!(ke&6)&&Cs()}),n=null;else{switch(wS(r)){case 1:n=py;break;case 4:n=_S;break;case 16:n=Gd;break;case 536870912:n=yS;break;default:n=Gd}n=HP(n,VP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VP(t,e){if(Td=-1,Sd=0,ke&6)throw Error(J(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=Kd(t,t===Ft?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ff(t,r);else{e=r;var i=ke;ke|=2;var o=UP();(Ft!==t||Wt!==e)&&(li=null,Qa=_t()+500,ro(t,e));do try{cO();break}catch(u){FP(t,u)}while(!0);Cy(),cf.current=o,ke=i,xt!==null?e=0:(Ft=null,Wt=0,e=kt)}if(e!==0){if(e===2&&(i=Vg(t),i!==0&&(r=i,e=h_(t,i))),e===1)throw n=hc,ro(t,0),Yi(t,r),Sn(t,_t()),n;if(e===6)Yi(t,r);else{if(i=t.current.alternate,!(r&30)&&!lO(i)&&(e=ff(t,r),e===2&&(o=Vg(t),o!==0&&(r=o,e=h_(t,o))),e===1))throw n=hc,ro(t,0),Yi(t,r),Sn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Ks(t,yn,li);break;case 3:if(Yi(t,r),(r&130023424)===r&&(e=zy+500-_t(),10<e)){if(Kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wg(Ks.bind(null,t,yn,li),e);break}Ks(t,yn,li);break;case 4:if(Yi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Er(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aO(r/1960))-r,10<r){t.timeoutHandle=Wg(Ks.bind(null,t,yn,li),r);break}Ks(t,yn,li);break;case 5:Ks(t,yn,li);break;default:throw Error(J(329))}}}return Sn(t,_t()),t.callbackNode===n?VP.bind(null,t):null}function h_(t,e){var n=ju;return t.current.memoizedState.isDehydrated&&(ro(t,e).flags|=256),t=ff(t,e),t!==2&&(e=yn,yn=n,e!==null&&d_(e)),t}function d_(t){yn===null?yn=t:yn.push.apply(yn,t)}function lO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ir(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yi(t,e){for(e&=~By,e&=~Xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function hE(t){if(ke&6)throw Error(J(327));Va();var e=Kd(t,0);if(!(e&1))return Sn(t,_t()),null;var n=ff(t,e);if(t.tag!==0&&n===2){var r=Vg(t);r!==0&&(e=r,n=h_(t,r))}if(n===1)throw n=hc,ro(t,0),Yi(t,e),Sn(t,_t()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ks(t,yn,li),Sn(t,_t()),null}function $y(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Qa=_t()+500,Kf&&Cs())}}function po(t){is!==null&&is.tag===0&&!(ke&6)&&Va();var e=ke;ke|=1;var n=tr.transition,r=Fe;try{if(tr.transition=null,Fe=1,t)return t()}finally{Fe=r,tr.transition=n,ke=e,!(ke&6)&&Cs()}}function Hy(){On=ka.current,Qe(ka)}function ro(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Fk(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(Py(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jd();break;case 3:Ka(),Qe(En),Qe(sn),Ly();break;case 5:Oy(r);break;case 4:Ka();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:by(r.type._context);break;case 22:case 23:Hy()}n=n.return}if(Ft=t,xt=t=fs(t.current,null),Wt=On=e,kt=0,hc=null,By=Xf=fo=0,yn=ju=null,Xs!==null){for(e=0;e<Xs.length;e++)if(n=Xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Xs=null}return t}function FP(t,e){do{var n=xt;try{if(Cy(),vd.current=uf,lf){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lf=!1}if(ho=0,Vt=Rt=st=null,Fu=!1,lc=0,jy.current=null,n===null||n.return===null){kt=1,hc=e,xt=null;break}e:{var o=t,a=n.return,u=n,h=e;if(e=Wt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,m=u,_=m.tag;if(!(m.mode&1)&&(_===0||_===11||_===15)){var w=m.alternate;w?(m.updateQueue=w.updateQueue,m.memoizedState=w.memoizedState,m.lanes=w.lanes):(m.updateQueue=null,m.memoizedState=null)}var P=Xw(a);if(P!==null){P.flags&=-257,Jw(P,a,u,o,e),P.mode&1&&Yw(o,f,e),e=P,h=f;var S=e.updateQueue;if(S===null){var E=new Set;E.add(h),e.updateQueue=E}else S.add(h);break e}else{if(!(e&1)){Yw(o,f,e),Wy();break e}h=Error(J(426))}}else if(tt&&u.mode&1){var N=Xw(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Jw(N,a,u,o,e),Iy(Za(h,u));break e}}o=h=Za(h,u),kt!==4&&(kt=2),ju===null?ju=[o]:ju.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=EP(o,h,e);Hw(o,b);break e;case 1:u=h;var x=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(hs===null||!hs.has(R)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=TP(o,u,e);Hw(o,B);break e}}o=o.return}while(o!==null)}BP(n)}catch(q){e=q,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function UP(){var t=cf.current;return cf.current=uf,t===null?uf:t}function Wy(){(kt===0||kt===3||kt===2)&&(kt=4),Ft===null||!(fo&268435455)&&!(Xf&268435455)||Yi(Ft,Wt)}function ff(t,e){var n=ke;ke|=2;var r=UP();(Ft!==t||Wt!==e)&&(li=null,ro(t,e));do try{uO();break}catch(i){FP(t,i)}while(!0);if(Cy(),ke=n,cf.current=r,xt!==null)throw Error(J(261));return Ft=null,Wt=0,kt}function uO(){for(;xt!==null;)jP(xt)}function cO(){for(;xt!==null&&!MR();)jP(xt)}function jP(t){var e=$P(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?BP(t):xt=e,jy.current=null}function BP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rO(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,xt=null;return}}else if(n=nO(n,e,On),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);kt===0&&(kt=5)}function Ks(t,e,n){var r=Fe,i=tr.transition;try{tr.transition=null,Fe=1,hO(t,e,n,r)}finally{tr.transition=i,Fe=r}return null}function hO(t,e,n,r){do Va();while(is!==null);if(ke&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(WR(t,o),t===Ft&&(xt=Ft=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nd||(nd=!0,HP(Gd,function(){return Va(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=tr.transition,tr.transition=null;var a=Fe;Fe=1;var u=ke;ke|=4,jy.current=null,sO(t,n),MP(n,t),kk($g),Zd=!!zg,$g=zg=null,t.current=n,oO(n),DR(),ke=u,Fe=a,tr.transition=o}else t.current=n;if(nd&&(nd=!1,is=t,df=i),o=t.pendingLanes,o===0&&(hs=null),UR(n.stateNode),Sn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hf)throw hf=!1,t=u_,u_=null,t;return df&1&&t.tag!==0&&Va(),o=t.pendingLanes,o&1?t===c_?Bu++:(Bu=0,c_=t):Bu=0,Cs(),null}function Va(){if(is!==null){var t=wS(df),e=tr.transition,n=Fe;try{if(tr.transition=null,Fe=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,df=0,ke&6)throw Error(J(331));var i=ke;for(ke|=4,ie=t.current;ie!==null;){var o=ie,a=o.child;if(ie.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(ie=f;ie!==null;){var m=ie;switch(m.tag){case 0:case 11:case 15:Uu(8,m,o)}var _=m.child;if(_!==null)_.return=m,ie=_;else for(;ie!==null;){m=ie;var w=m.sibling,P=m.return;if(OP(m),m===f){ie=null;break}if(w!==null){w.return=P,ie=w;break}ie=P}}}var S=o.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var N=E.sibling;E.sibling=null,E=N}while(E!==null)}}ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Uu(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,ie=b;break e}ie=o.return}}var x=t.current;for(ie=x;ie!==null;){a=ie;var R=a.child;if(a.subtreeFlags&2064&&R!==null)R.return=a,ie=R;else e:for(a=x;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Yf(9,u)}}catch(q){dt(u,u.return,q)}if(u===a){ie=null;break e}var B=u.sibling;if(B!==null){B.return=u.return,ie=B;break e}ie=u.return}}if(ke=i,Cs(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot($f,t)}catch{}r=!0}return r}finally{Fe=n,tr.transition=e}}return!1}function dE(t,e,n){e=Za(n,e),e=EP(t,e,1),t=cs(t,e,1),e=dn(),t!==null&&(Rc(t,1,e),Sn(t,e))}function dt(t,e,n){if(t.tag===3)dE(t,t,n);else for(;e!==null;){if(e.tag===3){dE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=Za(n,t),t=TP(e,t,1),e=cs(e,t,1),t=dn(),e!==null&&(Rc(e,1,t),Sn(e,t));break}}e=e.return}}function dO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Wt&n)===n&&(kt===4||kt===3&&(Wt&130023424)===Wt&&500>_t()-zy?ro(t,0):By|=n),Sn(t,e)}function zP(t,e){e===0&&(t.mode&1?(e=qh,qh<<=1,!(qh&130023424)&&(qh=4194304)):e=1);var n=dn();t=Ei(t,e),t!==null&&(Rc(t,e,n),Sn(t,n))}function fO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zP(t,n)}function pO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),zP(t,n)}var $P;$P=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,tO(t,e,n);wn=!!(t.flags&131072)}else wn=!1,tt&&e.flags&1048576&&qS(e,nf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ed(t,e),t=e.pendingProps;var i=Wa(e,sn.current);Da(e,n),i=My(null,e,r,t,i,n);var o=Dy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(o=!0,ef(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ry(e),i.updater=Zf,e.stateNode=i,i._reactInternals=e,Xg(e,r,t,n),e=t_(null,e,r,!0,o,n)):(e.tag=0,tt&&o&&Sy(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ed(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=gO(r),t=_r(r,t),i){case 0:e=e_(null,e,r,t,n);break e;case 1:e=nE(null,e,r,t,n);break e;case 11:e=eE(null,e,r,t,n);break e;case 14:e=tE(null,e,r,_r(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),e_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),nE(t,e,r,i,n);case 3:e:{if(xP(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,QS(t,e),of(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Za(Error(J(423)),e),e=rE(t,e,r,n,i);break e}else if(r!==i){i=Za(Error(J(424)),e),e=rE(t,e,r,n,i);break e}else for(Nn=us(e.stateNode.containerInfo.firstChild),Vn=e,tt=!0,vr=null,n=eP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qa(),r===i){e=Ti(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return tP(e),t===null&&Zg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Hg(r,i)?a=null:o!==null&&Hg(r,o)&&(e.flags|=32),IP(t,e),hn(t,e,a,n),e.child;case 6:return t===null&&Zg(e),null;case 13:return CP(t,e,n);case 4:return ky(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ga(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),eE(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ge(rf,r._currentValue),r._currentValue=a,o!==null)if(Ir(o.value,a)){if(o.children===i.children&&!En.current){e=Ti(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=gi(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?h.next=h:(h.next=m.next,m.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Qg(o.return,n,e),u.lanes|=n;break}h=h.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Qg(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Da(e,n),i=rr(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),tE(t,e,r,i,n);case 15:return SP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Ed(t,e),e.tag=1,Tn(r)?(t=!0,ef(e)):t=!1,Da(e,n),XS(e,r,i),Xg(e,r,i,n),t_(null,e,r,!0,t,n);case 19:return bP(t,e,n);case 22:return PP(t,e,n)}throw Error(J(156,e.tag))};function HP(t,e){return gS(t,e)}function mO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(t,e,n,r){return new mO(t,e,n,r)}function qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gO(t){if(typeof t=="function")return qy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hy)return 11;if(t===dy)return 14}return 2}function fs(t,e){var n=t.alternate;return n===null?(n=er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")qy(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ea:return io(n.children,i,o,e);case cy:a=8,i|=8;break;case Tg:return t=er(12,n,e,i|2),t.elementType=Tg,t.lanes=o,t;case Sg:return t=er(13,n,e,i),t.elementType=Sg,t.lanes=o,t;case Pg:return t=er(19,n,e,i),t.elementType=Pg,t.lanes=o,t;case J1:return Jf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y1:a=10;break e;case X1:a=9;break e;case hy:a=11;break e;case dy:a=14;break e;case Ki:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=er(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function io(t,e,n,r){return t=er(7,t,r,e),t.lanes=n,t}function Jf(t,e,n,r){return t=er(22,t,r,e),t.elementType=J1,t.lanes=n,t.stateNode={isHidden:!1},t}function qm(t,e,n){return t=er(6,t,null,e),t.lanes=n,t}function Gm(t,e,n){return e=er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _O(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gy(t,e,n,r,i,o,a,u,h){return t=new _O(t,e,n,u,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=er(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ry(o),t}function yO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WP(t){if(!t)return vs;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Tn(n))return HS(t,n,e)}return e}function qP(t,e,n,r,i,o,a,u,h){return t=Gy(n,r,!0,t,i,o,a,u,h),t.context=WP(null),n=t.current,r=dn(),i=ds(n),o=gi(r,i),o.callback=e??null,cs(n,o,i),t.current.lanes=i,Rc(t,i,r),Sn(t,r),t}function ep(t,e,n,r){var i=e.current,o=dn(),a=ds(i);return n=WP(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=cs(i,e,a),t!==null&&(Tr(t,i,a,o),yd(t,i,a)),a}function pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ky(t,e){fE(t,e),(t=t.alternate)&&fE(t,e)}function vO(){return null}var GP=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zy(t){this._internalRoot=t}tp.prototype.render=Zy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));ep(t,e,null,null)};tp.prototype.unmount=Zy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;po(function(){ep(null,t,null,null)}),e[wi]=null}};function tp(t){this._internalRoot=t}tp.prototype.unstable_scheduleHydration=function(t){if(t){var e=SS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&IS(t)}};function Qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function np(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pE(){}function wO(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=pf(a);o.call(f)}}var a=qP(e,r,t,0,null,!1,!1,"",pE);return t._reactRootContainer=a,t[wi]=a.current,rc(t.nodeType===8?t.parentNode:t),po(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=pf(h);u.call(f)}}var h=Gy(t,0,!1,null,null,!1,!1,"",pE);return t._reactRootContainer=h,t[wi]=h.current,rc(t.nodeType===8?t.parentNode:t),po(function(){ep(e,h,n,r)}),h}function rp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var u=i;i=function(){var h=pf(a);u.call(h)}}ep(e,a,t,i)}else a=wO(n,e,t,i,r);return pf(a)}ES=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Iu(e.pendingLanes);n!==0&&(my(e,n|1),Sn(e,_t()),!(ke&6)&&(Qa=_t()+500,Cs()))}break;case 13:po(function(){var r=Ei(t,1);if(r!==null){var i=dn();Tr(r,t,1,i)}}),Ky(t,1)}};gy=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=dn();Tr(e,t,134217728,n)}Ky(t,134217728)}};TS=function(t){if(t.tag===13){var e=ds(t),n=Ei(t,e);if(n!==null){var r=dn();Tr(n,t,e,r)}Ky(t,e)}};SS=function(){return Fe};PS=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Ng=function(t,e,n){switch(e){case"input":if(Cg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gf(r);if(!i)throw Error(J(90));tS(r),Cg(r,i)}}}break;case"textarea":rS(t,n);break;case"select":e=n.value,e!=null&&Oa(t,!!n.multiple,e,!1)}};cS=$y;hS=po;var EO={usingClientEntryPoint:!1,Events:[Oc,Ia,Gf,lS,uS,$y]},mu={findFiberByHostInstance:Ys,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TO={bundleType:mu.bundleType,version:mu.version,rendererPackageName:mu.rendererPackageName,rendererConfig:mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pS(t),t===null?null:t.stateNode},findFiberByHostInstance:mu.findFiberByHostInstance||vO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{$f=rd.inject(TO),jr=rd}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EO;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(e))throw Error(J(200));return yO(t,e,null,n)};jn.createRoot=function(t,e){if(!Qy(t))throw Error(J(299));var n=!1,r="",i=GP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gy(t,1,!1,null,null,n,!1,r,i),t[wi]=e.current,rc(t.nodeType===8?t.parentNode:t),new Zy(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=pS(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return po(t)};jn.hydrate=function(t,e,n){if(!np(e))throw Error(J(200));return rp(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!Qy(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=GP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=qP(e,null,t,1,n??null,i,!1,o,a),t[wi]=e.current,rc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new tp(e)};jn.render=function(t,e,n){if(!np(e))throw Error(J(200));return rp(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!np(t))throw Error(J(40));return t._reactRootContainer?(po(function(){rp(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};jn.unstable_batchedUpdates=$y;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!np(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return rp(t,e,n,!1,r)};jn.version="18.2.0-next-9e3b772b8-20220608";function KP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KP)}catch(t){console.error(t)}}KP(),q1.exports=jn;var ZP=q1.exports,mE=ZP;wg.createRoot=mE.createRoot,wg.hydrateRoot=mE.hydrateRoot;/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}var eo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(eo||(eo={}));const gE="popstate";function SO(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:u}=r.location;return f_("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mf(i)}return IO(e,n,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PO(){return Math.random().toString(36).substr(2,8)}function _E(t,e){return{usr:t.state,key:t.key,idx:e}}function f_(t,e,n,r){return n===void 0&&(n=null),dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nc(e):e,{state:n,key:e&&e.key||r||PO()})}function mf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function IO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,u=eo.Pop,h=null,f=m();f==null&&(f=0,a.replaceState(dc({},a.state,{idx:f}),""));function m(){return(a.state||{idx:null}).idx}function _(){u=eo.Pop;let N=m(),b=N==null?null:N-f;f=N,h&&h({action:u,location:E.location,delta:b})}function w(N,b){u=eo.Push;let x=f_(E.location,N,b);f=m()+1;let R=_E(x,f),B=E.createHref(x);try{a.pushState(R,"",B)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(B)}o&&h&&h({action:u,location:E.location,delta:1})}function P(N,b){u=eo.Replace;let x=f_(E.location,N,b);f=m();let R=_E(x,f),B=E.createHref(x);a.replaceState(R,"",B),o&&h&&h({action:u,location:E.location,delta:0})}function S(N){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof N=="string"?N:mf(N);return qt(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let E={get action(){return u},get location(){return t(i,a)},listen(N){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(gE,_),h=N,()=>{i.removeEventListener(gE,_),h=null}},createHref(N){return e(i,N)},createURL:S,encodeLocation(N){let b=S(N);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:w,replace:P,go(N){return a.go(N)}};return E}var yE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yE||(yE={}));function xO(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Nc(e):e,i=Xy(r.pathname||"/",n);if(i==null)return null;let o=QP(t);CO(o);let a=null;for(let u=0;a==null&&u<o.length;++u)a=DO(o[u],UO(i));return a}function QP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};h.relativePath.startsWith("/")&&(qt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=ps([r,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(qt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),QP(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:NO(f,o.index),routesMeta:m})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let h of YP(o.path))i(o,a,h)}),e}function YP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=YP(r.join("/")),u=[];return u.push(...a.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...a),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function CO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bO=/^:\w+$/,AO=3,RO=2,kO=1,OO=10,LO=-2,vE=t=>t==="*";function NO(t,e){let n=t.split("/"),r=n.length;return n.some(vE)&&(r+=LO),e&&(r+=RO),n.filter(i=>!vE(i)).reduce((i,o)=>i+(bO.test(o)?AO:o===""?kO:OO),r)}function MO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DO(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],h=a===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=VO({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f);if(!m)return null;Object.assign(r,m.params);let _=u.route;o.push({params:r,pathname:ps([i,m.pathname]),pathnameBase:HO(ps([i,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(i=ps([i,m.pathnameBase]))}return o}function VO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=FO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,m,_)=>{let{paramName:w,isOptional:P}=m;if(w==="*"){let E=u[_]||"";a=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const S=u[_];return P&&!S?f[w]=void 0:f[w]=jO(S||"",w),f},{}),pathname:o,pathnameBase:a,pattern:t}}function FO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function UO(t){try{return decodeURI(t)}catch(e){return Yy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jO(t,e){try{return decodeURIComponent(t)}catch(n){return Yy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Xy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nc(t):t;return{pathname:n?n.startsWith("/")?n:zO(n,e):e,search:WO(r),hash:qO(i)}}function zO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Km(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $O(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jy(t,e){let n=$O(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ev(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Nc(t):(i=dc({},t),qt(!i.pathname||!i.pathname.includes("?"),Km("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),Km("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),Km("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,u;if(a==null)u=n;else{let _=e.length-1;if(!r&&a.startsWith("..")){let w=a.split("/");for(;w[0]==="..";)w.shift(),_-=1;i.pathname=w.join("/")}u=_>=0?e[_]:"/"}let h=BO(i,u),f=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const ps=t=>t.join("/").replace(/\/\/+/g,"/"),HO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XP=["post","put","patch","delete"];new Set(XP);const KO=["get",...XP];new Set(KO);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}const tv=j.createContext(null),ZO=j.createContext(null),bs=j.createContext(null),nv=j.createContext(null),Ri=j.createContext({outlet:null,matches:[],isDataRoute:!1}),JP=j.createContext(null);function QO(t,e){let{relative:n}=e===void 0?{}:e;fl()||qt(!1);let{basename:r,navigator:i}=j.useContext(bs),{hash:o,pathname:a,search:u}=tI(t,{relative:n}),h=a;return r!=="/"&&(h=a==="/"?r:ps([r,a])),i.createHref({pathname:h,search:u,hash:o})}function fl(){return j.useContext(nv)!=null}function pl(){return fl()||qt(!1),j.useContext(nv).location}function eI(t){j.useContext(bs).static||j.useLayoutEffect(t)}function ml(){let{isDataRoute:t}=j.useContext(Ri);return t?cL():YO()}function YO(){fl()||qt(!1);let t=j.useContext(tv),{basename:e,future:n,navigator:r}=j.useContext(bs),{matches:i}=j.useContext(Ri),{pathname:o}=pl(),a=JSON.stringify(Jy(i,n.v7_relativeSplatPath)),u=j.useRef(!1);return eI(()=>{u.current=!0}),j.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let _=ev(f,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ps([e,_.pathname])),(m.replace?r.replace:r.push)(_,m.state,m)},[e,r,a,o,t])}function XO(){let{matches:t}=j.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function tI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(bs),{matches:i}=j.useContext(Ri),{pathname:o}=pl(),a=JSON.stringify(Jy(i,r.v7_relativeSplatPath));return j.useMemo(()=>ev(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function JO(t,e){return eL(t)}function eL(t,e,n,r){fl()||qt(!1);let{navigator:i}=j.useContext(bs),{matches:o}=j.useContext(Ri),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let h=a?a.pathnameBase:"/";a&&a.route;let f=pl(),m;m=f;let _=m.pathname||"/",w=h==="/"?_:_.slice(h.length)||"/",P=xO(t,{pathname:w});return sL(P&&P.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:ps([h,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:ps([h,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r)}function tL(){let t=uL(),e=GO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const nL=j.createElement(tL,null);class rL extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Ri.Provider,{value:this.props.routeContext},j.createElement(JP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iL(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(tv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Ri.Provider,{value:e},r)}function sL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id]));m>=0||qt(!1),a=a.slice(0,Math.min(a.length,m+1))}let h=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let _=a[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=m),_.route.id){let{loaderData:w,errors:P}=n,S=_.route.loader&&w[_.route.id]===void 0&&(!P||P[_.route.id]===void 0);if(_.route.lazy||S){h=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,_,w)=>{let P,S=!1,E=null,N=null;n&&(P=u&&_.route.id?u[_.route.id]:void 0,E=_.route.errorElement||nL,h&&(f<0&&w===0?(hL("route-fallback"),S=!0,N=null):f===w&&(S=!0,N=_.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,w+1)),x=()=>{let R;return P?R=E:S?R=N:_.route.Component?R=j.createElement(_.route.Component,null):_.route.element?R=_.route.element:R=m,j.createElement(iL,{match:_,routeContext:{outlet:m,matches:b,isDataRoute:n!=null},children:R})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?j.createElement(rL,{location:n.location,revalidation:n.revalidation,component:E,error:P,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var nI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nI||{}),_f=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_f||{});function oL(t){let e=j.useContext(tv);return e||qt(!1),e}function aL(t){let e=j.useContext(ZO);return e||qt(!1),e}function lL(t){let e=j.useContext(Ri);return e||qt(!1),e}function rI(t){let e=lL(),n=e.matches[e.matches.length-1];return n.route.id||qt(!1),n.route.id}function uL(){var t;let e=j.useContext(JP),n=aL(_f.UseRouteError),r=rI(_f.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cL(){let{router:t}=oL(nI.UseNavigateStable),e=rI(_f.UseNavigateStable),n=j.useRef(!1);return eI(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gf({fromRouteId:e},o)))},[t,e])}const wE={};function hL(t,e,n){wE[t]||(wE[t]=!0)}function rv(t){let{to:e,replace:n,state:r,relative:i}=t;fl()||qt(!1);let{future:o,static:a}=j.useContext(bs),{matches:u}=j.useContext(Ri),{pathname:h}=pl(),f=ml(),m=ev(e,Jy(u,o.v7_relativeSplatPath),h,i==="path"),_=JSON.stringify(m);return j.useEffect(()=>f(JSON.parse(_),{replace:n,state:r,relative:i}),[f,_,i,n,r]),null}function dL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=eo.Pop,navigator:o,static:a=!1,future:u}=t;fl()&&qt(!1);let h=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:h,navigator:o,static:a,future:gf({v7_relativeSplatPath:!1},u)}),[h,u,o,a]);typeof r=="string"&&(r=Nc(r));let{pathname:m="/",search:_="",hash:w="",state:P=null,key:S="default"}=r,E=j.useMemo(()=>{let N=Xy(m,h);return N==null?null:{location:{pathname:N,search:_,hash:w,state:P,key:S},navigationType:i}},[h,m,_,w,P,S,i]);return E==null?null:j.createElement(bs.Provider,{value:f},j.createElement(nv.Provider,{children:n,value:E}))}new Promise(()=>{});/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function fL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mL(t,e){return t.button===0&&(!e||e==="_self")&&!pL(t)}const gL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_L="startTransition",EE=$d[_L];function yL(t){let{basename:e,children:n,future:r,window:i}=t,o=j.useRef();o.current==null&&(o.current=SO({window:i,v5Compat:!0}));let a=o.current,[u,h]=j.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},m=j.useCallback(_=>{f&&EE?EE(()=>h(_)):h(_)},[h,f]);return j.useLayoutEffect(()=>a.listen(m),[a,m]),j.createElement(dL,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}const vL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:u,target:h,to:f,preventScrollReset:m,unstable_viewTransition:_}=e,w=fL(e,gL),{basename:P}=j.useContext(bs),S,E=!1;if(typeof f=="string"&&wL.test(f)&&(S=f,vL))try{let R=new URL(window.location.href),B=f.startsWith("//")?new URL(R.protocol+f):new URL(f),q=Xy(B.pathname,P);B.origin===R.origin&&q!=null?f=q+B.search+B.hash:E=!0}catch{}let N=QO(f,{relative:i}),b=EL(f,{replace:a,state:u,target:h,preventScrollReset:m,relative:i,unstable_viewTransition:_});function x(R){r&&r(R),R.defaultPrevented||b(R)}return j.createElement("a",p_({},w,{href:S||N,onClick:E||o?r:x,ref:n,target:h}))});var TE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TE||(TE={}));var SE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SE||(SE={}));function EL(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:u}=e===void 0?{}:e,h=ml(),f=pl(),m=tI(t,{relative:a});return j.useCallback(_=>{if(mL(_,n)){_.preventDefault();let w=r!==void 0?r:mf(f)===mf(m);h(t,{replace:w,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:u})}},[f,h,m,r,i,n,t,o,a,u])}var PE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],u=t[n++],h=((i&7)<<18|(o&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},sI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,u=a?t[i+1]:0,h=i+2<t.length,f=h?t[i+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let w=(u&15)<<2|f>>6,P=f&63;h||(P=64,a||(w=64)),r.push(n[m],n[_],n[w],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||_==null)throw new SL;const w=o<<2|u>>4;if(r.push(w),f!==64){const P=u<<4&240|f>>2;if(r.push(P),_!==64){const S=f<<6&192|_;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PL=function(t){const e=iI(t);return sI.encodeByteArray(e,!0)},yf=function(t){return PL(t).replace(/\./g,"")},oI=function(t){try{return sI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=()=>IL().__FIREBASE_DEFAULTS__,CL=()=>{if(typeof process>"u"||typeof PE>"u")return;const t=PE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oI(t[1]);return e&&JSON.parse(e)},ip=()=>{try{return xL()||CL()||bL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aI=t=>{var e,n;return(n=(e=ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lI=t=>{const e=aI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uI=()=>{var t;return(t=ip())===null||t===void 0?void 0:t.config},cI=t=>{var e;return(e=ip())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yf(JSON.stringify(n)),yf(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function kL(){var t;const e=(t=ip())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NL(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ML(){return!kL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DL(){try{return typeof indexedDB=="object"}catch{return!1}}function VL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="FirebaseError";class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FL,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?UL(o,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Zr(i,u,r)}}function UL(t,e){return t.replace(jL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const jL=/\{\$([^}]+)}/g;function BL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(IE(o)&&IE(a)){if(!Ya(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zL(t,e){const n=new $L(t,e);return n.subscribe.bind(n)}class $L{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zm),i.error===void 0&&(i.error=Zm),i.complete===void 0&&(i.complete=Zm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GL(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qL(t){return t===Zs?void 0:t}function GL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const ZL={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},QL=be.INFO,YL={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},XL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=YL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=QL,this._logHandler=XL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const JL=(t,e)=>e.some(n=>t instanceof n);let xE,CE;function eN(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tN(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dI=new WeakMap,m_=new WeakMap,fI=new WeakMap,Qm=new WeakMap,sv=new WeakMap;function nN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ms(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&dI.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function rN(t){if(m_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});m_.set(t,e)}let g_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return m_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iN(t){g_=t(g_)}function sN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ym(this),e,...n);return fI.set(r,e.sort?e.sort():[e]),ms(r)}:tN().includes(t)?function(...e){return t.apply(Ym(this),e),ms(dI.get(this))}:function(...e){return ms(t.apply(Ym(this),e))}}function oN(t){return typeof t=="function"?sN(t):(t instanceof IDBTransaction&&rN(t),JL(t,eN())?new Proxy(t,g_):t)}function ms(t){if(t instanceof IDBRequest)return nN(t);if(Qm.has(t))return Qm.get(t);const e=oN(t);return e!==t&&(Qm.set(t,e),sv.set(e,t)),e}const Ym=t=>sv.get(t);function aN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),u=ms(a);return r&&a.addEventListener("upgradeneeded",h=>{r(ms(a.result),h.oldVersion,h.newVersion,ms(a.transaction),h)}),n&&a.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const lN=["get","getKey","getAll","getAllKeys","count"],uN=["put","add","delete","clear"],Xm=new Map;function bE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xm.get(e))return Xm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lN.includes(n)))return;const o=async function(a,...u){const h=this.transaction(a,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&h.done]))[0]};return Xm.set(e,o),o}iN(t=>({...t,get:(e,n,r)=>bE(e,n)||t.get(e,n,r),has:(e,n)=>!!bE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const __="@firebase/app",AE="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new iv("@firebase/app"),dN="@firebase/app-compat",fN="@firebase/analytics-compat",pN="@firebase/analytics",mN="@firebase/app-check-compat",gN="@firebase/app-check",_N="@firebase/auth",yN="@firebase/auth-compat",vN="@firebase/database",wN="@firebase/database-compat",EN="@firebase/functions",TN="@firebase/functions-compat",SN="@firebase/installations",PN="@firebase/installations-compat",IN="@firebase/messaging",xN="@firebase/messaging-compat",CN="@firebase/performance",bN="@firebase/performance-compat",AN="@firebase/remote-config",RN="@firebase/remote-config-compat",kN="@firebase/storage",ON="@firebase/storage-compat",LN="@firebase/firestore",NN="@firebase/vertexai-preview",MN="@firebase/firestore-compat",DN="firebase",VN="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="[DEFAULT]",FN={[__]:"fire-core",[dN]:"fire-core-compat",[pN]:"fire-analytics",[fN]:"fire-analytics-compat",[gN]:"fire-app-check",[mN]:"fire-app-check-compat",[_N]:"fire-auth",[yN]:"fire-auth-compat",[vN]:"fire-rtdb",[wN]:"fire-rtdb-compat",[EN]:"fire-fn",[TN]:"fire-fn-compat",[SN]:"fire-iid",[PN]:"fire-iid-compat",[IN]:"fire-fcm",[xN]:"fire-fcm-compat",[CN]:"fire-perf",[bN]:"fire-perf-compat",[AN]:"fire-rc",[RN]:"fire-rc-compat",[kN]:"fire-gcs",[ON]:"fire-gcs-compat",[LN]:"fire-fst",[MN]:"fire-fst-compat",[NN]:"fire-vertex","fire-js":"fire-js",[DN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,UN=new Map,v_=new Map;function RE(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function go(t){const e=t.name;if(v_.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;v_.set(e,t);for(const n of vf.values())RE(n,t);for(const n of UN.values())RE(n,t);return!0}function sp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Mc("app","Firebase",jN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=VN;function pI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:y_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gs.create("bad-app-name",{appName:String(i)});if(n||(n=uI()),!n)throw gs.create("no-options");const o=vf.get(i);if(o){if(Ya(n,o.options)&&Ya(r,o.config))return o;throw gs.create("duplicate-app",{appName:i})}const a=new KL(i);for(const h of v_.values())a.addComponent(h);const u=new BN(n,r,a);return vf.set(i,u),u}function ov(t=y_){const e=vf.get(t);if(!e&&t===y_&&uI())return pI();if(!e)throw gs.create("no-app",{appName:t});return e}function zr(t,e,n){var r;let i=(r=FN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(u.join(" "));return}go(new ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="firebase-heartbeat-database",$N=1,fc="firebase-heartbeat-store";let Jm=null;function mI(){return Jm||(Jm=aN(zN,$N,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw gs.create("idb-open",{originalErrorMessage:t.message})})),Jm}async function HN(t){try{const n=(await mI()).transaction(fc),r=await n.objectStore(fc).get(gI(t));return await n.done,r}catch(e){if(e instanceof Zr)mo.warn(e.message);else{const n=gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(n.message)}}}async function kE(t,e){try{const r=(await mI()).transaction(fc,"readwrite");await r.objectStore(fc).put(e,gI(t)),await r.done}catch(n){if(n instanceof Zr)mo.warn(n.message);else{const r=gs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mo.warn(r.message)}}}function gI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=1024,qN=30*24*60*60*1e3;class GN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=qN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=OE(),{heartbeatsToSend:r,unsentEntries:i}=KN(this._heartbeatsCache.heartbeats),o=yf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function OE(){return new Date().toISOString().substring(0,10)}function KN(t,e=WN){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),LE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),LE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DL()?VL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function LE(t){return yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){go(new ws("platform-logger",e=>new cN(e),"PRIVATE")),go(new ws("heartbeat",e=>new GN(e),"PRIVATE")),zr(__,AE,t),zr(__,AE,"esm2017"),zr("fire-js","")}QN("");var YN="firebase",XN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(YN,XN,"app");function av(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _I(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=_I,yI=new Mc("auth","Firebase",_I());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new iv("@firebase/auth");function e2(t,...e){wf.logLevel<=be.WARN&&wf.warn(`Auth (${Co}): ${t}`,...e)}function Id(t,...e){wf.logLevel<=be.ERROR&&wf.error(`Auth (${Co}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw uv(t,...e)}function Sr(t,...e){return uv(t,...e)}function lv(t,e,n){const r=Object.assign(Object.assign({},JN()),{[e]:n});return new Mc("auth","Firebase",r).create(e,{appName:t.name})}function _i(t){return lv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(t,"argument-error"),lv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yI.create(t,...e)}function he(t,e,...n){if(!t)throw uv(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Id(e),new Error(e)}function Si(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function n2(){return NE()==="http:"||NE()==="https:"}function NE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n2()||OL()||"connection"in navigator)?navigator.onLine:!0}function i2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Si(n>e,"Short delay should be less than long delay!"),this.isMobile=RL()||LL()}get(){return r2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){Si(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Vc(3e4,6e4);function As(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ki(t,e,n,r,i={}){return wI(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const u=Dc(Object.assign({key:t.config.apiKey},a)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),vI.fetch()(EI(t,t.config.apiHost,n,u),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function wI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},s2),e);try{const i=new l2(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw id(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const u=o.ok?a.errorMessage:a.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw id(t,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw id(t,"email-already-in-use",a);if(h==="USER_DISABLED")throw id(t,"user-disabled",a);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw lv(t,m,f);sr(t,m)}}catch(i){if(i instanceof Zr)throw i;sr(t,"network-request-failed",{message:String(i)})}}async function Fc(t,e,n,r,i={}){const o=await ki(t,e,n,r,i);return"mfaPendingCredential"in o&&sr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function EI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cv(t.config,i):`${t.config.apiScheme}://${i}`}function a2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class l2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),o2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sr(t,e,r);return i.customData._tokenResponse=n,i}function ME(t){return t!==void 0&&t.enterprise!==void 0}class u2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return a2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function c2(t,e){return ki(t,"GET","/v2/recaptchaConfig",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e){return ki(t,"POST","/v1/accounts:delete",e)}async function TI(t,e){return ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function d2(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),i=hv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:zu(eg(i.auth_time)),issuedAtTime:zu(eg(i.iat)),expirationTime:zu(eg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function eg(t){return Number(t)*1e3}function hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Id("JWT malformed, contained fewer than 3 sections"),null;try{const i=oI(n);return i?JSON.parse(i):(Id("Failed to decode base64 JWT payload"),null)}catch(i){return Id("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DE(t){const e=hv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zr&&f2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xa(t,TI(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SI(o.providerUserInfo):[],u=g2(t.providerData,a),h=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),m=h?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new E_(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,_)}async function m2(t){const e=Ye(t);await Ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function g2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SI(t){return t.map(e=>{var{providerId:n}=e,r=av(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e){const n=await wI(t,{},async()=>{const r=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=EI(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",vI.fetch()(a,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y2(t,e){return ki(t,"POST","/v2/accounts:revokeToken",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=DE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await _2(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Fa;return r&&(he(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=av(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new E_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return d2(this,e)}reload(){return m2(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ef(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await Xa(this,h2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,u,h,f,m;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,P=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(u=n.tenantId)!==null&&u!==void 0?u:void 0,N=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,b=(f=n.createdAt)!==null&&f!==void 0?f:void 0,x=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:R,emailVerified:B,isAnonymous:q,providerData:K,stsTokenManager:k}=n;he(R&&k,e,"internal-error");const C=Fa.fromJSON(this.name,k);he(typeof R=="string",e,"internal-error"),Wi(_,e.name),Wi(w,e.name),he(typeof B=="boolean",e,"internal-error"),he(typeof q=="boolean",e,"internal-error"),Wi(P,e.name),Wi(S,e.name),Wi(E,e.name),Wi(N,e.name),Wi(b,e.name),Wi(x,e.name);const O=new pi({uid:R,auth:e,email:w,emailVerified:B,displayName:_,isAnonymous:q,photoURL:S,phoneNumber:P,tenantId:E,stsTokenManager:C,createdAt:b,lastLoginAt:x});return K&&Array.isArray(K)&&(O.providerData=K.map(M=>Object.assign({},M))),N&&(O._redirectEventId=N),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fa;i.updateFromServerResponse(n);const o=new pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ef(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?SI(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Fa;u.updateFromIdToken(r);const h=new pi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new E_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function mi(t){Si(t instanceof Function,"Expected a class definition");let e=VE.get(t);return e?(Si(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PI.type="NONE";const FE=PI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=xd(this.userKey,i.apiKey,o),this.fullPersistenceKey=xd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ua(mi(FE),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||mi(FE);const a=xd(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(a);if(m){const _=pi._fromJSON(e,m);f!==o&&(u=_),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ua(o,e,r):(o=h[0],u&&await o._set(a,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(a)}catch{}})),new Ua(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(II(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AI(e))return"Blackberry";if(RI(e))return"Webos";if(dv(e))return"Safari";if((e.includes("chrome/")||xI(e))&&!e.includes("edge/"))return"Chrome";if(bI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function II(t=Zt()){return/firefox\//i.test(t)}function dv(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xI(t=Zt()){return/crios\//i.test(t)}function CI(t=Zt()){return/iemobile/i.test(t)}function bI(t=Zt()){return/android/i.test(t)}function AI(t=Zt()){return/blackberry/i.test(t)}function RI(t=Zt()){return/webos/i.test(t)}function op(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v2(t=Zt()){var e;return op(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function w2(){return NL()&&document.documentMode===10}function kI(t=Zt()){return op(t)||bI(t)||RI(t)||AI(t)||/windows phone/i.test(t)||CI(t)}function E2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e=[]){let n;switch(t){case"Browser":n=UE(Zt());break;case"Worker":n=`${UE(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,u)=>{try{const h=e(o);a(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e={}){return ki(t,"GET","/v2/passwordPolicy",As(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=6;class I2{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:P2,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new T2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await TI(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ef(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(_i(this));const n=e?Ye(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S2(this),n=new I2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(u,this,"internal-error"),u.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,i);return()=>{a=!0,h()}}else{const h=e.addObserver(n);return()=>{a=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&e2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rs(t){return Ye(t)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zL(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C2(t){ap=t}function LI(t){return ap.loadJS(t)}function b2(){return ap.recaptchaEnterpriseScript}function A2(){return ap.gapiScript}function R2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const k2="recaptcha-enterprise",O2="NO_RECAPTCHA";class L2{constructor(e){this.type=k2,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,u)=>{c2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new u2(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(h=>{u(h)})})}function i(o,a,u){const h=window.grecaptcha;ME(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(O2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(u=>{if(!n&&ME(window.grecaptcha))i(u,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let h=b2();h.length!==0&&(h+=u),LI(h).then(()=>{i(u,o,a)}).catch(f=>{a(f)})}}).catch(u=>{a(u)})})}}async function BE(t,e,n,r=!1){const i=new L2(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function T_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await BE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await BE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t,e){const n=sp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ya(o,e??{}))return i;sr(i,"already-initialized")}return n.initialize({options:e})}function M2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D2(t,e,n){const r=Rs(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=NI(e),{host:a,port:u}=V2(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${a}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),F2()}function NI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V2(t){const e=NI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:zE(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:zE(a)}}}function zE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function U2(t,e){return ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){return Fc(t,"POST","/v1/accounts:signInWithPassword",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}async function z2(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends fv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,n,"signInWithPassword",j2);case"emailLink":return B2(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T_(e,r,"signUpPassword",U2);case"emailLink":return z2(e,{idToken:n,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return Fc(t,"POST","/v1/accounts:signInWithIdp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="http://localhost";class _o extends fv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=av(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new _o(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return ja(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ja(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ja(e,n)}buildRequest(){const e={requestUri:$2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W2(t){const e=Cu(bu(t)).link,n=e?Cu(bu(e)).deep_link_id:null,r=Cu(bu(t)).deep_link_id;return(r?Cu(bu(r)).link:null)||r||n||e||t}class pv{constructor(e){var n,r,i,o,a,u;const h=Cu(bu(e)),f=(n=h.apiKey)!==null&&n!==void 0?n:null,m=(r=h.oobCode)!==null&&r!==void 0?r:null,_=H2((i=h.mode)!==null&&i!==void 0?i:null);he(f&&m&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=m,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=h.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=W2(e);try{return new pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pv.parseLink(n);return he(r,"argument-error"),pc._fromEmailAndCode(e,r.code,r.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Uc{constructor(){super("facebook.com")}static credential(e){return _o._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _o._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Uc{constructor(){super("github.com")}static credential(e){return _o._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Uc{constructor(){super("twitter.com")}static credential(e,n){return _o._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e){return Fc(t,"POST","/v1/accounts:signUp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await pi._fromIdTokenResponse(e,r,i),a=$E(r);return new yo({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$E(r);return new yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $E(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends Zr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tf(e,n,r,i)}}function MI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tf._fromErrorAndOperation(t,o,e,r):o})}async function G2(t,e,n=!1){const r=await Xa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(t,e,n=!1){const{auth:r}=t;if(wr(r.app))return Promise.reject(_i(r));const i="reauthenticate";try{const o=await Xa(t,MI(r,i,e,t),n);he(o.idToken,r,"internal-error");const a=hv(o.idToken);he(a,r,"internal-error");const{sub:u}=a;return he(t.uid===u,r,"user-mismatch"),yo._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e,n=!1){if(wr(t.app))return Promise.reject(_i(t));const r="signIn",i=await MI(t,r,e),o=await yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Z2(t,e){return DI(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q2(t,e,n){if(wr(t.app))return Promise.reject(_i(t));const r=Rs(t),a=await T_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q2).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&VI(t),h}),u=await yo._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(u.user),u}function Y2(t,e,n){return wr(t.app)?Promise.reject(_i(t)):Z2(Ye(t),gl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(t,e){return ki(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ye(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Xa(r,X2(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function J2(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function eM(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function tM(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}const Sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){const t=Zt();return dv(t)||op(t)}const rM=1e3,iM=10;class jI extends UI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=nM()&&E2(),this.fallbackToPolling=kI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,u,h)=>{this.notifyListeners(a,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);w2()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jI.type="LOCAL";const sM=jI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends UI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BI.type="SESSION";const zI=BI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(a).map(async f=>f(n.origin,o)),h=await oM(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((u,h)=>{const f=gv("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(_){const w=_;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return window}function lM(t){$r().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}async function uM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hM(){return $I()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="firebaseLocalStorageDb",dM=1,Pf="firebaseLocalStorage",WI="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function up(t,e){return t.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function fM(){const t=indexedDB.deleteDatabase(HI);return new jc(t).toPromise()}function S_(){const t=indexedDB.open(HI,dM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pf,{keyPath:WI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),await fM(),e(await S_()))})})}async function HE(t,e,n){const r=up(t,!0).put({[WI]:e,value:n});return new jc(r).toPromise()}async function pM(t,e){const n=up(t,!1).get(e),r=await new jc(n).toPromise();return r===void 0?null:r.value}function WE(t,e){const n=up(t,!0).delete(e);return new jc(n).toPromise()}const mM=800,gM=3;class qI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await S_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $I()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(hM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uM(),!this.activeServiceWorker)return;this.sender=new aM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await S_();return await HE(e,Sf,"1"),await WE(e,Sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=up(i,!1).getAll();return new jc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qI.type="LOCAL";const _M=qI;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){return e?mi(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends fv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yM(t){return DI(t.auth,new _v(t),t.bypassAuthState)}function vM(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),K2(n,new _v(t),t.bypassAuthState)}async function wM(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),G2(n,new _v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:u}=e;if(a){this.reject(a);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yM;case"linkViaPopup":case"linkViaRedirect":return wM;case"reauthViaPopup":case"reauthViaRedirect":return vM;default:sr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new Vc(2e3,1e4);async function TM(t,e,n){if(wr(t.app))return Promise.reject(Sr(t,"operation-not-supported-in-this-environment"));const r=Rs(t);t2(t,e,mv);const i=GI(r,n);return new to(r,"signInViaPopup",e,i).executeNotNull()}class to extends KI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=gv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EM.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="pendingRedirect",Cd=new Map;class PM extends KI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await IM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IM(t,e){const n=bM(e),r=CM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xM(t,e){Cd.set(t._key(),e)}function CM(t){return mi(t._redirectPersistence)}function bM(t){return xd(SM,t.config.apiKey,t.name)}async function AM(t,e,n=!1){if(wr(t.app))return Promise.reject(_i(t));const r=Rs(t),i=GI(r,e),a=await new PM(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=10*60*1e3;class kM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RM&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e={}){return ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MM=/^https?/;async function DM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LM(t);for(const n of e)try{if(VM(n))return}catch{}sr(t,"unauthorized-domain")}function VM(t){const e=w_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!MM.test(n))return!1;if(NM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new Vc(3e4,6e4);function GE(){const t=$r().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UM(t){return new Promise((e,n)=>{var r,i,o;function a(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),n(Sr(t,"network-request-failed"))},timeout:FM.get()})}if(!((i=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$r().gapi)===null||o===void 0)&&o.load)a();else{const u=R2("iframefcb");return $r()[u]=()=>{gapi.load?a():n(Sr(t,"network-request-failed"))},LI(`${A2()}?onload=${u}`).catch(h=>n(h))}}).catch(e=>{throw bd=null,e})}let bd=null;function jM(t){return bd=bd||UM(t),bd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new Vc(5e3,15e3),zM="__/auth/iframe",$M="emulator/auth/iframe",HM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qM(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cv(e,$M):`https://${t.config.authDomain}/${zM}`,r={apiKey:e.apiKey,appName:t.name,v:Co},i=WM.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Dc(r).slice(1)}`}async function GM(t){const e=await jM(t),n=$r().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:qM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HM,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Sr(t,"network-request-failed"),u=$r().setTimeout(()=>{o(a)},BM.get());function h(){$r().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZM=500,QM=600,YM="_blank",XM="http://localhost";class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JM(t,e,n,r=ZM,i=QM){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},KM),{width:r.toString(),height:i.toString(),top:o,left:a}),f=Zt().toLowerCase();n&&(u=xI(f)?YM:n),II(f)&&(e=e||XM,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[P,S])=>`${w}${P}=${S},`,"");if(v2(f)&&u!=="_self")return eD(e||"",u),new KE(null);const _=window.open(e||"",u,m);he(_,t,"popup-blocked");try{_.focus()}catch{}return new KE(_)}function eD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="__/auth/handler",nD="emulator/auth/handler",rD=encodeURIComponent("fac");async function ZE(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Co,eventId:i};if(e instanceof mv){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",BL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,_]of Object.entries({}))a[m]=_}if(e instanceof Uc){const m=e.getScopes().filter(_=>_!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const u=a;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${rD}=${encodeURIComponent(h)}`:"";return`${iD(t)}?${Dc(u).slice(1)}${f}`}function iD({config:t}){return t.emulator?cv(t,nD):`https://${t.authDomain}/${tD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="webStorageSupport";class sD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zI,this._completeRedirectFn=AM,this._overrideRedirectResult=xM}async _openPopup(e,n,r,i){var o;Si((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await ZE(e,n,r,w_(),i);return JM(e,a,gv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await ZE(e,n,r,w_(),i);return lM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Si(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GM(e),r=new kM(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tg,{type:tg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[tg];a!==void 0&&n(!!a),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kI()||dv()||op()}}const oD=sD;var QE="@firebase/auth",YE="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uD(t){go(new ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;he(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OI(t)},f=new x2(r,i,o,h);return M2(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),go(new ws("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new aD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(QE,YE,lD(t)),zr(QE,YE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=5*60,hD=cI("authIdTokenMaxAge")||cD;let XE=null;const dD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hD)return;const i=n==null?void 0:n.token;XE!==i&&(XE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fD(t=ov()){const e=sp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=N2(t,{popupRedirectResolver:oD,persistence:[_M,sM,zI]}),r=cI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=dD(o.toString());eM(n,a,()=>a(n.currentUser)),J2(n,u=>a(u))}}const i=aI("auth");return i&&D2(n,`http://${i}`),n}function pD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}C2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Sr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",pD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uD("Browser");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,QI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function O(){}O.prototype=C.prototype,k.D=C.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(M,F,U){for(var D=Array(arguments.length-2),He=2;He<arguments.length;He++)D[He-2]=arguments[He];return C.prototype[F].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,O){O||(O=0);var M=Array(16);if(typeof C=="string")for(var F=0;16>F;++F)M[F]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(F=0;16>F;++F)M[F]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=k.g[0],O=k.g[1],F=k.g[2];var U=k.g[3],D=C+(U^O&(F^U))+M[0]+3614090360&4294967295;C=O+(D<<7&4294967295|D>>>25),D=U+(F^C&(O^F))+M[1]+3905402710&4294967295,U=C+(D<<12&4294967295|D>>>20),D=F+(O^U&(C^O))+M[2]+606105819&4294967295,F=U+(D<<17&4294967295|D>>>15),D=O+(C^F&(U^C))+M[3]+3250441966&4294967295,O=F+(D<<22&4294967295|D>>>10),D=C+(U^O&(F^U))+M[4]+4118548399&4294967295,C=O+(D<<7&4294967295|D>>>25),D=U+(F^C&(O^F))+M[5]+1200080426&4294967295,U=C+(D<<12&4294967295|D>>>20),D=F+(O^U&(C^O))+M[6]+2821735955&4294967295,F=U+(D<<17&4294967295|D>>>15),D=O+(C^F&(U^C))+M[7]+4249261313&4294967295,O=F+(D<<22&4294967295|D>>>10),D=C+(U^O&(F^U))+M[8]+1770035416&4294967295,C=O+(D<<7&4294967295|D>>>25),D=U+(F^C&(O^F))+M[9]+2336552879&4294967295,U=C+(D<<12&4294967295|D>>>20),D=F+(O^U&(C^O))+M[10]+4294925233&4294967295,F=U+(D<<17&4294967295|D>>>15),D=O+(C^F&(U^C))+M[11]+2304563134&4294967295,O=F+(D<<22&4294967295|D>>>10),D=C+(U^O&(F^U))+M[12]+1804603682&4294967295,C=O+(D<<7&4294967295|D>>>25),D=U+(F^C&(O^F))+M[13]+4254626195&4294967295,U=C+(D<<12&4294967295|D>>>20),D=F+(O^U&(C^O))+M[14]+2792965006&4294967295,F=U+(D<<17&4294967295|D>>>15),D=O+(C^F&(U^C))+M[15]+1236535329&4294967295,O=F+(D<<22&4294967295|D>>>10),D=C+(F^U&(O^F))+M[1]+4129170786&4294967295,C=O+(D<<5&4294967295|D>>>27),D=U+(O^F&(C^O))+M[6]+3225465664&4294967295,U=C+(D<<9&4294967295|D>>>23),D=F+(C^O&(U^C))+M[11]+643717713&4294967295,F=U+(D<<14&4294967295|D>>>18),D=O+(U^C&(F^U))+M[0]+3921069994&4294967295,O=F+(D<<20&4294967295|D>>>12),D=C+(F^U&(O^F))+M[5]+3593408605&4294967295,C=O+(D<<5&4294967295|D>>>27),D=U+(O^F&(C^O))+M[10]+38016083&4294967295,U=C+(D<<9&4294967295|D>>>23),D=F+(C^O&(U^C))+M[15]+3634488961&4294967295,F=U+(D<<14&4294967295|D>>>18),D=O+(U^C&(F^U))+M[4]+3889429448&4294967295,O=F+(D<<20&4294967295|D>>>12),D=C+(F^U&(O^F))+M[9]+568446438&4294967295,C=O+(D<<5&4294967295|D>>>27),D=U+(O^F&(C^O))+M[14]+3275163606&4294967295,U=C+(D<<9&4294967295|D>>>23),D=F+(C^O&(U^C))+M[3]+4107603335&4294967295,F=U+(D<<14&4294967295|D>>>18),D=O+(U^C&(F^U))+M[8]+1163531501&4294967295,O=F+(D<<20&4294967295|D>>>12),D=C+(F^U&(O^F))+M[13]+2850285829&4294967295,C=O+(D<<5&4294967295|D>>>27),D=U+(O^F&(C^O))+M[2]+4243563512&4294967295,U=C+(D<<9&4294967295|D>>>23),D=F+(C^O&(U^C))+M[7]+1735328473&4294967295,F=U+(D<<14&4294967295|D>>>18),D=O+(U^C&(F^U))+M[12]+2368359562&4294967295,O=F+(D<<20&4294967295|D>>>12),D=C+(O^F^U)+M[5]+4294588738&4294967295,C=O+(D<<4&4294967295|D>>>28),D=U+(C^O^F)+M[8]+2272392833&4294967295,U=C+(D<<11&4294967295|D>>>21),D=F+(U^C^O)+M[11]+1839030562&4294967295,F=U+(D<<16&4294967295|D>>>16),D=O+(F^U^C)+M[14]+4259657740&4294967295,O=F+(D<<23&4294967295|D>>>9),D=C+(O^F^U)+M[1]+2763975236&4294967295,C=O+(D<<4&4294967295|D>>>28),D=U+(C^O^F)+M[4]+1272893353&4294967295,U=C+(D<<11&4294967295|D>>>21),D=F+(U^C^O)+M[7]+4139469664&4294967295,F=U+(D<<16&4294967295|D>>>16),D=O+(F^U^C)+M[10]+3200236656&4294967295,O=F+(D<<23&4294967295|D>>>9),D=C+(O^F^U)+M[13]+681279174&4294967295,C=O+(D<<4&4294967295|D>>>28),D=U+(C^O^F)+M[0]+3936430074&4294967295,U=C+(D<<11&4294967295|D>>>21),D=F+(U^C^O)+M[3]+3572445317&4294967295,F=U+(D<<16&4294967295|D>>>16),D=O+(F^U^C)+M[6]+76029189&4294967295,O=F+(D<<23&4294967295|D>>>9),D=C+(O^F^U)+M[9]+3654602809&4294967295,C=O+(D<<4&4294967295|D>>>28),D=U+(C^O^F)+M[12]+3873151461&4294967295,U=C+(D<<11&4294967295|D>>>21),D=F+(U^C^O)+M[15]+530742520&4294967295,F=U+(D<<16&4294967295|D>>>16),D=O+(F^U^C)+M[2]+3299628645&4294967295,O=F+(D<<23&4294967295|D>>>9),D=C+(F^(O|~U))+M[0]+4096336452&4294967295,C=O+(D<<6&4294967295|D>>>26),D=U+(O^(C|~F))+M[7]+1126891415&4294967295,U=C+(D<<10&4294967295|D>>>22),D=F+(C^(U|~O))+M[14]+2878612391&4294967295,F=U+(D<<15&4294967295|D>>>17),D=O+(U^(F|~C))+M[5]+4237533241&4294967295,O=F+(D<<21&4294967295|D>>>11),D=C+(F^(O|~U))+M[12]+1700485571&4294967295,C=O+(D<<6&4294967295|D>>>26),D=U+(O^(C|~F))+M[3]+2399980690&4294967295,U=C+(D<<10&4294967295|D>>>22),D=F+(C^(U|~O))+M[10]+4293915773&4294967295,F=U+(D<<15&4294967295|D>>>17),D=O+(U^(F|~C))+M[1]+2240044497&4294967295,O=F+(D<<21&4294967295|D>>>11),D=C+(F^(O|~U))+M[8]+1873313359&4294967295,C=O+(D<<6&4294967295|D>>>26),D=U+(O^(C|~F))+M[15]+4264355552&4294967295,U=C+(D<<10&4294967295|D>>>22),D=F+(C^(U|~O))+M[6]+2734768916&4294967295,F=U+(D<<15&4294967295|D>>>17),D=O+(U^(F|~C))+M[13]+1309151649&4294967295,O=F+(D<<21&4294967295|D>>>11),D=C+(F^(O|~U))+M[4]+4149444226&4294967295,C=O+(D<<6&4294967295|D>>>26),D=U+(O^(C|~F))+M[11]+3174756917&4294967295,U=C+(D<<10&4294967295|D>>>22),D=F+(C^(U|~O))+M[2]+718787259&4294967295,F=U+(D<<15&4294967295|D>>>17),D=O+(U^(F|~C))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(F+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var O=C-this.blockSize,M=this.B,F=this.h,U=0;U<C;){if(F==0)for(;U<=O;)i(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<C;)if(M[F++]=k.charCodeAt(U++),F==this.blockSize){i(this,M),F=0;break}}else for(;U<C;)if(M[F++]=k[U++],F==this.blockSize){i(this,M),F=0;break}}this.h=F,this.o+=C},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var O=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=O&255,O/=256;for(this.u(k),k=Array(16),C=O=0;4>C;++C)for(var M=0;32>M;M+=8)k[O++]=this.g[C]>>>M&255;return k};function o(k,C){var O=u;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=C(k)}function a(k,C){this.h=C;for(var O=[],M=!0,F=k.length-1;0<=F;F--){var U=k[F]|0;M&&U==C||(O[F]=U,M=!1)}this.g=O}var u={};function h(k){return-128<=k&&128>k?o(k,function(C){return new a([C|0],0>C?-1:0)}):new a([k|0],0>k?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return N(f(-k));for(var C=[],O=1,M=0;k>=O;M++)C[M]=k/O|0,O*=4294967296;return new a(C,0)}function m(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return N(m(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(C,8)),M=_,F=0;F<k.length;F+=8){var U=Math.min(8,k.length-F),D=parseInt(k.substring(F,F+U),C);8>U?(U=f(Math.pow(C,U)),M=M.j(U).add(f(D))):(M=M.j(O),M=M.add(f(D)))}return M}var _=h(0),w=h(1),P=h(16777216);t=a.prototype,t.m=function(){if(E(this))return-N(this).m();for(var k=0,C=1,O=0;O<this.g.length;O++){var M=this.i(O);k+=(0<=M?M:4294967296+M)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(E(this))return"-"+N(this).toString(k);for(var C=f(Math.pow(k,6)),O=this,M="";;){var F=B(O,C).g;O=b(O,F.j(C));var U=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=F,S(O))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=b(this,k),E(k)?-1:S(k)?0:1};function N(k){for(var C=k.g.length,O=[],M=0;M<C;M++)O[M]=~k.g[M];return new a(O,~k.h).add(w)}t.abs=function(){return E(this)?N(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),O=[],M=0,F=0;F<=C;F++){var U=M+(this.i(F)&65535)+(k.i(F)&65535),D=(U>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);M=D>>>16,U&=65535,D&=65535,O[F]=D<<16|U}return new a(O,O[O.length-1]&-2147483648?-1:0)};function b(k,C){return k.add(N(C))}t.j=function(k){if(S(this)||S(k))return _;if(E(this))return E(k)?N(this).j(N(k)):N(N(this).j(k));if(E(k))return N(this.j(N(k)));if(0>this.l(P)&&0>k.l(P))return f(this.m()*k.m());for(var C=this.g.length+k.g.length,O=[],M=0;M<2*C;M++)O[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<k.g.length;F++){var U=this.i(M)>>>16,D=this.i(M)&65535,He=k.i(F)>>>16,cr=k.i(F)&65535;O[2*M+2*F]+=D*cr,x(O,2*M+2*F),O[2*M+2*F+1]+=U*cr,x(O,2*M+2*F+1),O[2*M+2*F+1]+=D*He,x(O,2*M+2*F+1),O[2*M+2*F+2]+=U*He,x(O,2*M+2*F+2)}for(M=0;M<C;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=C;M<2*C;M++)O[M]=0;return new a(O,0)};function x(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function R(k,C){this.g=k,this.h=C}function B(k,C){if(S(C))throw Error("division by zero");if(S(k))return new R(_,_);if(E(k))return C=B(N(k),C),new R(N(C.g),N(C.h));if(E(C))return C=B(k,N(C)),new R(N(C.g),C.h);if(30<k.g.length){if(E(k)||E(C))throw Error("slowDivide_ only works with positive integers.");for(var O=w,M=C;0>=M.l(k);)O=q(O),M=q(M);var F=K(O,1),U=K(M,1);for(M=K(M,2),O=K(O,2);!S(M);){var D=U.add(M);0>=D.l(k)&&(F=F.add(O),U=D),M=K(M,1),O=K(O,1)}return C=b(k,F.j(C)),new R(F,C)}for(F=_;0<=k.l(C);){for(O=Math.max(1,Math.floor(k.m()/C.m())),M=Math.ceil(Math.log(O)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=f(O),D=U.j(C);E(D)||0<D.l(k);)O-=M,U=f(O),D=U.j(C);S(U)&&(U=w),F=F.add(U),k=b(k,D)}return new R(F,k)}t.A=function(k){return B(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),O=[],M=0;M<C;M++)O[M]=this.i(M)&k.i(M);return new a(O,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),O=[],M=0;M<C;M++)O[M]=this.i(M)|k.i(M);return new a(O,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),O=[],M=0;M<C;M++)O[M]=this.i(M)^k.i(M);return new a(O,this.h^k.h)};function q(k){for(var C=k.g.length+1,O=[],M=0;M<C;M++)O[M]=k.i(M)<<1|k.i(M-1)>>>31;return new a(O,k.h)}function K(k,C){var O=C>>5;C%=32;for(var M=k.g.length-O,F=[],U=0;U<M;U++)F[U]=0<C?k.i(U+O)>>>C|k.i(U+O+1)<<32-C:k.i(U+O);return new a(F,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QI=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,so=a}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI,XI,Au,JI,Ad,P_,ex,tx,nx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var v=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in v))break e;v=v[z]}c=c[c.length-1],I=v[c],g=g(I),g!=I&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var v=0,I=!1,z={next:function(){if(!I&&v<c.length){var W=v++;return{value:g(W,c[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}i("Array.prototype.values",function(c){return c||function(){return o(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function h(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function f(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function m(c,g,v){return c.call.apply(c.bind,arguments)}function _(c,g,v){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function w(c,g,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,w.apply(null,arguments)}function P(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function S(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(I,z,W){for(var te=Array(arguments.length-2),De=2;De<arguments.length;De++)te[De-2]=arguments[De];return g.prototype[z].apply(I,te)}}function E(c){const g=c.length;if(0<g){const v=Array(g);for(let I=0;I<g;I++)v[I]=c[I];return v}return[]}function N(c,g){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(h(I)){const z=c.length||0,W=I.length||0;c.length=z+W;for(let te=0;te<W;te++)c[z+te]=I[te]}else c.push(I)}}class b{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(c){return/^[\s\xa0]*$/.test(c)}function R(){var c=u.navigator;return c&&(c=c.userAgent)?c:""}function B(c){return B[" "](c),c}B[" "]=function(){};var q=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function K(c,g,v){for(const I in c)g.call(v,c[I],I,c)}function k(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function C(c){const g={};for(const v in c)g[v]=c[v];return g}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let v,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(v in I)c[v]=I[v];for(let W=0;W<O.length;W++)v=O[W],Object.prototype.hasOwnProperty.call(I,v)&&(c[v]=I[v])}}function F(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function U(c){u.setTimeout(()=>{throw c},0)}function D(){var c=ce;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class He{constructor(){this.h=this.g=null}add(g,v){const I=cr.get();I.set(g,v),this.h?this.h.next=I:this.g=I,this.h=I}}var cr=new b(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let an,Z=!1,ce=new He,ee=()=>{const c=u.Promise.resolve(void 0);an=()=>{c.then(de)}};var de=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){U(v)}var g=cr;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Z=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};u.addEventListener("test",v,g),u.removeEventListener("test",v,g)}catch{}return c}();function Ee(c,g){if(Pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(q){e:{try{B(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}S(Ee,Pe);var me={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function sh(c,g,v,I,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!I,this.ha=z,this.key=++Ar,this.da=this.fa=!1}function Li(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ni(c){this.src=c,this.g={},this.h=0}Ni.prototype.add=function(c,g,v,I,z){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var te=Ls(c,g,I,z);return-1<te?(g=c[te],v||(g.fa=!1)):(g=new sh(g,this.src,W,!!I,z),g.fa=v,c.push(g)),g};function Qr(c,g){var v=g.type;if(v in c.g){var I=c.g[v],z=Array.prototype.indexOf.call(I,g,void 0),W;(W=0<=z)&&Array.prototype.splice.call(I,z,1),W&&(Li(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ls(c,g,v,I){for(var z=0;z<c.length;++z){var W=c[z];if(!W.da&&W.listener==g&&W.capture==!!v&&W.ha==I)return z}return-1}var xl="closure_lm_"+(1e6*Math.random()|0),Lo={};function Cl(c,g,v,I,z){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Cl(c,g[W],v,I,z);return null}return v=lh(v),c&&c[bt]?c.K(g,v,f(I)?!!I.capture:!!I,z):bl(c,g,v,!1,I,z)}function bl(c,g,v,I,z,W){if(!g)throw Error("Invalid event type");var te=f(z)?!!z.capture:!!z,De=Vo(c);if(De||(c[xl]=De=new Ni(c)),v=De.add(g,v,I,te,W),v.proxy)return v;if(I=No(),v.proxy=I,I.src=c,I.listener=v,c.addEventListener)Me||(z=te),z===void 0&&(z=!1),c.addEventListener(g.toString(),I,z);else if(c.attachEvent)c.attachEvent(Do(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function No(){function c(v){return g.call(c.src,c.listener,v)}const g=ah;return c}function oh(c,g,v,I,z){if(Array.isArray(g))for(var W=0;W<g.length;W++)oh(c,g[W],v,I,z);else I=f(I)?!!I.capture:!!I,v=lh(v),c&&c[bt]?(c=c.i,g=String(g).toString(),g in c.g&&(W=c.g[g],v=Ls(W,v,I,z),-1<v&&(Li(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[g],c.h--)))):c&&(c=Vo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ls(g,v,I,z)),(v=-1<c?g[c]:null)&&Mo(v))}function Mo(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[bt])Qr(g.i,c);else{var v=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(v,I,c.capture):g.detachEvent?g.detachEvent(Do(v),I):g.addListener&&g.removeListener&&g.removeListener(I),(v=Vo(g))?(Qr(v,c),v.h==0&&(v.src=null,g[xl]=null)):Li(c)}}}function Do(c){return c in Lo?Lo[c]:Lo[c]="on"+c}function ah(c,g){if(c.da)c=!0;else{g=new Ee(g,this);var v=c.listener,I=c.ha||c.src;c.fa&&Mo(c),c=v.call(I,g)}return c}function Vo(c){return c=c[xl],c instanceof Ni?c:null}var Al="__closure_events_fn_"+(1e9*Math.random()>>>0);function lh(c){return typeof c=="function"?c:(c[Al]||(c[Al]=function(g){return c.handleEvent(g)}),c[Al])}function wt(){ve.call(this),this.i=new Ni(this),this.M=this,this.F=null}S(wt,ve),wt.prototype[bt]=!0,wt.prototype.removeEventListener=function(c,g,v,I){oh(this,c,g,v,I)};function Lt(c,g){var v,I=c.F;if(I)for(v=[];I;I=I.F)v.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new Pe(g,c);else if(g instanceof Pe)g.target=g.target||c;else{var z=g;g=new Pe(I,c),M(g,z)}if(z=!0,v)for(var W=v.length-1;0<=W;W--){var te=g.g=v[W];z=Ns(te,I,!0,g)&&z}if(te=g.g=c,z=Ns(te,I,!0,g)&&z,z=Ns(te,I,!1,g)&&z,v)for(W=0;W<v.length;W++)te=g.g=v[W],z=Ns(te,I,!1,g)&&z}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],I=0;I<v.length;I++)Li(v[I]);delete c.g[g],c.h--}}this.F=null},wt.prototype.K=function(c,g,v,I){return this.i.add(String(c),g,!1,v,I)},wt.prototype.L=function(c,g,v,I){return this.i.add(String(c),g,!0,v,I)};function Ns(c,g,v,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,W=0;W<g.length;++W){var te=g[W];if(te&&!te.da&&te.capture==v){var De=te.listener,Et=te.ha||te.src;te.fa&&Qr(c.i,te),z=De.call(Et,I)!==!1&&z}}return z&&!I.defaultPrevented}function uh(c,g,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:u.setTimeout(c,g||0)}function Rl(c){c.g=uh(()=>{c.g=null,c.i&&(c.i=!1,Rl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ch extends ve{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Rl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ms(c){ve.call(this),this.h=c,this.g={}}S(Ms,ve);var kl=[];function Fo(c){K(c.g,function(g,v){this.g.hasOwnProperty(v)&&Mo(g)},c),c.g={}}Ms.prototype.N=function(){Ms.aa.N.call(this),Fo(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uo=u.JSON.stringify,pm=u.JSON.parse,Ds=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function Ol(){}Ol.prototype.h=null;function hh(c){return c.h||(c.h=c.i())}function Ll(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jo(){Pe.call(this,"d")}S(jo,Pe);function Nl(){Pe.call(this,"c")}S(Nl,Pe);var Yr={},dh=null;function Bo(){return dh=dh||new wt}Yr.La="serverreachability";function fh(c){Pe.call(this,Yr.La,c)}S(fh,Pe);function Vs(c){const g=Bo();Lt(g,new fh(g))}Yr.STAT_EVENT="statevent";function zo(c,g){Pe.call(this,Yr.STAT_EVENT,c),this.stat=g}S(zo,Pe);function jt(c){const g=Bo();Lt(g,new zo(g,c))}Yr.Ma="timingevent";function ph(c,g){Pe.call(this,Yr.Ma,c),this.size=g}S(ph,Pe);function Fs(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},g)}function Us(){this.g=!0}Us.prototype.xa=function(){this.g=!1};function $n(c,g,v,I,z,W){c.info(function(){if(c.g)if(W)for(var te="",De=W.split("&"),Et=0;Et<De.length;Et++){var Ae=De[Et].split("=");if(1<Ae.length){var $e=Ae[0];Ae=Ae[1];var rt=$e.split("_");te=2<=rt.length&&rt[1]=="type"?te+($e+"="+Ae+"&"):te+($e+"=redacted&")}}else te=null;else te=W;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+g+`
`+v+`
`+te})}function oe(c,g,v,I,z,W,te){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+g+`
`+v+`
`+W+" "+te})}function Xr(c,g,v,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+gh(c,v)+(I?" "+I:"")})}function mh(c,g){c.info(function(){return"TIMEOUT: "+g})}Us.prototype.info=function(){};function gh(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var I=v[c];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var W=z[0];if(W!="noop"&&W!="stop"&&W!="close")for(var te=1;te<z.length;te++)z[te]=""}}}}return Uo(v)}catch{return g}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$o={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ho;function hr(){}S(hr,Ol),hr.prototype.g=function(){return new XMLHttpRequest},hr.prototype.i=function(){return{}},Ho=new hr;function dr(c,g,v,I){this.j=c,this.i=g,this.l=v,this.R=I||1,this.U=new Ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _h}function _h(){this.i=null,this.g="",this.h=!1}var yh={},Ml={};function Dl(c,g,v){c.L=1,c.v=Wn(ut(g)),c.m=v,c.P=!0,Vl(c,null)}function Vl(c,g){c.F=Date.now(),qo(c),c.A=ut(c.v);var v=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Eh(v.i,"t",I),c.C=0,v=c.j.J,c.h=new _h,c.g=bh(c.j,v?g:null,!c.m),0<c.O&&(c.M=new ch(w(c.Y,c,c.g),c.O)),g=c.U,v=c.g,I=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(kl[0]=z.toString()),z=kl);for(var W=0;W<z.length;W++){var te=Cl(v,z[W],I||g.handleEvent,!1,g.h||g);if(!te)break;g.g[te.key]=te}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Vs(),$n(c.i,c.u,c.A,c.l,c.R,c.m)}dr.prototype.ca=function(c){c=c.target;const g=this.M;g&&ln(c)==3?g.j():this.Y(c)},dr.prototype.Y=function(c){try{if(c==this.g)e:{const rt=ln(this.g);var g=this.g.Ba();const zi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||rt!=4||g==7||(g==8||0>=zi?Vs(3):Vs(2)),Fl(this);var v=this.g.Z();this.X=v;t:if(vh(this)){var I=Jl(this.g);c="";var z=I.length,W=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Bs(this);var te="";break t}this.h.i=new u.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(W&&g==z-1)});I.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,oe(this.i,this.u,this.A,this.l,this.R,rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var De,Et=this.g;if((De=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(De)){var Ae=De;break t}}Ae=null}if(v=Ae)Xr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,v);else{this.o=!1,this.s=3,jt(12),Jr(this),Bs(this);break e}}if(this.P){v=!0;let gt;for(;!this.J&&this.C<te.length;)if(gt=Wo(this,te),gt==Ml){rt==4&&(this.s=4,jt(14),v=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==yh){this.s=4,jt(15),Xr(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else Xr(this.i,this.l,gt,null),zs(this,gt);if(vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||te.length!=0||this.h.h||(this.s=1,jt(16),v=!1),this.o=this.o&&v,!v)Xr(this.i,this.l,te,"[Invalid Chunked Response]"),Jr(this),Bs(this);else if(0<te.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ta($e),$e.M=!0,jt(11))}}else Xr(this.i,this.l,te,null),zs(this,te);rt==4&&Jr(this),this.o&&!this.J&&(rt==4?tu(this.j,this):(this.o=!1,qo(this)))}else mm(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Jr(this),Bs(this)}}}catch{}finally{}};function vh(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Wo(c,g){var v=c.C,I=g.indexOf(`
`,v);return I==-1?Ml:(v=Number(g.substring(v,I)),isNaN(v)?yh:(I+=1,I+v>g.length?Ml:(g=g.slice(I,I+v),c.C=I+v,g)))}dr.prototype.cancel=function(){this.J=!0,Jr(this)};function qo(c){c.S=Date.now()+c.I,wh(c,c.I)}function wh(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fs(w(c.ba,c),g)}function Fl(c){c.B&&(u.clearTimeout(c.B),c.B=null)}dr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(mh(this.i,this.A),this.L!=2&&(Vs(),jt(17)),Jr(this),this.s=2,Bs(this)):wh(this,this.S-c)};function Bs(c){c.j.G==0||c.J||tu(c.j,c)}function Jr(c){Fl(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fo(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function zs(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Ie(v.h,c))){if(!c.K&&Ie(v.h,c)&&v.G==3){try{var I=v.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ra(v),Jo(v);else break e;ea(v),jt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Fs(w(v.Za,v),6e3));if(1>=Di(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ii(v,11)}else if((c.K||v.g==c)&&ra(v),!x(g))for(z=v.Da.g.parse(g),g=0;g<z.length;g++){let Ae=z[g];if(v.T=Ae[0],Ae=Ae[1],v.G==2)if(Ae[0]=="c"){v.K=Ae[1],v.ia=Ae[2];const $e=Ae[3];$e!=null&&(v.la=$e,v.j.info("VER="+v.la));const rt=Ae[4];rt!=null&&(v.Aa=rt,v.j.info("SVER="+v.Aa));const zi=Ae[5];zi!=null&&typeof zi=="number"&&0<zi&&(I=1.5*zi,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const gt=c.g;if(gt){const sa=gt.g?gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sa){var W=I.h;W.g||sa.indexOf("spdy")==-1&&sa.indexOf("quic")==-1&&sa.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(We(W,W.h),W.h=null))}if(I.D){const Or=gt.g?gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Or&&(I.ya=Or,fe(I.I,I.D,Or))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var te=c;if(I.qa=ia(I,I.J?I.ia:null,I.W),te.K){Hs(I.h,te);var De=te,Et=I.L;Et&&(De.I=Et),De.B&&(Fl(De),qo(De)),I.g=te}else mr(I);0<v.i.length&&Bi(v)}else Ae[0]!="stop"&&Ae[0]!="close"||ii(v,7);else v.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?ii(v,7):Xo(v):Ae[0]!="noop"&&v.l&&v.l.ta(Ae),v.v=0)}}Vs(4)}catch{}}var $s=class{constructor(c,g){this.g=c,this.map=g}};function Ul(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Di(c){return c.h?1:c.g?c.g.size:0}function Ie(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function We(c,g){c.g?c.g.add(g):c.h=g}function Hs(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ul.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ei(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return E(c.i)}function Vi(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(h(c)){for(var g=[],v=c.length,I=0;I<v;I++)g.push(c[I]);return g}g=[],v=0;for(I in c)g[v++]=c[I];return g}function Bl(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(h(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const I in c)g[v++]=I;return g}}}function _e(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(h(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Bl(c),I=Vi(c),z=I.length,W=0;W<z;W++)g.call(void 0,I[W],v&&v[W],c)}var Xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zl(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var I=c[v].indexOf("="),z=null;if(0<=I){var W=c[v].substring(0,I);z=c[v].substring(I+1)}else W=c[v];g(W,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Hn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Hn){this.h=c.h,Go(this,c.j),this.o=c.o,this.g=c.g,ti(this,c.s),this.l=c.l;var g=c.i,v=new ni;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Rr(this,v),this.m=c.m}else c&&(g=String(c).match(Xe))?(this.h=!1,Go(this,g[1]||"",!0),this.o=fr(g[2]||""),this.g=fr(g[3]||"",!0),ti(this,g[4]),this.l=fr(g[5]||"",!0),Rr(this,g[6]||"",!0),this.m=fr(g[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}Hn.prototype.toString=function(){var c=[],g=this.j;g&&c.push(pr(g,Fi,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(pr(g,Fi,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(pr(v,v.charAt(0)=="/"?Wl:Hl,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",pr(v,ql)),c.join("")};function ut(c){return new Hn(c)}function Go(c,g,v){c.j=v?fr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ti(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Rr(c,g,v){g instanceof ni?(c.i=g,qn(c.i,c.h)):(v||(g=pr(g,Ko)),c.i=new ni(g,c.h))}function fe(c,g,v){c.i.set(g,v)}function Wn(c){return fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pr(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,$l),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $l(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fi=/[#\/\?@]/g,Hl=/[#\?:]/g,Wl=/[#\?]/g,Ko=/[#\?@]/g,ql=/#/g;function ni(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&zl(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}t=ni.prototype,t.add=function(c,g){bn(this),this.i=null,c=le(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Gl(c,g){bn(c),g=le(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Zo(c,g){return bn(c),g=le(c,g),c.g.has(g)}t.forEach=function(c,g){bn(this),this.g.forEach(function(v,I){v.forEach(function(z){c.call(g,z,I,this)},this)},this)},t.na=function(){bn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let I=0;I<g.length;I++){const z=c[I];for(let W=0;W<z.length;W++)v.push(g[I])}return v},t.V=function(c){bn(this);let g=[];if(typeof c=="string")Zo(this,c)&&(g=g.concat(this.g.get(le(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},t.set=function(c,g){return bn(this),this.i=null,c=le(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Eh(c,g,v){Gl(c,g),0<v.length&&(c.i=null,c.g.set(le(c,g),E(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var I=g[v];const W=encodeURIComponent(String(I)),te=this.V(I);for(I=0;I<te.length;I++){var z=W;te[I]!==""&&(z+="="+encodeURIComponent(String(te[I]))),c.push(z)}}return this.i=c.join("&")};function le(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function qn(c,g){g&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(v,I){var z=I.toLowerCase();I!=z&&(Gl(this,I),Eh(this,z,v))},c)),c.j=g}function ze(c,g){const v=new Us;if(u.Image){const I=new Image;I.onload=P(Gn,v,"TestLoadImage: loaded",!0,g,I),I.onerror=P(Gn,v,"TestLoadImage: error",!1,g,I),I.onabort=P(Gn,v,"TestLoadImage: abort",!1,g,I),I.ontimeout=P(Gn,v,"TestLoadImage: timeout",!1,g,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Th(c,g){const v=new Us,I=new AbortController,z=setTimeout(()=>{I.abort(),Gn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(W=>{clearTimeout(z),W.ok?Gn(v,"TestPingServer: ok",!0,g):Gn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Gn(v,"TestPingServer: error",!1,g)})}function Gn(c,g,v,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(v)}catch{}}function Kl(){this.g=new Ds}function Zl(c,g,v){const I=v||"";try{_e(c,function(z,W){let te=z;f(z)&&(te=Uo(z)),g.push(I+W+"="+encodeURIComponent(te))})}catch(z){throw g.push(I+"type="+encodeURIComponent("_badmap")),z}}function An(c){this.l=c.Ub||null,this.j=c.eb||!1}S(An,Ol),An.prototype.g=function(){return new Ui(this.l,this.j)},An.prototype.i=function(c){return function(){return c}}({});function Ui(c,g){wt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ui,wt),t=Ui.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Rn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||u).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nt(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ji(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ji(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?nt(this):Rn(this),this.readyState==3&&ji(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,nt(this))},t.Qa=function(c){this.g&&(this.response=c,nt(this))},t.ga=function(){this.g&&nt(this)};function nt(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Rn(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Rn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ql(c){let g="";return K(c,function(v,I){g+=I,g+=":",g+=v,g+=`\r
`}),g}function Qo(c,g,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Ql(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):fe(c,g,v))}function Je(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Je,wt);var Sh=/^https?$/i,Yl=["POST","PUT"];t=Je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ho.g(),this.v=this.o?hh(this.o):hh(Ho),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(W){Ph(this,W);return}if(c=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)v.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())v.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),z=u.FormData&&c instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Yl,g,void 0))||I||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,te]of v)this.g.setRequestHeader(W,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gn(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Ph(this,W)}};function Ph(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Xl(c),Yo(c)}function Xl(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),Yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yo(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Se(this):this.bb())},t.bb=function(){Se(this)};function Se(c){if(c.h&&typeof a<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)uh(c.Ea,0,c);else if(Lt(c,"readystatechange"),ln(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var I;if(I=te===0){var z=String(c.D).match(Xe)[1]||null;!z&&u.self&&u.self.location&&(z=u.self.location.protocol.slice(0,-1)),I=!Sh.test(z?z.toLowerCase():"")}v=I}if(v)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var W=2<ln(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Xl(c)}}finally{Yo(c)}}}}function Yo(c,g){if(c.g){gn(c);const v=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Lt(c,"ready");try{v.onreadystatechange=I}catch{}}}function gn(c){c.I&&(u.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),pm(g)}};function Jl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mm(c){const g={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(x(c[I]))continue;var v=F(c[I]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=g[z]||[];g[z]=W,W.push(v)}k(g,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ih(c){this.Aa=0,this.i=[],this.j=new Us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,c),this.cb=ri("retryDelaySeedMs",1e4,c),this.Wa=ri("forwardChannelMaxRetries",2,c),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ul(c&&c.concurrentRequestLimit),this.Da=new Kl,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ih.prototype,t.la=8,t.G=1,t.connect=function(c,g,v,I){jt(0),this.W=c,this.H=g||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=ia(this,null,this.W),Bi(this)};function Xo(c){if(xh(c),c.G==3){var g=c.U++,v=ut(c.I);if(fe(v,"SID",c.K),fe(v,"RID",g),fe(v,"TYPE","terminate"),Ws(c,v),g=new dr(c,c.j,g),g.L=2,g.v=Wn(ut(v)),v=!1,u.navigator&&u.navigator.sendBeacon)try{v=u.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&u.Image&&(new Image().src=g.v,v=!0),v||(g.g=bh(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qo(g)}Ch(c)}function Jo(c){c.g&&(ta(c),c.g.cancel(),c.g=null)}function xh(c){Jo(c),c.u&&(u.clearTimeout(c.u),c.u=null),ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&u.clearTimeout(c.s),c.s=null)}function Bi(c){if(!jl(c.h)&&!c.s){c.s=!0;var g=c.Ga;an||ee(),Z||(an(),Z=!0),ce.add(g,c),c.B=0}}function gm(c,g){return Di(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fs(w(c.Ga,c,g),nu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new dr(this,this.j,c);let W=this.o;if(this.S&&(W?(W=C(W),M(W,this.S)):W=this.S),this.m!==null||this.O||(z.H=W,W=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=eu(this,z,g),v=ut(this.I),fe(v,"RID",c),fe(v,"CVER",22),this.D&&fe(v,"X-HTTP-Session-Id",this.D),Ws(this,v),W&&(this.O?g="headers="+encodeURIComponent(String(Ql(W)))+"&"+g:this.m&&Qo(v,this.m,W)),We(this.h,z),this.Ua&&fe(v,"TYPE","init"),this.P?(fe(v,"$req",g),fe(v,"SID","null"),z.T=!0,Dl(z,v,null)):Dl(z,v,g),this.G=2}}else this.G==3&&(c?kn(this,c):this.i.length==0||jl(this.h)||kn(this))};function kn(c,g){var v;g?v=g.l:v=c.U++;const I=ut(c.I);fe(I,"SID",c.K),fe(I,"RID",v),fe(I,"AID",c.T),Ws(c,I),c.m&&c.o&&Qo(I,c.m,c.o),v=new dr(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=eu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),We(c.h,v),Dl(v,I,g)}function Ws(c,g){c.H&&K(c.H,function(v,I){fe(g,I,v)}),c.l&&_e({},function(v,I){fe(g,I,v)})}function eu(c,g,v){v=Math.min(c.i.length,v);var I=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let W=-1;for(;;){const te=["count="+v];W==-1?0<v?(W=z[0].g,te.push("ofs="+W)):W=0:te.push("ofs="+W);let De=!0;for(let Et=0;Et<v;Et++){let Ae=z[Et].g;const $e=z[Et].map;if(Ae-=W,0>Ae)W=Math.max(0,z[Et].g-100),De=!1;else try{Zl($e,te,"req"+Ae+"_")}catch{I&&I($e)}}if(De){I=te.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,I}function mr(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;an||ee(),Z||(an(),Z=!0),ce.add(g,c),c.v=0}}function ea(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fs(w(c.Fa,c),nu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,na(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fs(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Jo(this),na(this))};function ta(c){c.A!=null&&(u.clearTimeout(c.A),c.A=null)}function na(c){c.g=new dr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ut(c.qa);fe(g,"RID","rpc"),fe(g,"SID",c.K),fe(g,"AID",c.T),fe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&fe(g,"TO",c.ja),fe(g,"TYPE","xmlhttp"),Ws(c,g),c.m&&c.o&&Qo(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Wn(ut(g)),v.m=null,v.P=!0,Vl(v,c)}t.Za=function(){this.C!=null&&(this.C=null,Jo(this),ea(this),jt(19))};function ra(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function tu(c,g){var v=null;if(c.g==g){ra(c),ta(c),c.g=null;var I=2}else if(Ie(c.h,g))v=g.D,Hs(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;I=Bo(),Lt(I,new ph(I,v)),Bi(c)}else mr(c);else if(z=g.s,z==3||z==0&&0<g.X||!(I==1&&gm(c,g)||I==2&&ea(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),z){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function nu(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function ii(c,g){if(c.j.info("Error code "+g),g==2){var v=w(c.fb,c),I=c.Xa;const z=!I;I=new Hn(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Go(I,"https"),Wn(I),z?ze(I.toString(),v):Th(I.toString(),v)}else jt(2);c.G=0,c.l&&c.l.sa(g),Ch(c),xh(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Ch(c){if(c.G=0,c.ka=[],c.l){const g=ei(c.h);(g.length!=0||c.i.length!=0)&&(N(c.ka,g),N(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function ia(c,g,v){var I=v instanceof Hn?ut(v):new Hn(v);if(I.g!="")g&&(I.g=g+"."+I.g),ti(I,I.s);else{var z=u.location;I=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var W=new Hn(null);I&&Go(W,I),g&&(W.g=g),z&&ti(W,z),v&&(W.l=v),I=W}return v=c.D,g=c.ya,v&&g&&fe(I,v,g),fe(I,"VER",c.la),Ws(c,I),I}function bh(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Je(new An({eb:v})):new Je(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ru(){}t=ru.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qs(){}qs.prototype.g=function(c,g){return new Nt(c,g)};function Nt(c,g){wt.call(this),this.g=new Ih(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!x(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Kn(this)}S(Nt,wt),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Xo(this.g)},Nt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Uo(c),c=v);g.i.push(new $s(g.Ya++,c)),g.G==3&&Bi(g)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,Nt.aa.N.call(this)};function kr(c){jo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(kr,jo);function Ah(){Nl.call(this),this.status=1}S(Ah,Nl);function Kn(c){this.g=c}S(Kn,ru),Kn.prototype.ua=function(){Lt(this.g,"a")},Kn.prototype.ta=function(c){Lt(this.g,new kr(c))},Kn.prototype.sa=function(c){Lt(this.g,new Ah)},Kn.prototype.ra=function(){Lt(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,nx=function(){return new qs},tx=function(){return Bo()},ex=Yr,P_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Ad=js,$o.COMPLETE="complete",JI=$o,Ll.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Au=Ll,XI=An,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,YI=Je}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});const eT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new iv("@firebase/firestore");function gu(){return vo.logLevel}function se(t,...e){if(vo.logLevel<=be.DEBUG){const n=e.map(yv);vo.debug(`Firestore (${_l}): ${t}`,...n)}}function Pi(t,...e){if(vo.logLevel<=be.ERROR){const n=e.map(yv);vo.error(`Firestore (${_l}): ${t}`,...n)}}function Ja(t,...e){if(vo.logLevel<=be.WARN){const n=e.map(yv);vo.warn(`Firestore (${_l}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function Ke(t,e){t||pe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _D{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new rx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new en(e)}}class yD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ED{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new wD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=TD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function el(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Ot(0,0))}static max(){return new ge(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends mc{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends mc{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new re(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new re(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new re(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(qe.fromString(e))}static fromName(e){return new ae(qe.fromString(e).popFirst(5))}static empty(){return new ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new qe(e.slice()))}}function PD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Es(i,ae.empty(),e)}function ID(t){return new Es(t.readTime,t.key,-1)}class Es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Es(ge.min(),ae.empty(),-1)}static max(){return new Es(ge.max(),ae.empty(),-1)}}function xD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==CD)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,o=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++o,a&&o===i&&n()},h=>r(h))}),a=!0,o===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const o=e.length,a=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{a[f]=m,++u,u===o&&r(a)},m=>i(m))}})}static doWhile(e,n){return new X((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function AD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vv.oe=-1;function cp(t){return t==null}function If(t){return t===0&&1/t==-1/0}function RD(t){return typeof t=="number"&&Number.isInteger(t)&&!If(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=o??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nT(this.data.getIterator())}getIteratorFrom(e){return new nT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class nT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new Gt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ox("Invalid base64 string: "+o):o}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const kD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=kD.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ev(t){const e=t.mapValue.fields.__previous_value__;return wv(e)?Ev(e):e}function gc(t){const e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i,o,a,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f}}class _c{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:LD(t)?9007199254740991:10:pe()}function Kr(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ts(i.timestampValue),u=Ts(o.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return wo(i.bytesValue).isEqual(wo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pt(i.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pt(i.integerValue)===Pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Pt(i.doubleValue),u=Pt(o.doubleValue);return a===u?If(a)===If(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return el(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:return function(i,o){const a=i.mapValue.fields||{},u=o.mapValue.fields||{};if(tT(a)!==tT(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(u[h]===void 0||!Kr(a[h],u[h])))return!1;return!0}(t,e);default:return pe()}}function yc(t,e){return(t.values||[]).find(n=>Kr(n,e))!==void 0}function tl(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(o,a){const u=Pt(o.integerValue||o.doubleValue),h=Pt(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return rT(t.timestampValue,e.timestampValue);case 4:return rT(gc(t),gc(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(o,a){const u=wo(o),h=wo(a);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const u=o.split("/"),h=a.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Ne(u[f],h[f]);if(m!==0)return m}return Ne(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const u=Ne(Pt(o.latitude),Pt(a.latitude));return u!==0?u:Ne(Pt(o.longitude),Pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const u=o.values||[],h=a.values||[];for(let f=0;f<u.length&&f<h.length;++f){const m=tl(u[f],h[f]);if(m)return m}return Ne(u.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===ad.mapValue&&a===ad.mapValue)return 0;if(o===ad.mapValue)return 1;if(a===ad.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=a.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let _=0;_<h.length&&_<m.length;++_){const w=Ne(h[_],m[_]);if(w!==0)return w;const P=tl(u[h[_]],f[m[_]]);if(P!==0)return P}return Ne(h.length,m.length)}(t.mapValue,e.mapValue);default:throw pe()}}function rT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Ts(t),r=Ts(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function nl(t){return I_(t)}function I_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=I_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${I_(n.fields[a])}`;return i+"}"}(t.mapValue):pe()}function iT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function x_(t){return!!t&&"integerValue"in t}function Tv(t){return!!t&&"arrayValue"in t}function sT(t){return!!t&&"nullValue"in t}function oT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function $u(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$u(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$u(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=$u(a):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new vn($u(this.value))}}function ax(t){const e=[];return bo(t.fields,(n,r)=>{const i=new Ht([n]);if(Rd(r)){const o=ax(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,o,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=u}static newInvalidDocument(e){return new nn(e,0,ge.min(),ge.min(),ge.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,ge.min(),ge.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,ge.min(),ge.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.position=e,this.inclusive=n}}function aT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(a.referenceValue),n.key):r=tl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function lT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ND(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lx=class{};class Ct extends lx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DD(e,n,r):n==="array-contains"?new UD(e,r):n==="in"?new jD(e,r):n==="not-in"?new BD(e,r):n==="array-contains-any"?new zD(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VD(e,r):new FD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(tl(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends lx{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xr(e,n)}matches(e){return ux(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ux(t){return t.op==="and"}function cx(t){return MD(t)&&ux(t)}function MD(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function C_(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+nl(t.value);if(cx(t))return t.filters.map(e=>C_(e)).join(",");{const e=t.filters.map(n=>C_(n)).join(",");return`${t.op}(${e})`}}function hx(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Kr(r.value,i.value)}(t,e):t instanceof xr?function(r,i){return i instanceof xr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,u)=>o&&hx(a,i.filters[u]),!0):!1}(t,e):void pe()}function dx(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${nl(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(dx).join(" ,")+"}"}(t):"Filter"}class DD extends Ct{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class VD extends Ct{constructor(e,n){super(e,"in",n),this.keys=fx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FD extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=fx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class UD extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tv(n)&&yc(n.arrayValue,this.value)}}class jD extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class BD extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yc(this.value.arrayValue,n)}}class zD extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n=null,r=[],i=[],o=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=u,this.ue=null}}function uT(t,e=null,n=[],r=[],i=null,o=null,a=null){return new $D(t,e,n,r,i,o,a)}function Sv(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>C_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nl(r)).join(",")),e.ue=n}return e.ue}function Pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ND(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lT(t.startAt,e.startAt)&&lT(t.endAt,e.endAt)}function b_(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,r=[],i=[],o=null,a="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HD(t,e,n,r,i,o,a,u){return new Ao(t,e,n,r,i,o,a,u)}function hp(t){return new Ao(t)}function cT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function px(t){return t.collectionGroup!==null}function Hu(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Gt(Ht.comparator);return a.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new vc(o,r))}),n.has(Ht.keyField().canonicalString())||e.ce.push(new vc(Ht.keyField(),r))}return e.ce}function Hr(t){const e=ye(t);return e.le||(e.le=WD(e,Hu(t))),e.le}function WD(t,e){if(t.limitType==="F")return uT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new vc(i.field,o)});const n=t.endAt?new xf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xf(t.startAt.position,t.startAt.inclusive):null;return uT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function A_(t,e){const n=t.filters.concat([e]);return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function R_(t,e,n){return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dp(t,e){return Pv(Hr(t),Hr(e))&&t.limitType===e.limitType}function mx(t){return`${Sv(Hr(t))}|lt:${t.limitType}`}function _a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dx(i)).join(", ")}]`),cp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>nl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>nl(i)).join(",")),`Target(${r})`}(Hr(t))}; limitType=${t.limitType})`}function fp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,h){const f=aT(a,u,h);return a.inclusive?f<=0:f<0}(r.startAt,Hu(r),i)||r.endAt&&!function(a,u,h){const f=aT(a,u,h);return a.inclusive?f>=0:f>0}(r.endAt,Hu(r),i))}(t,e)}function qD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gx(t){return(e,n)=>{let r=!1;for(const i of Hu(t)){const o=GD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function GD(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(o,a,u){const h=a.data.field(o),f=u.data.field(o);return h!==null&&f!==null?tl(h,f):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return sx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new lt(ae.comparator);function Ii(){return KD}const _x=new lt(ae.comparator);function Ru(...t){let e=_x;for(const n of t)e=e.insert(n.key,n);return e}function yx(t){let e=_x;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return Wu()}function vx(){return Wu()}function Wu(){return new yl(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZD=new lt(ae.comparator),QD=new Gt(ae.comparator);function xe(...t){let e=QD;for(const n of t)e=e.add(n);return e}const YD=new Gt(Ne);function XD(){return YD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function Ex(t){return{integerValue:""+t}}function JD(t,e){return RD(e)?Ex(e):wx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this._=void 0}}function eV(t,e,n){return t instanceof wc?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wv(o)&&(o=Ev(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof rl?Sx(t,e):t instanceof il?Px(t,e):function(i,o){const a=Tx(i,o),u=hT(a)+hT(i.Pe);return x_(a)&&x_(i.Pe)?Ex(u):wx(i.serializer,u)}(t,e)}function tV(t,e,n){return t instanceof rl?Sx(t,e):t instanceof il?Px(t,e):n}function Tx(t,e){return t instanceof Cf?function(r){return x_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wc extends pp{}class rl extends pp{constructor(e){super(),this.elements=e}}function Sx(t,e){const n=Ix(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class il extends pp{constructor(e){super(),this.elements=e}}function Px(t,e){let n=Ix(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class Cf extends pp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hT(t){return Pt(t.integerValue||t.doubleValue)}function Ix(t){return Tv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n){this.field=e,this.transform=n}}function nV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof rl&&i instanceof rl||r instanceof il&&i instanceof il?el(r.elements,i.elements,Kr):r instanceof Cf&&i instanceof Cf?Kr(r.Pe,i.Pe):r instanceof wc&&i instanceof wc}(t.transform,e.transform)}class rV{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mp{}function xx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gp(t.key,Pn.none()):new $c(t.key,t.data,Pn.none());{const n=t.data,r=vn.empty();let i=new Gt(Ht.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ks(t.key,r,new Mn(i.toArray()),Pn.none())}}function iV(t,e,n){t instanceof $c?function(i,o,a){const u=i.value.clone(),h=fT(i.fieldTransforms,o,a.transformResults);u.setAll(h),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ks?function(i,o,a){if(!kd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const u=fT(i.fieldTransforms,o,a.transformResults),h=o.data;h.setAll(Cx(i)),h.setAll(u),o.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,r){return t instanceof $c?function(o,a,u,h){if(!kd(o.precondition,a))return u;const f=o.value.clone(),m=pT(o.fieldTransforms,h,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof ks?function(o,a,u,h){if(!kd(o.precondition,a))return u;const f=pT(o.fieldTransforms,h,a),m=a.data;return m.setAll(Cx(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(o,a,u){return kd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function sV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Tx(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&el(r,i,(o,a)=>nV(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends mp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ks extends mp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Cx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fT(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,u=e.data.field(o.field);r.set(o.field,tV(a,u,n[i]))}return r}function pT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,eV(o,a,e))}return r}class gp extends mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends mp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&iV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vx();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let u=this.applyToLocalView(a,o.mutatedFields);u=n.has(i.key)?null:u;const h=xx(a,u);h!==null&&r.set(i.key,h),a.isValidDocument()||a.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,(n,r)=>dT(n,r))&&el(this.baseMutations,e.baseMutations,(n,r)=>dT(n,r))}}class xv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return ZD}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new xv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Re;function cV(t){switch(t){default:return pe();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function bx(t){if(t===void 0)return Pi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case St.OK:return Q.OK;case St.CANCELLED:return Q.CANCELLED;case St.UNKNOWN:return Q.UNKNOWN;case St.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case St.INTERNAL:return Q.INTERNAL;case St.UNAVAILABLE:return Q.UNAVAILABLE;case St.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case St.NOT_FOUND:return Q.NOT_FOUND;case St.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case St.ABORTED:return Q.ABORTED;case St.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case St.DATA_LOSS:return Q.DATA_LOSS;default:return pe()}}(Re=St||(St={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new so([4294967295,4294967295],0);function mT(t){const e=hV().encode(t),n=new QI;return n.update(e),new Uint8Array(n.digest())}function gT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new so([n,r],0),new so([i,o],0)]}class Cv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(r<0)throw new ku(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=so.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(so.fromNumber(r)));return i.compare(dV)===1&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=mT(e),[r,i]=gT(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new Cv(o,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=mT(e),[r,i]=gT(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _p(ge.min(),i,new lt(Ne),Ii(),xe())}}class Hc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hc(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Ax{constructor(e,n){this.targetId=e,this.me=n}}class Rx{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _T{constructor(){this.fe=0,this.ge=vT(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Hc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=vT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ii(),this.qe=yT(),this.Qe=new lt(Ne)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(b_(o))if(r===0){const a=new ae(o.path);this.Ue(n,a,nn.newNoDocument(a,ge.min()))}else Ke(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),h=u?this.Xe(u,e,a):1;if(h!==0){this.je(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,u;try{a=wo(r).toUint8Array()}catch(h){if(h instanceof ox)return Ja("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Cv(a,i,o)}catch(h){return Ja(h instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const u=this.Je(a);if(u){if(o.current&&b_(u.target)){const h=new ae(u.target.path);this.ke.get(h)!==null||this.it(a,h)||this.Ue(a,h,nn.newNoDocument(h,e))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=xe();this.qe.forEach((o,a)=>{let u=!0;a.forEachWhile(h=>{const f=this.Je(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new _p(e,n,this.Qe,this.ke,r);return this.ke=Ii(),this.qe=yT(),this.Qe=new lt(Ne),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _T,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt(Ne),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _T),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function yT(){return new lt(ae.comparator)}function vT(){return new lt(ae.comparator)}const pV={asc:"ASCENDING",desc:"DESCENDING"},mV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gV={and:"AND",or:"OR"};class _V{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k_(t,e){return t.useProto3Json||cp(e)?e:{value:e}}function bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yV(t,e){return bf(t,e.toTimestamp())}function Wr(t){return Ke(!!t),ge.fromTimestamp(function(n){const r=Ts(n);return new Ot(r.seconds,r.nanos)}(t))}function bv(t,e){return O_(t,e).canonicalString()}function O_(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ox(t){const e=qe.fromString(t);return Ke(Vx(e)),e}function L_(t,e){return bv(t.databaseId,e.path)}function ng(t,e){const n=Ox(e);if(n.get(1)!==t.databaseId.projectId)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(Nx(n))}function Lx(t,e){return bv(t.databaseId,e)}function vV(t){const e=Ox(t);return e.length===4?qe.emptyPath():Nx(e)}function N_(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nx(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wT(t,e,n){return{name:L_(t,e),fields:n.value.mapValue.fields}}function wV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(Ke(m===void 0||typeof m=="string"),on.fromBase64String(m||"")):(Ke(m===void 0||m instanceof Buffer||m instanceof Uint8Array),on.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const m=f.code===void 0?Q.UNKNOWN:bx(f.code);return new re(m,f.message||"")}(a);n=new Rx(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ng(t,r.document.name),o=Wr(r.document.updateTime),a=r.document.createTime?Wr(r.document.createTime):ge.min(),u=new vn({mapValue:{fields:r.document.fields}}),h=nn.newFoundDocument(i,o,a,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new Od(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ng(t,r.document),o=r.readTime?Wr(r.readTime):ge.min(),a=nn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Od([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ng(t,r.document),o=r.removedTargetIds||[];n=new Od([],o,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new uV(i,o),u=r.targetId;n=new Ax(u,a)}}return n}function EV(t,e){let n;if(e instanceof $c)n={update:wT(t,e.key,e.value)};else if(e instanceof gp)n={delete:L_(t,e.key)};else if(e instanceof ks)n={update:wT(t,e.key,e.data),updateMask:RV(e.fieldMask)};else{if(!(e instanceof oV))return pe();n={verify:L_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const u=a.transform;if(u instanceof wc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof rl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof il)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cf)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:yV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pe()}(t,e.precondition)),n}function TV(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?Wr(i.updateTime):Wr(o);return a.isEqual(ge.min())&&(a=Wr(o)),new rV(a,i.transformResults||[])}(n,e))):[]}function SV(t,e){return{documents:[Lx(t,e.path)]}}function PV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Lx(t,i);const o=function(f){if(f.length!==0)return Dx(xr.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(f){if(f.length!==0)return f.map(m=>function(w){return{field:ya(w.field),direction:CV(w.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=k_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function IV(t){let e=vV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(_){const w=Mx(_);return w instanceof xr&&cx(w)?w.getFilters():[w]}(n.where));let a=[];n.orderBy&&(a=function(_){return _.map(w=>function(S){return new vc(va(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let u=null;n.limit&&(u=function(_){let w;return w=typeof _=="object"?_.value:_,cp(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(_){const w=!!_.before,P=_.values||[];return new xf(P,w)}(n.startAt));let f=null;return n.endAt&&(f=function(_){const w=!_.before,P=_.values||[];return new xf(P,w)}(n.endAt)),HD(e,i,a,o,u,"F",h,f)}function xV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Mx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=va(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=va(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=va(n.unaryFilter.field);return Ct.create(a,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(va(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>Mx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function CV(t){return pV[t]}function bV(t){return mV[t]}function AV(t){return gV[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return Ht.fromServerFormat(t.fieldPath)}function Dx(t){return t instanceof Ct?function(n){if(n.op==="=="){if(oT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(sT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(sT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:bV(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(i=>Dx(i));return r.length===1?r[0]:{compositeFilter:{op:AV(n.op),filters:r}}}(t):pe()}function RV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Vx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r,i,o=ge.min(),a=ge.min(),u=on.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.ct=e}}function OV(t){const e=IV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?R_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this._n=new NV}addToCollectionParentIndex(e,n){return this._n.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Es.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class NV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new sl(0)}static Ln(){return new sl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.changes=new yl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qu(r.mutation,i,Mn.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=no();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Ru();return o.forEach((u,h)=>{a=a.insert(u,h.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let o=Ii();const a=Wu(),u=function(){return Wu()}();return n.forEach((h,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof ks)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),qu(m.mutation,f,m.mutation.getFieldMask(),Ot.now())):a.set(f.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>{var _;return u.set(f,new DV(m,(_=a.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Wu();let i=new lt((a,u)=>a-u),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||Mn.empty();m=u.applyToLocalView(f,m),r.set(h,m);const _=(i.get(u.batchId)||xe()).add(h);i=i.insert(u.batchId,_)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,_=vx();m.forEach(w=>{if(!o.has(w)){const P=xx(n.get(w),r.get(w));P!==null&&_.set(w,P),o=o.add(w)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):px(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):X.resolve(no());let u=-1,h=o;return a.next(f=>X.forEach(f,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,xe())).next(m=>({batchId:u,changes:yx(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Ru();return this.indexManager.getCollectionParents(e,o).next(u=>X.forEach(u,h=>{const f=function(_,w){return new Ao(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((_,w)=>{a=a.insert(_,w)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((h,f)=>{const m=f.getKey();a.get(m)===null&&(a=a.insert(m,nn.newInvalidDocument(m)))});let u=Ru();return a.forEach((h,f)=>{const m=o.get(h);m!==void 0&&qu(m.mutation,f,Mn.empty(),Ot.now()),fp(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return X.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:OV(i.bundledQuery),readTime:Wr(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.overlays=new lt(ae.comparator),this.hr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=no();return X.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=no(),o=n.length+1,a=new ae(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new lt((f,m)=>f-m);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=no(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=no(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return X.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new lV(n,r));let o=this.hr.get(n);o===void 0&&(o=xe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Pr=new Gt(Dt.Ir),this.Tr=new Gt(Dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Dt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ae(new qe([])),r=new Dt(n,e),i=new Dt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ae(new qe([])),r=new Dt(n,e),i=new Dt(n,e+1);let o=xe();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Dt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ae.comparator(e.key,n.key)||Ne(e.pr,n.pr)}static Er(e,n){return Ne(e.pr,n.pr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Gt(Dt.Ir)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new aV(o,n,r,i);this.mutationQueue.push(a);for(const u of i)this.wr=this.wr.add(new Dt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return X.resolve(a)}lookupMutationBatch(e,n){return X.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],a=>{const u=this.Sr(a.pr);o.push(u)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt(Ne);return n.forEach(i=>{const o=new Dt(i,0),a=new Dt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],u=>{r=r.add(u.pr)})}),X.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ae.isDocumentKey(o)||(o=o.child(""));const a=new Dt(new ae(o),0);let u=new Gt(Ne);return this.wr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(h.pr)),!0)},a),X.resolve(this.Dr(u))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return X.forEach(n.mutations,i=>{const o=new Dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Dt(n,0),i=this.wr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.vr=e,this.docs=function(){return new lt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Ii();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ii();const a=n.path,u=new ae(a.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||xD(ID(m),r)<=0||(i.has(m.key)||fp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,r,i){pe()}Fr(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zV(this)}getSize(e){return X.resolve(this.size)}}class zV extends MV{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.persistence=e,this.Mr=new yl(n=>Sv(n),Pv),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Av,this.targetCount=0,this.Lr=sl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),X.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.qn(n),X.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.Br={},this.overlays={},this.kr=new vv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new $V(this),this.indexManager=new LV,this.remoteDocumentCache=function(i){return new BV(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new kV(n),this.$r=new FV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new UV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new jV(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new WV(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return X.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class WV extends bD{constructor(e){super(),this.currentSequenceNumber=e}}class Rv{constructor(e){this.persistence=e,this.zr=new Av,this.jr=null}static Hr(e){return new Rv(e)}get Jr(){if(this.jr)return this.jr;throw pe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),X.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Jr,r=>{const i=ae.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ge.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return X.or([()=>X.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=xe(),i=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new kv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return ML()?8:AD(Zt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new qV;return this.Ji(e,n,a).next(u=>{if(o.result=u,this.Ui)return this.Yi(e,n,a,u.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(gu()<=be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",_a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),X.resolve()):(gu()<=be.DEBUG&&se("QueryEngine","Query:",_a(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(gu()<=be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",_a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(n))):X.resolve())}ji(e,n){if(cT(n))return X.resolve(null);let r=Hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=R_(n,null,"F"),r=Hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=xe(...o);return this.zi.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.Zi(n,u);return this.Xi(n,f,a,h.readTime)?this.ji(e,R_(n,null,"F")):this.es(e,f,n,h)}))})))}Hi(e,n,r,i){return cT(n)||i.isEqual(ge.min())?X.resolve(null):this.zi.getDocuments(e,r).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,r,i)?X.resolve(null):(gu()<=be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_a(n)),this.es(e,a,n,PD(i,-1)).next(u=>u))})}Zi(e,n){let r=new Gt(gx(e));return n.forEach((i,o)=>{fp(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return gu()<=be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",_a(n)),this.zi.getDocumentsMatchingQuery(e,n,Es.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new lt(Ne),this.rs=new yl(o=>Sv(o),Pv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VV(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function ZV(t,e,n,r){return new KV(t,e,n,r)}async function Fx(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],u=[];let h=xe();for(const f of i){a.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next(f=>({us:f,removedBatchIds:a,addedBatchIds:u}))})})}function QV(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const _=f.batch,w=_.keys();let P=X.resolve();return w.forEach(S=>{P=P.next(()=>m.getEntry(h,S)).next(E=>{const N=f.docVersions.get(S);Ke(N!==null),E.version.compareTo(N)<0&&(_.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),m.addEntry(E)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=xe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ux(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function YV(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const u=[];e.targetChanges.forEach((m,_)=>{const w=i.get(_);if(!w)return;u.push(n.Qr.removeMatchingKeys(o,m.removedDocuments,_).next(()=>n.Qr.addMatchingKeys(o,m.addedDocuments,_)));let P=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?P=P.withResumeToken(on.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):m.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(m.resumeToken,r)),i=i.insert(_,P),function(E,N,b){return E.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(w,P,m)&&u.push(n.Qr.updateTargetData(o,P))});let h=Ii(),f=xe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(XV(o,a,e.documentUpdates).next(m=>{h=m.cs,f=m.ls})),!r.isEqual(ge.min())){const m=n.Qr.getLastRemoteSnapshotVersion(o).next(_=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return X.waitFor(u).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.ns=i,o))}function XV(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ii();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(ge.min())?(e.removeEntry(u,h.readTime),a=a.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),a=a.insert(u,h)):se("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{cs:a,ls:i}})}function JV(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eF(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new ss(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function M_(t,e,n){const r=ye(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!zc(a))throw a;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function ET(t,e,n){const r=ye(t);let i=ge.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(h,f,m){const _=ye(h),w=_.rs.get(m);return w!==void 0?X.resolve(_.ns.get(w)):_.Qr.getTargetData(f,m)}(r,a,Hr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,u.targetId).next(h=>{o=h})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:ge.min(),n?o:xe())).next(u=>(tF(r,qD(e),u),{documents:u,hs:o})))}function tF(t,e,n){let r=t.ss.get(e)||ge.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class TT{constructor(){this.activeTargetIds=XD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.no=new TT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new TT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function rg(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class oF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,a){const u=rg(),h=this.vo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(f,o,a),this.Mo(n,h,f,i).then(m=>(se("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw Ja("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",h,"request:",i),m})}xo(n,r,i,o,a,u){return this.Co(n,r,i,o,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_l}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}vo(n,r){const i=iF[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=rg();return new Promise((a,u)=>{const h=new YI;h.setWithCredentials(!0),h.listenOnce(JI.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ad.NO_ERROR:const m=h.getResponseJson();se(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Ad.TIMEOUT:se(Xt,`RPC '${e}' ${o} timed out`),u(new re(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const _=h.getStatus();if(se(Xt,`RPC '${e}' ${o} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const P=w==null?void 0:w.error;if(P&&P.status&&P.message){const S=function(N){const b=N.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(b)>=0?b:Q.UNKNOWN}(P.status);u(new re(S,P.message))}else u(new re(Q.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new re(Q.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{se(Xt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);se(Xt,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",f,r,15)})}Oo(e,n,r){const i=rg(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nx(),u=tx(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.xmlHttpFactory=new XI({})),this.Fo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=o.join("");se(Xt,`Creating RPC '${e}' stream ${i}: ${m}`,h);const _=a.createWebChannel(m,h);let w=!1,P=!1;const S=new sF({lo:N=>{P?se(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(w||(se(Xt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),se(Xt,`RPC '${e}' stream ${i} sending:`,N),_.send(N))},ho:()=>_.close()}),E=(N,b,x)=>{N.listen(b,R=>{try{x(R)}catch(B){setTimeout(()=>{throw B},0)}})};return E(_,Au.EventType.OPEN,()=>{P||(se(Xt,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),E(_,Au.EventType.CLOSE,()=>{P||(P=!0,se(Xt,`RPC '${e}' stream ${i} transport closed`),S.po())}),E(_,Au.EventType.ERROR,N=>{P||(P=!0,Ja(Xt,`RPC '${e}' stream ${i} transport errored:`,N),S.po(new re(Q.UNAVAILABLE,"The operation could not be completed")))}),E(_,Au.EventType.MESSAGE,N=>{var b;if(!P){const x=N.data[0];Ke(!!x);const R=x,B=R.error||((b=R[0])===null||b===void 0?void 0:b.error);if(B){se(Xt,`RPC '${e}' stream ${i} received error:`,B);const q=B.status;let K=function(O){const M=St[O];if(M!==void 0)return bx(M)}(q),k=B.message;K===void 0&&(K=Q.INTERNAL,k="Unknown error status: "+q+" with message "+B.message),P=!0,S.po(new re(K,k)),_.close()}else se(Xt,`RPC '${e}' stream ${i} received:`,x),S.yo(x)}}),E(u,ex.STAT_EVENT,N=>{N.stat===P_.PROXY?se(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===P_.NOPROXY&&se(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t){return new _V(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,i,o,a,u,h){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new jx(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new re(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aF extends Bx{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=wV(this.serializer,e),r=function(o){if(!("targetChange"in o))return ge.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ge.min():a.readTime?Wr(a.readTime):ge.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=N_(this.serializer),n.addTarget=function(o,a){let u;const h=a.target;if(u=b_(h)?{documents:SV(o,h)}:{query:PV(o,h)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=kx(o,a.resumeToken);const f=k_(o,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(ge.min())>0){u.readTime=bf(o,a.snapshotVersion.toTimestamp());const f=k_(o,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=xV(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=N_(this.serializer),n.removeTarget=e,this.i_(n)}}class lF extends Bx{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=TV(e.writeResults,e.commitTime),r=Wr(e.commitTime);return this.listener.A_(r,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=N_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>EV(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,O_(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(Q.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.xo(e,O_(n,r),i,a,u,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(Q.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class cF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Pi(n),this.y_=!1):se("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(async()=>{Ro(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=ye(h);f.M_.add(4),await Wc(f),f.N_.set("Unknown"),f.M_.delete(4),await vp(f)}(this))})}),this.N_=new cF(r,i)}}async function vp(t){if(Ro(t))for(const e of t.x_)await e(!0)}async function Wc(t){for(const e of t.x_)await e(!1)}function zx(t,e){const n=ye(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Mv(n)?Nv(n):vl(n).Xo()&&Lv(n,e))}function Ov(t,e){const n=ye(t),r=vl(n);n.F_.delete(e),r.Xo()&&$x(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ro(n)&&n.N_.set("Unknown"))}function Lv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).P_(e)}function $x(t,e){t.L_.xe(e),vl(t).I_(e)}function Nv(t){t.L_=new fV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.N_.w_()}function Mv(t){return Ro(t)&&!vl(t).Zo()&&t.F_.size>0}function Ro(t){return ye(t).M_.size===0}function Hx(t){t.L_=void 0}async function dF(t){t.N_.set("Online")}async function fF(t){t.F_.forEach((e,n)=>{Lv(t,e)})}async function pF(t,e){Hx(t),Mv(t)?(t.N_.D_(e),Nv(t)):t.N_.set("Unknown")}async function mF(t,e,n){if(t.N_.set("Online"),e instanceof Rx&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const u of o.targetIds)i.F_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.F_.delete(u),i.L_.removeTarget(u))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Af(t,r)}else if(e instanceof Od?t.L_.Ke(e):e instanceof Ax?t.L_.He(e):t.L_.We(e),!n.isEqual(ge.min()))try{const r=await Ux(t.localStore);n.compareTo(r)>=0&&await function(o,a){const u=o.L_.rt(a);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.F_.get(f);m&&o.F_.set(f,m.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach((h,f)=>{const m=o.F_.get(h);if(!m)return;o.F_.set(h,m.withResumeToken(on.EMPTY_BYTE_STRING,m.snapshotVersion)),$x(o,h);const _=new ss(m.target,h,f,m.sequenceNumber);Lv(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Af(t,r)}}async function Af(t,e,n){if(!zc(e))throw e;t.M_.add(1),await Wc(t),t.N_.set("Offline"),n||(n=()=>Ux(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await vp(t)})}function Wx(t,e){return e().catch(n=>Af(t,n,e))}async function wp(t){const e=ye(t),n=Ss(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;gF(e);)try{const i=await JV(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,_F(e,i)}catch(i){await Af(e,i)}qx(e)&&Gx(e)}function gF(t){return Ro(t)&&t.v_.length<10}function _F(t,e){t.v_.push(e);const n=Ss(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function qx(t){return Ro(t)&&!Ss(t).Zo()&&t.v_.length>0}function Gx(t){Ss(t).start()}async function yF(t){Ss(t).V_()}async function vF(t){const e=Ss(t);for(const n of t.v_)e.d_(n.mutations)}async function wF(t,e,n){const r=t.v_.shift(),i=xv.from(r,e,n);await Wx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wp(t)}async function EF(t,e){e&&Ss(t).E_&&await async function(r,i){if(function(a){return cV(a)&&a!==Q.ABORTED}(i.code)){const o=r.v_.shift();Ss(r).t_(),await Wx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await wp(r)}}(t,e),qx(t)&&Gx(t)}async function PT(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Ro(n);n.M_.add(3),await Wc(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await vp(n)}async function TF(t,e){const n=ye(t);e?(n.M_.delete(2),await vp(n)):e||(n.M_.add(2),await Wc(n),n.N_.set("Unknown"))}function vl(t){return t.B_||(t.B_=function(n,r,i){const o=ye(n);return o.f_(),new aF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:dF.bind(null,t),To:fF.bind(null,t),Ao:pF.bind(null,t),h_:mF.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Mv(t)?Nv(t):t.N_.set("Unknown")):(await t.B_.stop(),Hx(t))})),t.B_}function Ss(t){return t.k_||(t.k_=function(n,r,i){const o=ye(n);return o.f_(),new lF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:yF.bind(null,t),Ao:EF.bind(null,t),R_:vF.bind(null,t),A_:wF.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await wp(t)):(await t.k_.stop(),t.v_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,u=new Dv(e,n,a,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vv(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),zc(t))return new re(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Ru(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Ba(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ba)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.q_=new lt(ae.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):pe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ol{constructor(e,n,r,i,o,a,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new ol(e,n,Ba.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class PF{constructor(){this.queries=new yl(e=>mx(e),dp),this.onlineState="Unknown",this.z_=new Set}}async function Fv(t,e){const n=ye(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new SF,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Vv(a,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&jv(n)}async function Uv(t,e){const n=ye(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.U_.indexOf(e);a>=0&&(o.U_.splice(a,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IF(t,e){const n=ye(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const u of a.U_)u.H_(i)&&(r=!0);a.K_=i}}r&&jv(n)}function xF(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function jv(t){t.z_.forEach(e=>{e.next()})}var D_,xT;(xT=D_||(D_={})).J_="default",xT.Cache="cache";class Bv{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==D_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.key=e}}class Zx{constructor(e){this.key=e}}class CF{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=xe(),this.mutatedKeys=xe(),this.Ia=gx(e),this.Ta=new Ba(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new IT,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,_)=>{const w=i.get(m),P=fp(this.query,_)?_:null,S=!!w&&this.mutatedKeys.has(w.key),E=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let N=!1;w&&P?w.data.isEqual(P.data)?S!==E&&(r.track({type:3,doc:P}),N=!0):this.Ra(w,P)||(r.track({type:2,doc:P}),N=!0,(h&&this.Ia(P,h)>0||f&&this.Ia(P,f)<0)&&(u=!0)):!w&&P?(r.track({type:0,doc:P}),N=!0):w&&!P&&(r.track({type:1,doc:w}),N=!0,(h||f)&&(u=!0)),N&&(P?(a=a.add(P),o=E?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ta:a,Aa:r,Xi:u,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((m,_)=>function(P,S){const E=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return E(P)-E(S)}(m.type,_.type)||this.Ia(m.doc,_.doc)),this.Va(r),i=i!=null&&i;const u=n&&!i?this.ma():[],h=this.Pa.size===0&&this.current&&!i?1:0,f=h!==this.ha;return this.ha=h,a.length!==0||f?{snapshot:new ol(this.query,e.Ta,o,a,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:u}:{fa:u}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new IT,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=xe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Zx(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Kx(r))}),n}pa(e){this.la=e.hs,this.Pa=xe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ol.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class bF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AF{constructor(e){this.key=e,this.wa=!1}}class RF{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new yl(u=>mx(u),dp),this.Da=new Map,this.Ca=new Set,this.va=new lt(ae.comparator),this.Fa=new Map,this.Ma=new Av,this.xa={},this.Oa=new Map,this.Na=sl.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function kF(t,e,n=!0){const r=tC(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await Qx(r,e,n,!0),i}async function OF(t,e){const n=tC(t);await Qx(n,e,!0,!1)}async function Qx(t,e,n,r){const i=await eF(t.localStore,Hr(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let u;return r&&(u=await LF(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&zx(t.remoteStore,i),u}async function LF(t,e,n,r,i){t.Ba=(_,w,P)=>async function(E,N,b,x){let R=N.view.da(b);R.Xi&&(R=await ET(E.localStore,N.query,!1).then(({documents:k})=>N.view.da(k,R)));const B=x&&x.targetChanges.get(N.targetId),q=x&&x.targetMismatches.get(N.targetId)!=null,K=N.view.applyChanges(R,E.isPrimaryClient,B,q);return bT(E,N.targetId,K.fa),K.snapshot}(t,_,w,P);const o=await ET(t.localStore,e,!0),a=new CF(e,o.hs),u=a.da(o.documents),h=Hc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,h);bT(t,n,f.fa);const m=new bF(e,n,a);return t.ba.set(e,m),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),f.snapshot}async function NF(t,e,n){const r=ye(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(a=>!dp(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await M_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ov(r.remoteStore,i.targetId),V_(r,i.targetId)}).catch(Bc)):(V_(r,i.targetId),await M_(r.localStore,i.targetId,!0))}async function MF(t,e){const n=ye(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ov(n.remoteStore,r.targetId))}async function DF(t,e,n){const r=$F(t);try{const i=await function(a,u){const h=ye(a),f=Ot.now(),m=u.reduce((P,S)=>P.add(S.key),xe());let _,w;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>{let S=Ii(),E=xe();return h.os.getEntries(P,m).next(N=>{S=N,S.forEach((b,x)=>{x.isValidDocument()||(E=E.add(b))})}).next(()=>h.localDocuments.getOverlayedDocuments(P,S)).next(N=>{_=N;const b=[];for(const x of u){const R=sV(x,_.get(x.key).overlayedDocument);R!=null&&b.push(new ks(x.key,R,ax(R.value.mapValue),Pn.exists(!0)))}return h.mutationQueue.addMutationBatch(P,f,b,u)}).next(N=>{w=N;const b=N.applyToLocalDocumentSet(_,E);return h.documentOverlayCache.saveOverlays(P,N.batchId,b)})}).then(()=>({batchId:w.batchId,changes:yx(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let f=a.xa[a.currentUser.toKey()];f||(f=new lt(Ne)),f=f.insert(u,h),a.xa[a.currentUser.toKey()]=f}(r,i.batchId,n),await qc(r,i.changes),await wp(r.remoteStore)}catch(i){const o=Vv(i,"Failed to persist write");n.reject(o)}}async function Yx(t,e){const n=ye(t);try{const r=await YV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Fa.get(o);a&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?Ke(a.wa):i.removedDocuments.size>0&&(Ke(a.wa),a.wa=!1))}),await qc(n,r,e)}catch(r){await Bc(r)}}function CT(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,a)=>{const u=a.view.j_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const h=ye(a);h.onlineState=u;let f=!1;h.queries.forEach((m,_)=>{for(const w of _.U_)w.j_(u)&&(f=!0)}),f&&jv(h)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VF(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let a=new lt(ae.comparator);a=a.insert(o,nn.newNoDocument(o,ge.min()));const u=xe().add(o),h=new _p(ge.min(),new Map,new lt(Ne),a,u);await Yx(r,h),r.va=r.va.remove(o),r.Fa.delete(e),zv(r)}else await M_(r.localStore,e,!1).then(()=>V_(r,e,n)).catch(Bc)}async function FF(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await QV(n.localStore,e);Jx(n,r,null),Xx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qc(n,i)}catch(i){await Bc(i)}}async function UF(t,e,n){const r=ye(t);try{const i=await function(a,u){const h=ye(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(_=>(Ke(_!==null),m=_.keys(),h.mutationQueue.removeMutationBatch(f,_))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(r.localStore,e);Jx(r,e,n),Xx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qc(r,i)}catch(i){await Bc(i)}}function Xx(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Jx(t,e,n){const r=ye(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function V_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||eC(t,r)})}function eC(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Ov(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),zv(t))}function bT(t,e,n){for(const r of n)r instanceof Kx?(t.Ma.addReference(r.key,e),jF(t,r)):r instanceof Zx?(se("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||eC(t,r.key)):pe()}function jF(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(se("SyncEngine","New document in limbo: "+n),t.Ca.add(r),zv(t))}function zv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ae(qe.fromString(e)),r=t.Na.next();t.Fa.set(r,new AF(n)),t.va=t.va.insert(n,r),zx(t.remoteStore,new ss(Hr(hp(n.path)),r,"TargetPurposeLimboResolution",vv.oe))}}async function qc(t,e,n){const r=ye(t),i=[],o=[],a=[];r.ba.isEmpty()||(r.ba.forEach((u,h)=>{a.push(r.Ba(h,e,n).then(f=>{if((f||n)&&r.isPrimaryClient){const m=f&&!f.fromCache;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){i.push(f);const m=kv.Ki(h.targetId,f);o.push(m)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(h,f){const m=ye(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,w=>X.forEach(w.qi,P=>m.persistence.referenceDelegate.addReference(_,w.targetId,P)).next(()=>X.forEach(w.Qi,P=>m.persistence.referenceDelegate.removeReference(_,w.targetId,P)))))}catch(_){if(!zc(_))throw _;se("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const w=_.targetId;if(!_.fromCache){const P=m.ns.get(w),S=P.snapshotVersion,E=P.withLastLimboFreeSnapshotVersion(S);m.ns=m.ns.insert(w,E)}}}(r.localStore,o))}async function BF(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await Fx(n.localStore,e);n.currentUser=e,function(o,a){o.Oa.forEach(u=>{u.forEach(h=>{h.reject(new re(Q.CANCELLED,a))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qc(n,r.us)}}function zF(t,e){const n=ye(t),r=n.Fa.get(e);if(r&&r.wa)return xe().add(r.key);{let i=xe();const o=n.Da.get(e);if(!o)return i;for(const a of o){const u=n.ba.get(a);i=i.unionWith(u.view.Ea)}return i}}function tC(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VF.bind(null,e),e.Sa.h_=IF.bind(null,e.eventManager),e.Sa.ka=xF.bind(null,e.eventManager),e}function $F(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UF.bind(null,e),e}class AT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ZV(this.persistence,new GV,e.initialUser,this.serializer)}createPersistence(e){return new HV(Rv.Hr,this.serializer)}createSharedClientState(e){return new nF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class HF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>CT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BF.bind(null,this.syncEngine),await TF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PF}()}createDatastore(e){const n=yp(e.databaseInfo.databaseId),r=function(o){return new oF(o)}(e.databaseInfo);return function(o,a,u,h){return new uF(o,a,u,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,u){return new hF(r,i,o,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>CT(this.syncEngine,n,0),function(){return ST.D()?new ST:new rF}())}createSyncEngine(e,n){return function(i,o,a,u,h,f,m){const _=new RF(i,o,a,u,h,f);return m&&(_.La=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ye(r);se("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Wc(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=ix.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Fx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GF(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PT(e.remoteStore,i)),t._onlineComponents=e}function qF(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function GF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!qF(n))throw n;Ja("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new AT)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await sg(t,new AT);return t._offlineComponents}async function nC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await RT(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await RT(t,new HF))),t._onlineComponents}function KF(t){return nC(t).then(e=>e.syncEngine)}async function Rf(t){const e=await nC(t),n=e.eventManager;return n.onListen=kF.bind(null,e.syncEngine),n.onUnlisten=NF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MF.bind(null,e.syncEngine),n}function ZF(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,h,f){const m=new $v({next:w=>{a.enqueueAndForget(()=>Uv(o,_));const P=w.docs.has(u);!P&&w.fromCache?f.reject(new re(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&h&&h.source==="server"?f.reject(new re(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),_=new Bv(hp(u.path),m,{includeMetadataChanges:!0,ra:!0});return Fv(o,_)}(await Rf(t),t.asyncQueue,e,n,r)),r.promise}function QF(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,u,h,f){const m=new $v({next:w=>{a.enqueueAndForget(()=>Uv(o,_)),w.fromCache&&h.source==="server"?f.reject(new re(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),_=new Bv(u,m,{includeMetadataChanges:!0,ra:!0});return Fv(o,_)}(await Rf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e,n){if(!n)throw new re(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YF(t,e,n,r){if(e===!0&&r===!0)throw new re(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OT(t){if(!ae.isDocumentKey(t))throw new re(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LT(t){if(ae.isDocumentKey(t))throw new re(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function In(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ep(t);throw new re(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mD;switch(r.type){case"firstParty":return new vD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kT.get(n);r&&(se("ComponentProvider","Removing Datastore"),kT.delete(n),r.terminate())}(this),Promise.resolve()}}function XF(t,e,n,r={}){var i;const o=(t=In(t,Gc))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=en.MOCK_USER;else{u=hI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new re(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new en(f)}t._authCredentials=new gD(new rx(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class _s extends Oi{constructor(e,n,r){super(e,n,hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ae(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function Tp(t,e,...n){if(t=Ye(t),Hv("collection","path",e),t instanceof Gc){const r=qe.fromString(e,...n);return LT(r),new _s(t,null,r)}{if(!(t instanceof fn||t instanceof _s))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return LT(r),new _s(t.firestore,null,r)}}function kf(t,e){if(t=In(t,Gc),Hv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oi(t,null,function(r){return new Ao(qe.emptyPath(),r)}(e))}function oo(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=ix.newId()),Hv("doc","path",e),t instanceof Gc){const r=qe.fromString(e,...n);return OT(r),new fn(t,null,new ae(r))}{if(!(t instanceof fn||t instanceof _s))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return OT(r),new fn(t.firestore,t instanceof _s?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new jx(this,"async_queue_retry"),this.hu=()=>{const n=ig();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=ig();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new yi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!zc(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Dv.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&pe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function MT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class xi extends Gc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new JF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iC(this),this._firestoreClient.terminate()}}function e4(t,e){const n=typeof t=="object"?t:ov(),r=typeof t=="string"?t:"(default)",i=sp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=lI("firestore");o&&XF(i,...o)}return i}function Kc(t){return t._firestoreClient||iC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iC(t){var e,n,r;const i=t._freezeSettings(),o=function(u,h,f,m){return new OD(u,h,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rC(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new WF(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(on.fromBase64String(e))}catch(n){throw new re(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new al(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/^__.*__$/;class n4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class sC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Sp{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Of(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(oC(this.fu)&&t4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class r4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yp(e)}Fu(e,n,r,i=!1){return new Sp({fu:e,methodName:n,vu:r,path:Ht.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(t){const e=t._freezeSettings(),n=yp(t._databaseId);return new r4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aC(t,e,n,r,i,o={}){const a=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Zv("Data must be an object, but it was:",a,r);const u=hC(r,a);let h,f;if(o.merge)h=new Mn(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const w=F_(e,_,n);if(!a.contains(w))throw new re(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);fC(m,w)||m.push(w)}h=new Mn(m),f=a.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=a.fieldTransforms;return new n4(new vn(u),h,f)}class Ip extends wl{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ip}}function lC(t,e,n){return new Sp({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qv extends wl{_toFieldTransform(e){return new Iv(e.path,new wc)}isEqual(e){return e instanceof qv}}class Gv extends wl{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=lC(this,e,!0),r=this.Mu.map(o=>ko(o,n)),i=new rl(r);return new Iv(e.path,i)}isEqual(e){return e instanceof Gv&&Ya(this.Mu,e.Mu)}}class Kv extends wl{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=lC(this,e,!0),r=this.Mu.map(o=>ko(o,n)),i=new il(r);return new Iv(e.path,i)}isEqual(e){return e instanceof Kv&&Ya(this.Mu,e.Mu)}}function uC(t,e,n,r){const i=t.Fu(1,e,n);Zv("Data must be an object, but it was:",i,r);const o=[],a=vn.empty();bo(r,(h,f)=>{const m=Qv(e,h,n);f=Ye(f);const _=i.Su(m);if(f instanceof Ip)o.push(m);else{const w=ko(f,_);w!=null&&(o.push(m),a.set(m,w))}});const u=new Mn(o);return new sC(a,u,i.fieldTransforms)}function cC(t,e,n,r,i,o){const a=t.Fu(1,e,n),u=[F_(e,r,n)],h=[i];if(o.length%2!=0)throw new re(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)u.push(F_(e,o[w])),h.push(o[w+1]);const f=[],m=vn.empty();for(let w=u.length-1;w>=0;--w)if(!fC(f,u[w])){const P=u[w];let S=h[w];S=Ye(S);const E=a.Su(P);if(S instanceof Ip)f.push(P);else{const N=ko(S,E);N!=null&&(f.push(P),m.set(P,N))}}const _=new Mn(f);return new sC(m,_,a.fieldTransforms)}function i4(t,e,n,r=!1){return ko(n,t.Fu(r?4:3,e))}function ko(t,e){if(dC(t=Ye(t)))return Zv("Unsupported field value:",e,t),hC(t,e);if(t instanceof wl)return function(r,i){if(!oC(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const u of r){let h=ko(u,i.bu(a));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ot.fromDate(r);return{timestampValue:bf(i.serializer,o)}}if(r instanceof Ot){const o=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bf(i.serializer,o)}}if(r instanceof Wv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof al)return{bytesValue:kx(i.serializer,r._byteString)};if(r instanceof fn){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Ep(r)}`)}(t,e)}function hC(t,e){const n={};return sx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(t,(r,i)=>{const o=ko(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function dC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Wv||t instanceof al||t instanceof fn||t instanceof wl)}function Zv(t,e,n){if(!dC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ep(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function F_(t,e,n){if((e=Ye(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return Qv(t,e);throw Of("Field path arguments must be of type string or ",t,!1,void 0,n)}const s4=new RegExp("[~\\*/\\[\\]]");function Qv(t,e,n){if(e.search(s4)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zc(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Of(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||a)&&(h+=" (found",o&&(h+=` in field ${r}`),a&&(h+=` in document ${i}`),h+=")"),new re(Q.INVALID_ARGUMENT,u+t+h)}function fC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o4 extends pC{data(){return super.data()}}function xp(t,e){return typeof e=="string"?Qv(t,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}class gC extends Yv{}function ll(t,e,...n){let r=[];e instanceof Yv&&r.push(e),r=r.concat(n),function(o){const a=o.filter(h=>h instanceof Xv).length,u=o.filter(h=>h instanceof Cp).length;if(a>1||a>0&&u>0)throw new re(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Cp extends gC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Cp(e,n,r)}_apply(e){const n=this._parse(e);return _C(e._query,n),new Oi(e.firestore,e.converter,A_(e._query,n))}_parse(e){const n=Pp(e.firestore);return function(o,a,u,h,f,m,_){let w;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new re(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){VT(_,m);const P=[];for(const S of _)P.push(DT(h,o,S));w={arrayValue:{values:P}}}else w=DT(h,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||VT(_,m),w=i4(u,a,_,m==="in"||m==="not-in");return Ct.create(f,m,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lf(t,e,n){const r=e,i=xp("where",t);return Cp._create(i,r,n)}class Xv extends Yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const u=o.getFlattenedFilters();for(const h of u)_C(a,h),a=A_(a,h)}(e._query,n),new Oi(e.firestore,e.converter,A_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jv extends gC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jv(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(o,a)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Ao(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function U_(t,e="asc"){const n=e,r=xp("orderBy",t);return Jv._create(r,n)}function DT(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new re(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(e)&&n.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!ae.isDocumentKey(r))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iT(t,new ae(r))}if(n instanceof fn)return iT(t,n._key);throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ep(n)}.`)}function VT(t,e){if(!Array.isArray(t)||t.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _C(t,e){const n=function(i,o){for(const a of i)for(const u of a.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class a4{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Wv(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ev(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=Ts(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Ke(Vx(r));const i=new _c(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vC extends pC{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ld extends vC{data(e={}){return super.data(e)}}class wC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ld(this._firestore,this._userDataWriter,r.key,r,new Ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const h=new Ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ou(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ou(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),m=a.indexOf(u.doc.key)),{type:l4(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function l4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){t=In(t,fn);const e=In(t.firestore,xi);return ZF(Kc(e),t._key).then(n=>PC(e,t,n))}class e0 extends a4{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Nf(t){t=In(t,Oi);const e=In(t.firestore,xi),n=Kc(e),r=new e0(e);return mC(t._query),QF(n,t._query).then(i=>new wC(e,r,t,i))}function Nd(t,e,n,...r){t=In(t,fn);const i=In(t.firestore,xi),o=Pp(i);let a;return a=typeof(e=Ye(e))=="string"||e instanceof Zc?cC(o,"updateDoc",t._key,e,n,r):uC(o,"updateDoc",t._key,e),bp(i,[a.toMutation(t._key,Pn.exists(!0))])}function EC(t){return bp(In(t.firestore,xi),[new gp(t._key,Pn.none())])}function TC(t,e){const n=In(t.firestore,xi),r=oo(t),i=yC(t.converter,e);return bp(n,[aC(Pp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function SC(t,...e){var n,r,i;t=Ye(t);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||MT(e[a])||(o=e[a],a++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(MT(e[a])){const _=e[a];e[a]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[a+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[a+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let h,f,m;if(t instanceof fn)f=In(t.firestore,xi),m=hp(t._key.path),h={next:_=>{e[a]&&e[a](PC(f,t,_))},error:e[a+1],complete:e[a+2]};else{const _=In(t,Oi);f=In(_.firestore,xi),m=_._query;const w=new e0(f);h={next:P=>{e[a]&&e[a](new wC(f,w,_,P))},error:e[a+1],complete:e[a+2]},mC(t._query)}return function(w,P,S,E){const N=new $v(E),b=new Bv(P,N,S);return w.asyncQueue.enqueueAndForget(async()=>Fv(await Rf(w),b)),()=>{N.$a(),w.asyncQueue.enqueueAndForget(async()=>Uv(await Rf(w),b))}}(Kc(f),m,u,h)}function bp(t,e){return function(r,i){const o=new yi;return r.asyncQueue.enqueueAndForget(async()=>DF(await KF(r),i,o)),o.promise}(Kc(t),e)}function PC(t,e,n){const r=n.docs.get(e._key),i=new e0(t);return new vC(t,i,e._key,r,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Pp(e)}set(e,n,r){this._verifyNotCommitted();const i=og(e,this._firestore),o=yC(i.converter,n,r),a=aC(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,Pn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=og(e,this._firestore);let a;return a=typeof(n=Ye(n))=="string"||n instanceof Zc?cC(this._dataReader,"WriteBatch.update",o._key,n,r,i):uC(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(a.toMutation(o._key,Pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=og(e,this._firestore);return this._mutations=this._mutations.concat(new gp(n._key,Pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function og(t,e){if((t=Ye(t)).firestore!==e)throw new re(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Mf(){return new qv("serverTimestamp")}function h4(...t){return new Gv("arrayUnion",t)}function d4(...t){return new Kv("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){return Kc(t=In(t,xi)),new c4(t,e=>bp(t,e))}(function(e,n=!0){(function(i){_l=i})(Co),go(new ws("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),u=new xi(new _D(r.getProvider("auth-internal")),new ED(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new re(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(f.options.projectId,m)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),zr(eT,"4.6.3",e),zr(eT,"4.6.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="firebasestorage.googleapis.com",CC="storageBucket",f4=2*60*1e3,p4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends Zr{constructor(e,n,r=0){super(ag(e),`Firebase Storage: ${n} (${ag(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function ag(t){return"storage/"+t}function t0(){const t="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,t)}function m4(t){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function g4(t){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _4(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,t)}function y4(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function v4(t){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function w4(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E4(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function T4(t){return new pt(ft.INVALID_URL,"Invalid URL '"+t+"'.")}function S4(t){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function P4(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CC+"' property when initializing the app?")}function I4(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function x4(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function C4(t){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function j_(t){return new pt(ft.INVALID_ARGUMENT,t)}function bC(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function b4(t){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gu(t,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _u(t){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(r.path==="")return r;throw S4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),h={bucket:1,path:3};function f(B){B.path_=decodeURIComponent(B.path)}const m="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",P=new RegExp(`^https?://${_}/${m}/b/${i}/o${w}`,"i"),S={bucket:1,path:3},E=n===xC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",b=new RegExp(`^https?://${E}/${i}/${N}`,"i"),R=[{regex:u,indices:h,postModify:o},{regex:P,indices:S,postModify:f},{regex:b,indices:{bucket:1,path:2},postModify:f}];for(let B=0;B<R.length;B++){const q=R[B],K=q.regex.exec(e);if(K){const k=K[q.indices.bucket];let C=K[q.indices.path];C||(C=""),r=new Dn(k,C),q.postModify(r);break}}if(r==null)throw T4(e);return r}}class A4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e,n){let r=1,i=null,o=null,a=!1,u=0;function h(){return u===2}let f=!1;function m(...N){f||(f=!0,e.apply(null,N))}function _(N){i=setTimeout(()=>{i=null,t(P,h())},N)}function w(){o&&clearTimeout(o)}function P(N,...b){if(f){w();return}if(N){w(),m.call(null,N,...b);return}if(h()||a){w(),m.call(null,N,...b);return}r<64&&(r*=2);let R;u===1?(u=2,R=0):R=(r+Math.random())*1e3,_(R)}let S=!1;function E(N){S||(S=!0,w(),!f&&(i!==null?(N||(u=2),clearTimeout(i),_(0)):N||(u=1)))}return _(0),o=setTimeout(()=>{a=!0,E(!0)},n),E}function k4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){return t!==void 0}function L4(t){return typeof t=="object"&&!Array.isArray(t)}function n0(t){return typeof t=="string"||t instanceof String}function FT(t){return r0()&&t instanceof Blob}function r0(){return typeof Blob<"u"}function UT(t,e,n,r){if(r<e)throw j_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw j_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function AC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ao||(ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i,o,a,u,h,f,m,_,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=_,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,S)=>{this.resolve_=P,this.reject_=S,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ud(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const u=o.getErrorCode()===ao.NO_ERROR,h=o.getStatus();if(!u||N4(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===ao.ABORT;r(!1,new ud(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new ud(f,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());O4(h)?o(h):o()}catch(h){a(h)}else if(u!==null){const h=t0();h.serverResponse=u.getErrorText(),this.errorCallback_?a(this.errorCallback_(u,h)):a(h)}else if(i.canceled){const h=this.appDelete_?bC():E4();a(h)}else{const h=w4();a(h)}};this.canceled_?n(!1,new ud(!1,null,!0)):this.backoffId_=R4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ud{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function D4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function V4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function F4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function j4(t,e,n,r,i,o,a=!0){const u=AC(t.urlParams),h=t.url+u,f=Object.assign({},t.headers);return F4(f,e),D4(f,n),V4(f,o),U4(f,r),new M4(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function z4(...t){const e=B4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(r0())return new Blob(t);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){if(typeof atob>"u")throw C4("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lg{constructor(e,n){this.data=e,this.contentType=n||null}}function W4(t,e){switch(t){case Ur.RAW:return new lg(RC(e));case Ur.BASE64:case Ur.BASE64URL:return new lg(kC(t,e));case Ur.DATA_URL:return new lg(G4(e),K4(e))}throw t0()}function RC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,a=t.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function q4(t){let e;try{e=decodeURIComponent(t)}catch{throw Gu(Ur.DATA_URL,"Malformed data URL.")}return RC(e)}function kC(t,e){switch(t){case Ur.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Gu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ur.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Gu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=H4(e)}catch(i){throw i.message.includes("polyfill")?i:Gu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class OC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gu(Ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Z4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function G4(t){const e=new OC(t);return e.base64?kC(Ur.BASE64,e.rest):q4(e.rest)}function K4(t){return new OC(t).contentType}function Z4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){let r=0,i="";FT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(FT(this.data_)){const r=this.data_,i=$4(r,e,n);return i===null?null:new ts(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ts(r,!0)}}static getBlob(...e){if(r0()){const n=e.map(r=>r instanceof ts?r.data_:r);return new ts(z4.apply(null,n))}else{const n=e.map(a=>n0(a)?W4(Ur.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let u=0;u<a.length;u++)i[o++]=a[u]}),new ts(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){let e;try{e=JSON.parse(t)}catch{return null}return L4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Y4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function NC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e){return e}class cn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||X4}}let cd=null;function J4(t){return!n0(t)||t.length<2?t:NC(t)}function MC(){if(cd)return cd;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(o,a){return J4(a)}const n=new cn("name");n.xform=e,t.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new cn("size");return i.xform=r,t.push(i),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),cd=t,cd}function eU(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Dn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function tU(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,e[a.server])}return eU(r,t),r}function DC(t,e,n){const r=LC(e);return r===null?null:tU(t,r,n)}function nU(t,e,n,r){const i=LC(e);if(i===null||!n0(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,_=t.fullPath,w="/b/"+a(m)+"/o/"+a(_),P=i0(w,n,r),S=AC({alt:"media",token:f});return P+S})[0]}function rU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class VC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){if(!t)throw t0()}function iU(t,e){function n(r,i){const o=DC(t,i,e);return FC(o!==null),o}return n}function sU(t,e){function n(r,i){const o=DC(t,i,e);return FC(o!==null),nU(o,i,t.host,t._protocol)}return n}function UC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=y4():i=_4():n.getStatus()===402?i=g4(t.bucket):n.getStatus()===403?i=v4(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function oU(t){const e=UC(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=m4(t.path)),o.serverResponse=i.serverResponse,o}return n}function aU(t,e,n){const r=e.fullServerUrl(),i=i0(r,t.host,t._protocol),o="GET",a=t.maxOperationRetryTime,u=new VC(i,o,sU(t,n),a);return u.errorHandler=oU(e),u}function lU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=lU(null,e)),r}function cU(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function u(){let R="";for(let B=0;B<2;B++)R=R+Math.random().toString().slice(2);return R}const h=u();a["Content-Type"]="multipart/related; boundary="+h;const f=uU(e,r,i),m=rU(f,n),_="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+h+"--",P=ts.getBlob(_,r,w);if(P===null)throw I4();const S={name:f.fullPath},E=i0(o,t.host,t._protocol),N="POST",b=t.maxUploadRetryTime,x=new VC(E,N,iU(t,n),b);return x.urlParams=S,x.headers=a,x.body=P.uploadData(),x.errorHandler=UC(e),x}class hU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw _u("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dU extends hU{initXhr(){this.xhr_.responseType="text"}}function jC(){return new dU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new To(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NC(this._location.path)}get storage(){return this._service}get parent(){const e=Q4(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new To(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b4(e)}}function fU(t,e,n){t._throwIfRoot("uploadBytes");const r=cU(t.storage,t._location,MC(),new ts(e,!0),n);return t.storage.makeRequestWithTokens(r,jC).then(i=>({metadata:i,ref:t}))}function pU(t){t._throwIfRoot("getDownloadURL");const e=aU(t.storage,t._location,MC());return t.storage.makeRequestWithTokens(e,jC).then(n=>{if(n===null)throw x4();return n})}function mU(t,e){const n=Y4(t._location.path,e),r=new Dn(t._location.bucket,n);return new To(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(t){return/^[A-Za-z]+:\/\//.test(t)}function _U(t,e){return new To(t,e)}function BC(t,e){if(t instanceof s0){const n=t;if(n._bucket==null)throw P4();const r=new To(n,n._bucket);return e!=null?BC(r,e):r}else return e!==void 0?mU(t,e):t}function yU(t,e){if(e&&gU(e)){if(t instanceof s0)return _U(t,e);throw j_("To use ref(service, url), the first argument must be a Storage instance.")}else return BC(t,e)}function jT(t,e){const n=e==null?void 0:e[CC];return n==null?null:Dn.makeFromBucketSpec(n,t)}function vU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:hI(i,t.app.options.projectId))}class s0{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=xC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f4,this._maxUploadRetryTime=p4,this._requests=new Set,i!=null?this._bucket=Dn.makeFromBucketSpec(i,this._host):this._bucket=jT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=jT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new To(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new A4(bC());{const a=j4(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const BT="@firebase/storage",zT="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="storage";function wU(t,e,n){return t=Ye(t),fU(t,e,n)}function EU(t){return t=Ye(t),pU(t)}function TU(t,e){return t=Ye(t),yU(t,e)}function SU(t=ov(),e){t=Ye(t);const r=sp(t,zC).getImmediate({identifier:e}),i=lI("storage");return i&&PU(r,...i),r}function PU(t,e,n,r={}){vU(t,e,n,r)}function IU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new s0(n,r,i,e,Co)}function xU(){go(new ws(zC,IU,"PUBLIC").setMultipleInstances(!0)),zr(BT,zT,""),zr(BT,zT,"esm2017")}xU();const CU={apiKey:"AIzaSyAdSu1UzGJy9CXq0w2m7ra8xc3ilUTQ6d8",authDomain:"auth-development-6bbed.firebaseapp.com",projectId:"auth-development-6bbed",storageBucket:"auth-development-6bbed.appspot.com",messagingSenderId:"575025763009",appId:"1:575025763009:web:3d3bf8b3a3ac59290d7a40"},o0=pI(CU),Oo=fD(o0),rn=e4(o0),bU=SU(o0),$C=j.createContext();function ar(){return j.useContext($C)}function AU({children:t}){const[e,n]=j.useState(null),[r,i]=j.useState(!1),[o,a]=j.useState(!1),[u,h]=j.useState(!1),[f,m]=j.useState(!0),[_,w]=j.useState({});j.useEffect(()=>tM(Oo,async N=>{if(N){n({...N});const b=N.providerData.some(R=>R.providerId==="password");a(b);const x=N.providerData.some(R=>R.providerId==="google.com");h(x),i(!0)}else n(null),i(!1);m(!1)}),[]);const S={userLoggedIn:r,isEmailUser:o,isGoogleUser:u,currentUser:e,setCurrentUser:n,loading:f,setLoading:m,fetchDisplayName:async E=>{if(_[E])return _[E];const N=await u4(oo(rn,"users",E));if(N.exists()){const b=N.data().displayName;return w(x=>({...x,[E]:b})),b}return null}};return A.jsx($C.Provider,{value:S,children:!f&&t})}function HC(t,e){return function(){return t.apply(e,arguments)}}const{toString:RU}=Object.prototype,{getPrototypeOf:a0}=Object,Ap=(t=>e=>{const n=RU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=t=>(t=t.toLowerCase(),e=>Ap(e)===t),Rp=t=>e=>typeof e===t,{isArray:El}=Array,Ec=Rp("undefined");function kU(t){return t!==null&&!Ec(t)&&t.constructor!==null&&!Ec(t.constructor)&&nr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WC=Cr("ArrayBuffer");function OU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&WC(t.buffer),e}const LU=Rp("string"),nr=Rp("function"),qC=Rp("number"),kp=t=>t!==null&&typeof t=="object",NU=t=>t===!0||t===!1,Md=t=>{if(Ap(t)!=="object")return!1;const e=a0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MU=Cr("Date"),DU=Cr("File"),VU=Cr("Blob"),FU=Cr("FileList"),UU=t=>kp(t)&&nr(t.pipe),jU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nr(t.append)&&((e=Ap(t))==="formdata"||e==="object"&&nr(t.toString)&&t.toString()==="[object FormData]"))},BU=Cr("URLSearchParams"),[zU,$U,HU,WU]=["ReadableStream","Request","Response","Headers"].map(Cr),qU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),El(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let u;for(r=0;r<a;r++)u=o[r],e.call(null,t[u],u,t)}}function GC(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const KC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZC=t=>!Ec(t)&&t!==KC;function B_(){const{caseless:t}=ZC(this)&&this||{},e={},n=(r,i)=>{const o=t&&GC(e,i)||i;Md(e[o])&&Md(r)?e[o]=B_(e[o],r):Md(r)?e[o]=B_({},r):El(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Qc(arguments[r],n);return e}const GU=(t,e,n,{allOwnKeys:r}={})=>(Qc(e,(i,o)=>{n&&nr(i)?t[o]=HC(i,n):t[o]=i},{allOwnKeys:r}),t),KU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},QU=(t,e,n,r)=>{let i,o,a;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!r||r(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=n!==!1&&a0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},YU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},XU=t=>{if(!t)return null;if(El(t))return t;let e=t.length;if(!qC(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},JU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&a0(Uint8Array)),ej=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},tj=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},nj=Cr("HTMLFormElement"),rj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$T=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ij=Cr("RegExp"),QC=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Qc(n,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(r[o]=a||i)}),Object.defineProperties(t,r)},sj=t=>{QC(t,(e,n)=>{if(nr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(nr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oj=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return El(t)?r(t):r(String(t).split(e)),n},aj=()=>{},lj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,ug="abcdefghijklmnopqrstuvwxyz",HT="0123456789",YC={DIGIT:HT,ALPHA:ug,ALPHA_DIGIT:ug+ug.toUpperCase()+HT},uj=(t=16,e=YC.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function cj(t){return!!(t&&nr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const hj=t=>{const e=new Array(10),n=(r,i)=>{if(kp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=El(r)?[]:{};return Qc(r,(a,u)=>{const h=n(a,i+1);!Ec(h)&&(o[u]=h)}),e[i]=void 0,o}}return r};return n(t,0)},dj=Cr("AsyncFunction"),fj=t=>t&&(kp(t)||nr(t))&&nr(t.then)&&nr(t.catch),G={isArray:El,isArrayBuffer:WC,isBuffer:kU,isFormData:jU,isArrayBufferView:OU,isString:LU,isNumber:qC,isBoolean:NU,isObject:kp,isPlainObject:Md,isReadableStream:zU,isRequest:$U,isResponse:HU,isHeaders:WU,isUndefined:Ec,isDate:MU,isFile:DU,isBlob:VU,isRegExp:ij,isFunction:nr,isStream:UU,isURLSearchParams:BU,isTypedArray:JU,isFileList:FU,forEach:Qc,merge:B_,extend:GU,trim:qU,stripBOM:KU,inherits:ZU,toFlatObject:QU,kindOf:Ap,kindOfTest:Cr,endsWith:YU,toArray:XU,forEachEntry:ej,matchAll:tj,isHTMLForm:nj,hasOwnProperty:$T,hasOwnProp:$T,reduceDescriptors:QC,freezeMethods:sj,toObjectSet:oj,toCamelCase:rj,noop:aj,toFiniteNumber:lj,findKey:GC,global:KC,isContextDefined:ZC,ALPHABET:YC,generateString:uj,isSpecCompliantForm:cj,toJSONObject:hj,isAsyncFn:dj,isThenable:fj};function we(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}G.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const XC=we.prototype,JC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{JC[t]={value:t}});Object.defineProperties(we,JC);Object.defineProperty(XC,"isAxiosError",{value:!0});we.from=(t,e,n,r,i,o)=>{const a=Object.create(XC);return G.toFlatObject(t,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),we.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const pj=null;function z_(t){return G.isPlainObject(t)||G.isArray(t)}function eb(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function WT(t,e,n){return t?t.concat(e).map(function(i,o){return i=eb(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function mj(t){return G.isArray(t)&&!t.some(z_)}const gj=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function Op(t,e,n){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=G.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,N){return!G.isUndefined(N[E])});const r=n.metaTokens,i=n.visitor||m,o=n.dots,a=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function f(S){if(S===null)return"";if(G.isDate(S))return S.toISOString();if(!h&&G.isBlob(S))throw new we("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(S)||G.isTypedArray(S)?h&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,E,N){let b=S;if(S&&!N&&typeof S=="object"){if(G.endsWith(E,"{}"))E=r?E:E.slice(0,-2),S=JSON.stringify(S);else if(G.isArray(S)&&mj(S)||(G.isFileList(S)||G.endsWith(E,"[]"))&&(b=G.toArray(S)))return E=eb(E),b.forEach(function(R,B){!(G.isUndefined(R)||R===null)&&e.append(a===!0?WT([E],B,o):a===null?E:E+"[]",f(R))}),!1}return z_(S)?!0:(e.append(WT(N,E,o),f(S)),!1)}const _=[],w=Object.assign(gj,{defaultVisitor:m,convertValue:f,isVisitable:z_});function P(S,E){if(!G.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+E.join("."));_.push(S),G.forEach(S,function(b,x){(!(G.isUndefined(b)||b===null)&&i.call(e,b,G.isString(x)?x.trim():x,E,w))===!0&&P(b,E?E.concat(x):[x])}),_.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return P(t),e}function qT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function l0(t,e){this._pairs=[],t&&Op(t,this,e)}const tb=l0.prototype;tb.append=function(e,n){this._pairs.push([e,n])};tb.toString=function(e){const n=e?function(r){return e.call(this,r,qT)}:qT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _j(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nb(t,e,n){if(!e)return t;const r=n&&n.encode||_j,i=n&&n.serialize;let o;if(i?o=i(e,n):o=G.isURLSearchParams(e)?e.toString():new l0(e,n).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class GT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yj=typeof URLSearchParams<"u"?URLSearchParams:l0,vj=typeof FormData<"u"?FormData:null,wj=typeof Blob<"u"?Blob:null,Ej={isBrowser:!0,classes:{URLSearchParams:yj,FormData:vj,Blob:wj},protocols:["http","https","file","blob","url","data"]},u0=typeof window<"u"&&typeof document<"u",Tj=(t=>u0&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Sj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pj=u0&&window.location.href||"http://localhost",Ij=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:u0,hasStandardBrowserEnv:Tj,hasStandardBrowserWebWorkerEnv:Sj,origin:Pj},Symbol.toStringTag,{value:"Module"})),Pr={...Ij,...Ej};function xj(t,e){return Op(t,new Pr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Pr.isNode&&G.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Cj(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bj(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ib(t){function e(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const u=Number.isFinite(+a),h=o>=n.length;return a=!a&&G.isArray(i)?i.length:a,h?(G.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!u):((!i[a]||!G.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],o)&&G.isArray(i[a])&&(i[a]=bj(i[a])),!u)}if(G.isFormData(t)&&G.isFunction(t.entries)){const n={};return G.forEachEntry(t,(r,i)=>{e(Cj(r),i,n,0)}),n}return null}function Aj(t,e,n){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Yc={transitional:rb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=G.isObject(e);if(o&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(ib(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xj(e,this.formSerializer).toString();if((u=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Op(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Aj(e)):e}],transformResponse:[function(e){const n=this.transitional||Yc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?we.from(u,we.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{Yc.headers[t]={}});const Rj=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kj=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&Rj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},KT=Symbol("internals");function yu(t){return t&&String(t).trim().toLowerCase()}function Dd(t){return t===!1||t==null?t:G.isArray(t)?t.map(Dd):String(t)}function Oj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Lj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cg(t,e,n,r,i){if(G.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!G.isString(e)){if(G.isString(r))return e.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(e)}}function Nj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Mj(t,e){const n=G.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,a){return this[r].call(this,e,i,o,a)},configurable:!0})})}class xn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(u,h,f){const m=yu(h);if(!m)throw new Error("header name must be a non-empty string");const _=G.findKey(i,m);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||h]=Dd(u))}const a=(u,h)=>G.forEach(u,(f,m)=>o(f,m,h));if(G.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(G.isString(e)&&(e=e.trim())&&!Lj(e))a(kj(e),n);else if(G.isHeaders(e))for(const[u,h]of e.entries())o(h,u,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=yu(e),e){const r=G.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Oj(i);if(G.isFunction(n))return n.call(this,i,r);if(G.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=yu(e),e){const r=G.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||cg(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(a){if(a=yu(a),a){const u=G.findKey(r,a);u&&(!n||cg(r,r[u],u,n))&&(delete r[u],i=!0)}}return G.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||cg(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return G.forEach(this,(i,o)=>{const a=G.findKey(r,o);if(a){n[a]=Dd(i),delete n[o];return}const u=e?Nj(o):String(o).trim();u!==o&&delete n[o],n[u]=Dd(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&G.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[KT]=this[KT]={accessors:{}}).accessors,i=this.prototype;function o(a){const u=yu(a);r[u]||(Mj(i,a),r[u]=!0)}return G.isArray(e)?e.forEach(o):o(e),this}}xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(xn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});G.freezeMethods(xn);function hg(t,e){const n=this||Yc,r=e||n,i=xn.from(r.headers);let o=r.data;return G.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function sb(t){return!!(t&&t.__CANCEL__)}function Tl(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}G.inherits(Tl,we,{__CANCEL__:!0});function ob(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Dj(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Vj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),m=r[o];a||(a=f),n[i]=h,r[i]=f;let _=o,w=0;for(;_!==i;)w+=n[_++],_=_%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-a<e)return;const P=m&&f-m;return P?Math.round(w*1e3/P):void 0}}function Fj(t,e){let n=0;const r=1e3/e;let i=null;return function(){const a=this===!0,u=Date.now();if(a||u-n>r)return i&&(clearTimeout(i),i=null),n=u,t.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),t.apply(null,arguments)),r-(u-n)))}}const Df=(t,e,n=3)=>{let r=0;const i=Vj(50,250);return Fj(o=>{const a=o.loaded,u=o.lengthComputable?o.total:void 0,h=a-r,f=i(h),m=a<=u;r=a;const _={loaded:a,total:u,progress:u?a/u:void 0,bytes:h,rate:f||void 0,estimated:f&&u&&m?(u-a)/f:void 0,event:o,lengthComputable:u!=null};_[e?"download":"upload"]=!0,t(_)},n)},Uj=Pr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let a=o;return e&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const u=G.isString(a)?i(a):a;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),jj=Pr.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const a=[t+"="+encodeURIComponent(e)];G.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),G.isString(r)&&a.push("path="+r),G.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ab(t,e){return t&&!Bj(e)?zj(t,e):e}const ZT=t=>t instanceof xn?{...t}:t;function So(t,e){e=e||{};const n={};function r(f,m,_){return G.isPlainObject(f)&&G.isPlainObject(m)?G.merge.call({caseless:_},f,m):G.isPlainObject(m)?G.merge({},m):G.isArray(m)?m.slice():m}function i(f,m,_){if(G.isUndefined(m)){if(!G.isUndefined(f))return r(void 0,f,_)}else return r(f,m,_)}function o(f,m){if(!G.isUndefined(m))return r(void 0,m)}function a(f,m){if(G.isUndefined(m)){if(!G.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,_){if(_ in e)return r(f,m);if(_ in t)return r(void 0,f)}const h={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(f,m)=>i(ZT(f),ZT(m),!0)};return G.forEach(Object.keys(Object.assign({},t,e)),function(m){const _=h[m]||i,w=_(t[m],e[m],m);G.isUndefined(w)&&_!==u||(n[m]=w)}),n}const lb=t=>{const e=So({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:u}=e;e.headers=a=xn.from(a),e.url=nb(ab(e.baseURL,e.url),t.params,t.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(G.isFormData(n)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((h=a.getContentType())!==!1){const[f,...m]=h?h.split(";").map(_=>_.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...m].join("; "))}}if(Pr.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(e)),r||r!==!1&&Uj(e.url))){const f=i&&o&&jj.read(o);f&&a.set(i,f)}return e},$j=typeof XMLHttpRequest<"u",Hj=$j&&function(t){return new Promise(function(n,r){const i=lb(t);let o=i.data;const a=xn.from(i.headers).normalize();let{responseType:u}=i,h;function f(){i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function _(){if(!m)return;const P=xn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:P,config:t,request:m};ob(function(b){n(b),f()},function(b){r(b),f()},E),m=null}"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(_)},m.onabort=function(){m&&(r(new we("Request aborted",we.ECONNABORTED,i,m)),m=null)},m.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,i,m)),m=null},m.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||rb;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new we(S,E.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,i,m)),m=null},o===void 0&&a.setContentType(null),"setRequestHeader"in m&&G.forEach(a.toJSON(),function(S,E){m.setRequestHeader(E,S)}),G.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),u&&u!=="json"&&(m.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&m.addEventListener("progress",Df(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",Df(i.onUploadProgress)),(i.cancelToken||i.signal)&&(h=P=>{m&&(r(!P||P.type?new Tl(null,t,m):P),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const w=Dj(i.url);if(w&&Pr.protocols.indexOf(w)===-1){r(new we("Unsupported protocol "+w+":",we.ERR_BAD_REQUEST,t));return}m.send(o||null)})},Wj=(t,e)=>{let n=new AbortController,r;const i=function(h){if(!r){r=!0,a();const f=h instanceof Error?h:this.reason;n.abort(f instanceof we?f:new Tl(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{i(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h&&(h.removeEventListener?h.removeEventListener("abort",i):h.unsubscribe(i))}),t=null)};t.forEach(h=>h&&h.addEventListener&&h.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=a,[u,()=>{o&&clearTimeout(o),o=null}]},qj=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Gj=async function*(t,e,n){for await(const r of t)yield*qj(ArrayBuffer.isView(r)?r:await n(String(r)),e)},QT=(t,e,n,r,i)=>{const o=Gj(t,e,i);let a=0;return new ReadableStream({type:"bytes",async pull(u){const{done:h,value:f}=await o.next();if(h){u.close(),r();return}let m=f.byteLength;n&&n(a+=m),u.enqueue(new Uint8Array(f))},cancel(u){return r(u),o.return()}},{highWaterMark:2})},YT=(t,e)=>{const n=t!=null;return r=>setTimeout(()=>e({lengthComputable:n,total:t,loaded:r}))},Lp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ub=Lp&&typeof ReadableStream=="function",$_=Lp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Kj=ub&&(()=>{let t=!1;const e=new Request(Pr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),XT=64*1024,H_=ub&&!!(()=>{try{return G.isReadableStream(new Response("").body)}catch{}})(),Vf={stream:H_&&(t=>t.body)};Lp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Vf[e]&&(Vf[e]=G.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const Zj=async t=>{if(t==null)return 0;if(G.isBlob(t))return t.size;if(G.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(G.isArrayBufferView(t))return t.byteLength;if(G.isURLSearchParams(t)&&(t=t+""),G.isString(t))return(await $_(t)).byteLength},Qj=async(t,e)=>{const n=G.toFiniteNumber(t.getContentLength());return n??Zj(e)},Yj=Lp&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:u,onUploadProgress:h,responseType:f,headers:m,withCredentials:_="same-origin",fetchOptions:w}=lb(t);f=f?(f+"").toLowerCase():"text";let[P,S]=i||o||a?Wj([i,o],a):[],E,N;const b=()=>{!E&&setTimeout(()=>{P&&P.unsubscribe()}),E=!0};let x;try{if(h&&Kj&&n!=="get"&&n!=="head"&&(x=await Qj(m,r))!==0){let K=new Request(e,{method:"POST",body:r,duplex:"half"}),k;G.isFormData(r)&&(k=K.headers.get("content-type"))&&m.setContentType(k),K.body&&(r=QT(K.body,XT,YT(x,Df(h)),null,$_))}G.isString(_)||(_=_?"cors":"omit"),N=new Request(e,{...w,signal:P,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",withCredentials:_});let R=await fetch(N);const B=H_&&(f==="stream"||f==="response");if(H_&&(u||B)){const K={};["status","statusText","headers"].forEach(C=>{K[C]=R[C]});const k=G.toFiniteNumber(R.headers.get("content-length"));R=new Response(QT(R.body,XT,u&&YT(k,Df(u,!0)),B&&b,$_),K)}f=f||"text";let q=await Vf[G.findKey(Vf,f)||"text"](R,t);return!B&&b(),S&&S(),await new Promise((K,k)=>{ob(K,k,{data:q,headers:xn.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:N})})}catch(R){throw b(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,t,N),{cause:R.cause||R}):we.from(R,R&&R.code,t,N)}}),W_={http:pj,xhr:Hj,fetch:Yj};G.forEach(W_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const JT=t=>`- ${t}`,Xj=t=>G.isFunction(t)||t===null||t===!1,cb={getAdapter:t=>{t=G.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let a;if(r=n,!Xj(n)&&(r=W_[(a=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(JT).join(`
`):" "+JT(o[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:W_};function dg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tl(null,t)}function e1(t){return dg(t),t.headers=xn.from(t.headers),t.data=hg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cb.getAdapter(t.adapter||Yc.adapter)(t).then(function(r){return dg(t),r.data=hg.call(t,t.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return sb(r)||(dg(t),r&&r.response&&(r.response.data=hg.call(t,t.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const hb="1.7.2",c0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{c0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const t1={};c0.transitional=function(e,n,r){function i(o,a){return"[Axios v"+hb+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,u)=>{if(e===!1)throw new we(i(a," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!t1[a]&&(t1[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,a,u):!0}};function Jj(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const u=t[o],h=u===void 0||a(u,o,t);if(h!==!0)throw new we("option "+o+" must be "+h,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+o,we.ERR_BAD_OPTION)}}const q_={assertOptions:Jj,validators:c0},qi=q_.validators;class lo{constructor(e){this.defaults=e,this.interceptors={request:new GT,response:new GT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=So(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&q_.assertOptions(r,{silentJSONParsing:qi.transitional(qi.boolean),forcedJSONParsing:qi.transitional(qi.boolean),clarifyTimeoutError:qi.transitional(qi.boolean)},!1),i!=null&&(G.isFunction(i)?n.paramsSerializer={serialize:i}:q_.assertOptions(i,{encode:qi.function,serialize:qi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&G.merge(o.common,o[n.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=xn.concat(a,o);const u=[];let h=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(h=h&&E.synchronous,u.unshift(E.fulfilled,E.rejected))});const f=[];this.interceptors.response.forEach(function(E){f.push(E.fulfilled,E.rejected)});let m,_=0,w;if(!h){const S=[e1.bind(this),void 0];for(S.unshift.apply(S,u),S.push.apply(S,f),w=S.length,m=Promise.resolve(n);_<w;)m=m.then(S[_++],S[_++]);return m}w=u.length;let P=n;for(_=0;_<w;){const S=u[_++],E=u[_++];try{P=S(P)}catch(N){E.call(this,N);break}}try{m=e1.call(this,P)}catch(S){return Promise.reject(S)}for(_=0,w=f.length;_<w;)m=m.then(f[_++],f[_++]);return m}getUri(e){e=So(this.defaults,e);const n=ab(e.baseURL,e.url);return nb(n,e.params,e.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(e){lo.prototype[e]=function(n,r){return this.request(So(r||{},{method:e,url:n,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(e){function n(r){return function(o,a,u){return this.request(So(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}lo.prototype[e]=n(),lo.prototype[e+"Form"]=n(!0)});class h0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(u=>{r.subscribe(u),o=u}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,u){r.reason||(r.reason=new Tl(o,a,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new h0(function(i){e=i}),cancel:e}}}function e3(t){return function(n){return t.apply(null,n)}}function t3(t){return G.isObject(t)&&t.isAxiosError===!0}const G_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(G_).forEach(([t,e])=>{G_[e]=t});function db(t){const e=new lo(t),n=HC(lo.prototype.request,e);return G.extend(n,lo.prototype,e,{allOwnKeys:!0}),G.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return db(So(t,i))},n}const ot=db(Yc);ot.Axios=lo;ot.CanceledError=Tl;ot.CancelToken=h0;ot.isCancel=sb;ot.VERSION=hb;ot.toFormData=Op;ot.AxiosError=we;ot.Cancel=ot.CanceledError;ot.all=function(e){return Promise.all(e)};ot.spread=e3;ot.isAxiosError=t3;ot.mergeConfig=So;ot.AxiosHeaders=xn;ot.formToJSON=t=>ib(G.isHTMLForm(t)?new FormData(t):t);ot.getAdapter=cb.getAdapter;ot.HttpStatusCode=G_;ot.default=ot;const Tc=ot.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});Tc.interceptors.request.use(t=>t,t=>Promise.reject(t));Tc.interceptors.response.use(t=>t,t=>Promise.reject(t));const fb=j.createContext(),pb=({children:t})=>{const[e,n]=j.useState([]),[r,i]=j.useState([]);j.useEffect(()=>{(async()=>{try{const h=(await Tc.get("/hostels")).data;h.sort((f,m)=>m.averageRating-f.averageRating),n(h),i(h)}catch(u){console.error("Error fetching hostels:",u)}})()},[]);const o=async(a,u)=>{try{await Tc.post(`/hostels/save/${a}`,{userId:u}),n(h=>h.map(f=>f._id===a?{...f,savedBy:f.savedBy.includes(u)?f.savedBy.filter(m=>m!==u):[...f.savedBy,u]}:f)),i(h=>h.map(f=>f._id===a?{...f,savedBy:f.savedBy.includes(u)?f.savedBy.filter(m=>m!==u):[...f.savedBy,u]}:f))}catch(h){console.error("Error saving hostel:",h)}};return A.jsx(fb.Provider,{value:{hostels:e,setHostels:n,filteredHostels:r,setFilteredHostels:i,saveHostel:o},children:t})},Xc=()=>j.useContext(fb),n3=async(t,e)=>Q2(Oo,t,e),r3=(t,e)=>Y2(Oo,t,e),i3=async()=>{const t=new ci;(await TM(Oo,t)).user},s3=()=>Oo.signOut(),o3=async(t,e,n,r)=>{if(!e||!e.uid){console.error("Invalid currentUser:",e);return}const i=TU(bU,`profile/${e.uid}/${t.name}`);n(!0);try{await wU(i,t);const o=await EU(i);await FI(Oo.currentUser,{photoURL:o}),r(f=>({...f,photoURL:o})),n(!1),alert("Uploaded file! Refresh to see changes.");const a=IC(rn);(await Nf(ll(kf(rn,"comments"),Lf("uid","==",e.uid)))).forEach(f=>{a.update(f.ref,{photoURL:o})}),(await Nf(ll(kf(rn,"replies"),Lf("uid","==",e.uid)))).forEach(f=>{a.update(f.ref,{photoURL:o})}),await a.commit()}catch(o){n(!1),console.error("Error uploading photo:",o),alert("Failed to upload photo")}},a3=async(t,e,n,r)=>{if(!e||!e.uid){console.error("Invalid currentUser:",e);return}n(!0);try{await FI(Oo.currentUser,{displayName:t}),r(u=>({...u,displayName:t}));const i=IC(rn);(await Nf(ll(kf(rn,"comments"),Lf("uid","==",e.uid)))).forEach(u=>{i.update(u.ref,{displayName:t})}),(await Nf(ll(kf(rn,"replies"),Lf("uid","==",e.uid)))).forEach(u=>{i.update(u.ref,{displayName:t})}),await i.commit(),n(!1),alert("Username updated! Refresh to see changes.")}catch(i){n(!1),console.error("Error updating username:",i),alert("Failed to update username")}},n1=()=>{const{userLoggedIn:t}=ar(),[e,n]=j.useState(""),[r,i]=j.useState(""),[o,a]=j.useState(!1),[u,h]=j.useState(""),f=P=>/\S+@\S+\.\S+/.test(P),m=async P=>{if(P.preventDefault(),h(""),!f(e)){h("Invalid email address.");return}if(r.length<6){h("Password must be at least 6 characters long.");return}if(!o){a(!0);try{await r3(e,r)}catch(S){console.error(S),S.code==="auth/user-not-found"?h("No user found with this email. Please register first."):S.code==="auth/wrong-password"||S.code==="auth/invalid-credential"?h("Incorrect password. Please try again."):h("Error signing in. Please check your email and password."),a(!1)}}},_=P=>{P.preventDefault(),o||(a(!0),i3().catch(S=>{console.error(S),h("Error signing in with Google."),a(!1)}))},w={height:"100vh",backgroundImage:'url("/utown.jpg")',backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center"};return A.jsx("div",{style:w,children:A.jsxs("div",{children:[t&&A.jsx(rv,{to:"/home",replace:!0}),A.jsxs("div",{className:"w-96 bg-white text-gray-600 space-y-5 p-4 shadow-xl border rounded-xl",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("div",{className:"mt-2",children:A.jsx("h3",{className:"text-gray-600 text-xl font-semibold sm:text-2xl",children:"NUStay"})}),A.jsxs("p",{className:"text-gray-600 mt-4",children:["Are you ready to find the perfect hostel ",A.jsx("br",{}),"and start your university journey? ",A.jsx("br",{}),A.jsx("span",{className:"font-bold",children:"NUStay"})," will guide you every step of the way!"]})]}),A.jsxs("form",{onSubmit:m,className:"space-y-5",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Email"}),A.jsx("input",{type:"email",autoComplete:"email",required:!0,value:e,onChange:P=>{n(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Password"}),A.jsx("input",{type:"password",autoComplete:"current-password",required:!0,value:r,onChange:P=>{i(P.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),u&&A.jsx("span",{className:"text-red-600 font-bold",children:u}),A.jsx("button",{type:"submit",disabled:o,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${o?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-xl transition duration-300"}`,children:o?"Signing In...":"Sign In"})]}),A.jsxs("p",{className:"text-center text-sm",children:["Don't have an account? ",A.jsx(At,{to:"/register",className:"hover:underline font-bold",children:"Sign up"})]}),A.jsxs("div",{className:"flex flex-row text-center w-full",children:[A.jsx("div",{className:"border-b-2 mb-2.5 mr-2 w-full"}),A.jsx("div",{className:"text-sm font-bold w-fit",children:"OR"}),A.jsx("div",{className:"border-b-2 mb-2.5 ml-2 w-full"})]}),A.jsxs("button",{disabled:o,onClick:_,className:`w-full flex items-center justify-center gap-x-3 py-2.5 border rounded-lg text-sm font-medium  ${o?"cursor-not-allowed":"hover:bg-gray-100 transition duration-300 active:bg-gray-100"}`,children:[A.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsxs("g",{clipPath:"url(#clip0_17_40)",children:[A.jsx("path",{d:"M47.532 24.5528C47.532 22.9214 47.3997 21.2811 47.1175 19.6761H24.48V28.9181H37.4434C36.9055 31.8988 35.177 34.5356 32.6461 36.2111V42.2078H40.3801C44.9217 38.0278 47.532 31.8547 47.532 24.5528Z",fill:"#4285F4"}),A.jsx("path",{d:"M24.48 48.0016C30.9529 48.0016 36.4116 45.8764 40.3888 42.2078L32.6549 36.2111C30.5031 37.675 27.7252 38.5039 24.4888 38.5039C18.2275 38.5039 12.9187 34.2798 11.0139 28.6006H3.03296V34.7825C7.10718 42.8868 15.4056 48.0016 24.48 48.0016Z",fill:"#34A853"}),A.jsx("path",{d:"M11.0051 28.6006C9.99973 25.6199 9.99973 22.3922 11.0051 19.4115V13.2296H3.03298C-0.371021 20.0112 -0.371021 28.0009 3.03298 34.7825L11.0051 28.6006Z",fill:"#FBBC04"}),A.jsx("path",{d:"M24.48 9.49932C27.9016 9.44641 31.2086 10.7339 33.6866 13.0973L40.5387 6.24523C36.2 2.17101 30.4414 -0.068932 24.48 0.00161733C15.4055 0.00161733 7.10718 5.11644 3.03296 13.2296L11.005 19.4115C12.901 13.7235 18.2187 9.49932 24.48 9.49932Z",fill:"#EA4335"})]}),A.jsx("defs",{children:A.jsx("clipPath",{id:"clip0_17_40",children:A.jsx("rect",{width:"48",height:"48",fill:"white"})})})]}),o?"Signing In...":"Continue with Google"]})]})]})})},l3=()=>{const t=ml(),{userLoggedIn:e}=ar(),[n,r]=j.useState(""),[i,o]=j.useState(""),[a,u]=j.useState(""),[h,f]=j.useState(!1),[m,_]=j.useState(""),w=E=>/\S+@\S+\.\S+/.test(E),P=async E=>{if(E.preventDefault(),_(""),!w(n)){_("Invalid email address.");return}if(i.length<6){_("Password must be at least 6 characters long.");return}if(i!==a){_("Passwords do not match.");return}if(!h){f(!0);try{await n3(n,i),t("/home")}catch(N){N.code==="auth/email-already-in-use"?_("Email is already registered. Please use a different email or login."):_("Error creating account. Please try again."),f(!1)}}},S={height:"100vh",backgroundImage:'url("/utown.jpg")',backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center"};return A.jsxs("div",{style:S,children:[e&&A.jsx(rv,{to:"/home",replace:!0}),A.jsx("main",{className:"w-full h-screen flex self-center place-content-center place-items-center",children:A.jsxs("div",{className:"w-96 bg-white text-gray-600 space-y-5 p-4 shadow-xl border rounded-xl",children:[A.jsx("div",{className:"text-center mb-6",children:A.jsx("div",{className:"mt-2",children:A.jsx("h3",{className:"text-gray-800 text-xl font-semibold sm:text-2xl",children:"Create a New Account"})})}),A.jsxs("form",{onSubmit:P,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Email"}),A.jsx("input",{type:"email",autoComplete:"email",required:!0,value:n,onChange:E=>{r(E.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:indigo-600 shadow-sm rounded-lg transition duration-300"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Password"}),A.jsx("input",{disabled:h,type:"password",autoComplete:"new-password",required:!0,value:i,onChange:E=>{o(E.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-sm text-gray-600 font-bold",children:"Confirm Password"}),A.jsx("input",{disabled:h,type:"password",autoComplete:"off",required:!0,value:a,onChange:E=>{u(E.target.value)},className:"w-full mt-2 px-3 py-2 text-gray-500 bg-transparent outline-none border focus:border-indigo-600 shadow-sm rounded-lg transition duration-300"})]}),m&&A.jsx("span",{className:"text-red-600 font-bold",children:m}),A.jsx("button",{type:"submit",disabled:h,className:`w-full px-4 py-2 text-white font-medium rounded-lg ${h?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-xl transition duration-300"}`,children:h?"Signing Up...":"Sign Up"}),A.jsxs("div",{className:"text-sm text-center",children:["Already have an account? ","   ",A.jsx(At,{to:"/login",className:"text-center text-sm hover:underline font-bold",children:"Continue"})]})]})]})})]})};function mb({item:t}){const{currentUser:e}=ar(),{saveHostel:n}=Xc(),[r,i]=j.useState(!1);j.useEffect(()=>{e&&t.savedBy.includes(e.uid)&&i(!0)},[e,t.savedBy]);const o=async()=>{e&&(i(a=>!a),await n(t._id,e.uid))};return A.jsxs("div",{className:"card",children:[A.jsxs(At,{to:`/hostel/${t._id}`,className:"imageContainer",children:[A.jsx("img",{src:t.imageUrls[0],alt:t.name})," "]}),A.jsxs("div",{className:"textContainer",children:[A.jsx("h2",{className:"title",children:A.jsx(At,{to:`/hostel/${t._id}`,children:t.name})}),A.jsxs("p",{className:"address",children:[A.jsx("img",{src:"/bed.png",alt:"Location"}),A.jsx("span",{children:t.type})]}),A.jsxs("p",{className:"price",children:["$ ",t.price," / month"]}),A.jsxs("div",{className:"bottom",children:[A.jsx("div",{className:"features",children:A.jsxs("div",{className:"feature",children:[A.jsx("img",{src:"/star.png",alt:"Rating"}),A.jsxs("span",{children:[Number(t.averageRating).toFixed(1)," (",t.ratings.length,")"]})]})}),A.jsxs("div",{className:`save-button ${r?"saved":""}`,onClick:o,children:[A.jsx("span",{children:r?"Hostel saved ":"Save this hostel "}),A.jsx("img",{src:"/save.png",alt:"Save"})]})]})]})]})}function u3({posts:t}){return A.jsx("div",{className:"list",children:t.map(e=>A.jsx(mb,{item:e},e._id))})}function gb(t,e){const n=j.useRef(e);j.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const c3=1;function h3(t){return Object.freeze({__version:c3,map:t})}function d3(t,e){return Object.freeze({...t,...e})}const _b=j.createContext(null),yb=_b.Provider;function vb(){const t=j.useContext(_b);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function f3(t){function e(n,r){const{instance:i,context:o}=t(n).current;return j.useImperativeHandle(r,()=>i),n.children==null?null:zd.createElement(yb,{value:o},n.children)}return j.forwardRef(e)}function p3(t){function e(n,r){const[i,o]=j.useState(!1),{instance:a}=t(n,o).current;j.useImperativeHandle(r,()=>a),j.useEffect(function(){i&&a.update()},[a,i,n.children]);const u=a._contentNode;return u?ZP.createPortal(n.children,u):null}return j.forwardRef(e)}function m3(t){function e(n,r){const{instance:i}=t(n).current;return j.useImperativeHandle(r,()=>i),null}return j.forwardRef(e)}function wb(t,e){const n=j.useRef();j.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function d0(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function g3(t,e){return function(r,i){const o=vb(),a=t(d0(r,o),o);return gb(o.map,r.attribution),wb(a.current,r.eventHandlers),e(a.current,o,r,i),a}}var K_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(YA,function(n){var r="1.9.4";function i(s){var l,d,p,y;for(d=1,p=arguments.length;d<p;d++){y=arguments[d];for(l in y)s[l]=y[l]}return s}var o=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function a(s,l){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var p=d.call(arguments,2);return function(){return s.apply(l,p.length?p.concat(d.call(arguments)):arguments)}}var u=0;function h(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,l,d){var p,y,T,V;return V=function(){p=!1,y&&(T.apply(d,y),y=!1)},T=function(){p?y=arguments:(s.apply(d,arguments),setTimeout(V,l),p=!0)},T}function m(s,l,d){var p=l[1],y=l[0],T=p-y;return s===p&&d?s:((s-y)%T+T)%T+y}function _(){return!1}function w(s,l){if(l===!1)return s;var d=Math.pow(10,l===void 0?6:l);return Math.round(s*d)/d}function P(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function S(s){return P(s).split(/\s+/)}function E(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var d in l)s.options[d]=l[d];return s.options}function N(s,l,d){var p=[];for(var y in s)p.push(encodeURIComponent(d?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function x(s,l){return s.replace(b,function(d,p){var y=l[p];if(y===void 0)throw new Error("No value provided for variable "+d);return typeof y=="function"&&(y=y(l)),y})}var R=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function B(s,l){for(var d=0;d<s.length;d++)if(s[d]===l)return d;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var k=0;function C(s){var l=+new Date,d=Math.max(0,16-(l-k));return k=l+d,window.setTimeout(s,d)}var O=window.requestAnimationFrame||K("RequestAnimationFrame")||C,M=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function F(s,l,d){if(d&&O===C)s.call(l);else return O.call(window,a(s,l))}function U(s){s&&M.call(window,s)}var D={__proto__:null,extend:i,create:o,bind:a,get lastId(){return u},stamp:h,throttle:f,wrapNum:m,falseFn:_,formatNum:w,trim:P,splitWords:S,setOptions:E,getParamString:N,template:x,isArray:R,indexOf:B,emptyImageUrl:q,requestFn:O,cancelFn:M,requestAnimFrame:F,cancelAnimFrame:U};function He(){}He.extend=function(s){var l=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,p=o(d);p.constructor=l,l.prototype=p;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&i(l,s.statics),s.includes&&(cr(s.includes),i.apply(null,[p].concat(s.includes))),i(p,s),delete p.statics,delete p.includes,p.options&&(p.options=d.options?o(d.options):{},i(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,V=p._initHooks.length;T<V;T++)p._initHooks[T].call(this)}},l},He.include=function(s){var l=this.prototype.options;return i(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},He.mergeOptions=function(s){return i(this.prototype.options,s),this},He.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function cr(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=R(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var mt={on:function(s,l,d){if(typeof s=="object")for(var p in s)this._on(p,s[p],l);else{s=S(s);for(var y=0,T=s.length;y<T;y++)this._on(s[y],l,d)}return this},off:function(s,l,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],l);else{s=S(s);for(var y=arguments.length===1,T=0,V=s.length;T<V;T++)y?this._off(s[T]):this._off(s[T],l,d)}return this},_on:function(s,l,d,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,d)===!1){d===this&&(d=void 0);var y={fn:l,ctx:d};p&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,d){var p,y,T;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(y=0,T=p.length;y<T;y++)p[y].fn=_;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var V=this._listens(s,l,d);if(V!==!1){var $=p[V];this._firingCount&&($.fn=_,this._events[s]=p=p.slice()),p.splice(V,1)}}},fire:function(s,l,d){if(!this.listens(s,d))return this;var p=i({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var T=0,V=y.length;T<V;T++){var $=y[T],H=$.fn;$.once&&this.off(s,H,$.ctx),H.call($.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(s,l,d,p){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(p=!!l,y=void 0,d=void 0);var T=this._events&&this._events[s];if(T&&T.length&&this._listens(s,y,d)!==!1)return!0;if(p){for(var V in this._eventParents)if(this._eventParents[V].listens(s,l,d,p))return!0}return!1},_listens:function(s,l,d){if(!this._events)return!1;var p=this._events[s]||[];if(!l)return!!p.length;d===this&&(d=void 0);for(var y=0,T=p.length;y<T;y++)if(p[y].fn===l&&p[y].ctx===d)return y;return!1},once:function(s,l,d){if(typeof s=="object")for(var p in s)this._on(p,s[p],l,!0);else{s=S(s);for(var y=0,T=s.length;y<T;y++)this._on(s[y],l,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[h(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[h(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,i({layer:s.target,propagatedFrom:s.target},s),!0)}};mt.addEventListener=mt.on,mt.removeEventListener=mt.clearAllEventListeners=mt.off,mt.addOneTimeEventListener=mt.once,mt.fireEvent=mt.fire,mt.hasEventListeners=mt.listens;var an=He.extend(mt);function Z(s,l,d){this.x=d?Math.round(s):s,this.y=d?Math.round(l):l}var ce=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};Z.prototype={clone:function(){return new Z(this.x,this.y)},add:function(s){return this.clone()._add(ee(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ee(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Z(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Z(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(s){s=ee(s);var l=s.x-this.x,d=s.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(s){return s=ee(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ee(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function ee(s,l,d){return s instanceof Z?s:R(s)?new Z(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new Z(s.x,s.y):new Z(s,l,d)}function de(s,l){if(s)for(var d=l?[s,l]:s,p=0,y=d.length;p<y;p++)this.extend(d[p])}de.prototype={extend:function(s){var l,d;if(!s)return this;if(s instanceof Z||typeof s[0]=="number"||"x"in s)l=d=ee(s);else if(s=ve(s),l=s.min,d=s.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ee(this.min.x,this.max.y)},getTopRight:function(){return ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,d;return typeof s[0]=="number"||s instanceof Z?s=ee(s):s=ve(s),s instanceof de?(l=s.min,d=s.max):l=d=s,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=ve(s);var l=this.min,d=this.max,p=s.min,y=s.max,T=y.x>=l.x&&p.x<=d.x,V=y.y>=l.y&&p.y<=d.y;return T&&V},overlaps:function(s){s=ve(s);var l=this.min,d=this.max,p=s.min,y=s.max,T=y.x>l.x&&p.x<d.x,V=y.y>l.y&&p.y<d.y;return T&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,d=this.max,p=Math.abs(l.x-d.x)*s,y=Math.abs(l.y-d.y)*s;return ve(ee(l.x-p,l.y-y),ee(d.x+p,d.y+y))},equals:function(s){return s?(s=ve(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function ve(s,l){return!s||s instanceof de?s:new de(s,l)}function Pe(s,l){if(s)for(var d=l?[s,l]:s,p=0,y=d.length;p<y;p++)this.extend(d[p])}Pe.prototype={extend:function(s){var l=this._southWest,d=this._northEast,p,y;if(s instanceof Ee)p=s,y=s;else if(s instanceof Pe){if(p=s._southWest,y=s._northEast,!p||!y)return this}else return s?this.extend(me(s)||Me(s)):this;return!l&&!d?(this._southWest=new Ee(p.lat,p.lng),this._northEast=new Ee(y.lat,y.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),d.lat=Math.max(y.lat,d.lat),d.lng=Math.max(y.lng,d.lng)),this},pad:function(s){var l=this._southWest,d=this._northEast,p=Math.abs(l.lat-d.lat)*s,y=Math.abs(l.lng-d.lng)*s;return new Pe(new Ee(l.lat-p,l.lng-y),new Ee(d.lat+p,d.lng+y))},getCenter:function(){return new Ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ee||"lat"in s?s=me(s):s=Me(s);var l=this._southWest,d=this._northEast,p,y;return s instanceof Pe?(p=s.getSouthWest(),y=s.getNorthEast()):p=y=s,p.lat>=l.lat&&y.lat<=d.lat&&p.lng>=l.lng&&y.lng<=d.lng},intersects:function(s){s=Me(s);var l=this._southWest,d=this._northEast,p=s.getSouthWest(),y=s.getNorthEast(),T=y.lat>=l.lat&&p.lat<=d.lat,V=y.lng>=l.lng&&p.lng<=d.lng;return T&&V},overlaps:function(s){s=Me(s);var l=this._southWest,d=this._northEast,p=s.getSouthWest(),y=s.getNorthEast(),T=y.lat>l.lat&&p.lat<d.lat,V=y.lng>l.lng&&p.lng<d.lng;return T&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Me(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Me(s,l){return s instanceof Pe?s:new Pe(s,l)}function Ee(s,l,d){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,d!==void 0&&(this.alt=+d)}Ee.prototype={equals:function(s,l){if(!s)return!1;s=me(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+w(this.lat,s)+", "+w(this.lng,s)+")"},distanceTo:function(s){return Ar.distance(this,me(s))},wrap:function(){return Ar.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,d=l/Math.cos(Math.PI/180*this.lat);return Me([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new Ee(this.lat,this.lng,this.alt)}};function me(s,l,d){return s instanceof Ee?s:R(s)&&typeof s[0]!="object"?s.length===3?new Ee(s[0],s[1],s[2]):s.length===2?new Ee(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ee(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new Ee(s,l,d)}var bt={latLngToPoint:function(s,l){var d=this.projection.project(s),p=this.scale(l);return this.transformation._transform(d,p)},pointToLatLng:function(s,l){var d=this.scale(l),p=this.transformation.untransform(s,d);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(s),p=this.transformation.transform(l.min,d),y=this.transformation.transform(l.max,d);return new de(p,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?m(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?m(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new Ee(d,l,p)},wrapLatLngBounds:function(s){var l=s.getCenter(),d=this.wrapLatLng(l),p=l.lat-d.lat,y=l.lng-d.lng;if(p===0&&y===0)return s;var T=s.getSouthWest(),V=s.getNorthEast(),$=new Ee(T.lat-p,T.lng-y),H=new Ee(V.lat-p,V.lng-y);return new Pe($,H)}},Ar=i({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var d=Math.PI/180,p=s.lat*d,y=l.lat*d,T=Math.sin((l.lat-s.lat)*d/2),V=Math.sin((l.lng-s.lng)*d/2),$=T*T+Math.cos(p)*Math.cos(y)*V*V,H=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*H}}),sh=6378137,Li={R:sh,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,s.lat),-d),y=Math.sin(p*l);return new Z(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new Ee((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=sh*Math.PI;return new de([-s,-s],[s,s])}()};function Ni(s,l,d,p){if(R(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=d,this._d=p}Ni.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new Z((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Qr(s,l,d,p){return new Ni(s,l,d,p)}var Ls=i({},Ar,{code:"EPSG:3857",projection:Li,transformation:function(){var s=.5/(Math.PI*Li.R);return Qr(s,.5,-s,.5)}()}),xl=i({},Ls,{code:"EPSG:900913"});function Lo(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Cl(s,l){var d="",p,y,T,V,$,H;for(p=0,T=s.length;p<T;p++){for($=s[p],y=0,V=$.length;y<V;y++)H=$[y],d+=(y?"L":"M")+H.x+" "+H.y;d+=l?oe.svg?"z":"x":""}return d||"M0 0"}var bl=document.documentElement.style,No="ActiveXObject"in window,oh=No&&!document.addEventListener,Mo="msLaunchUri"in navigator&&!("documentMode"in document),Do=$n("webkit"),ah=$n("android"),Vo=$n("android 2")||$n("android 3"),Al=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),lh=ah&&$n("Google")&&Al<537&&!("AudioNode"in window),wt=!!window.opera,Lt=!Mo&&$n("chrome"),Ns=$n("gecko")&&!Do&&!wt&&!No,uh=!Lt&&$n("safari"),Rl=$n("phantom"),ch="OTransition"in bl,Ms=navigator.platform.indexOf("Win")===0,kl=No&&"transition"in bl,Fo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vo,Uo="MozPerspective"in bl,pm=!window.L_DISABLE_3D&&(kl||Fo||Uo)&&!ch&&!Rl,Ds=typeof orientation<"u"||$n("mobile"),Ol=Ds&&Do,hh=Ds&&Fo,Ll=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||Ll),jo="ontouchstart"in window||!!window.TouchEvent,Nl=!window.L_NO_TOUCH&&(jo||Mi),Yr=Ds&&wt,dh=Ds&&Ns,Bo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,fh=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,l),window.removeEventListener("testPassiveEventSupport",_,l)}catch{}return s}(),Vs=function(){return!!document.createElement("canvas").getContext}(),zo=!!(document.createElementNS&&Lo("svg").createSVGRect),jt=!!zo&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ph=!zo&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Fs=navigator.platform.indexOf("Mac")===0,Us=navigator.platform.indexOf("Linux")===0;function $n(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var oe={ie:No,ielt9:oh,edge:Mo,webkit:Do,android:ah,android23:Vo,androidStock:lh,opera:wt,chrome:Lt,gecko:Ns,safari:uh,phantom:Rl,opera12:ch,win:Ms,ie3d:kl,webkit3d:Fo,gecko3d:Uo,any3d:pm,mobile:Ds,mobileWebkit:Ol,mobileWebkit3d:hh,msPointer:Ll,pointer:Mi,touch:Nl,touchNative:jo,mobileOpera:Yr,mobileGecko:dh,retina:Bo,passiveEvents:fh,canvas:Vs,svg:zo,vml:ph,inlineSvg:jt,mac:Fs,linux:Us},Xr=oe.msPointer?"MSPointerDown":"pointerdown",mh=oe.msPointer?"MSPointerMove":"pointermove",gh=oe.msPointer?"MSPointerUp":"pointerup",js=oe.msPointer?"MSPointerCancel":"pointercancel",$o={touchstart:Xr,touchmove:mh,touchend:gh,touchcancel:js},Ho={touchstart:qo,touchmove:Wo,touchend:Wo,touchcancel:Wo},hr={},dr=!1;function _h(s,l,d){return l==="touchstart"&&vh(),Ho[l]?(d=Ho[l].bind(this,d),s.addEventListener($o[l],d,!1),d):(console.warn("wrong event specified:",l),_)}function yh(s,l,d){if(!$o[l]){console.warn("wrong event specified:",l);return}s.removeEventListener($o[l],d,!1)}function Ml(s){hr[s.pointerId]=s}function Dl(s){hr[s.pointerId]&&(hr[s.pointerId]=s)}function Vl(s){delete hr[s.pointerId]}function vh(){dr||(document.addEventListener(Xr,Ml,!0),document.addEventListener(mh,Dl,!0),document.addEventListener(gh,Vl,!0),document.addEventListener(js,Vl,!0),dr=!0)}function Wo(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in hr)l.touches.push(hr[d]);l.changedTouches=[l],s(l)}}function qo(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&nt(l),Wo(s,l)}function wh(s){var l={},d,p;for(p in s)d=s[p],l[p]=d&&d.bind?d.bind(s):d;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Fl=200;function Bs(s,l){s.addEventListener("dblclick",l);var d=0,p;function y(T){if(T.detail!==1){p=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var V=Ql(T);if(!(V.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!V.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var $=Date.now();$-d<=Fl?(p++,p===2&&l(wh(T))):p=1,d=$}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Jr(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var zs=ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$s=ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ul=$s==="webkitTransition"||$s==="OTransition"?$s+"End":"transitionend";function jl(s){return typeof s=="string"?document.getElementById(s):s}function Di(s,l){var d=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);d=p?p[l]:null}return d==="auto"?null:d}function Ie(s,l,d){var p=document.createElement(s);return p.className=l||"",d&&d.appendChild(p),p}function We(s){var l=s.parentNode;l&&l.removeChild(s)}function Hs(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ei(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Vi(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function Bl(s,l){if(s.classList!==void 0)return s.classList.contains(l);var d=Hn(s);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function _e(s,l){if(s.classList!==void 0)for(var d=S(l),p=0,y=d.length;p<y;p++)s.classList.add(d[p]);else if(!Bl(s,l)){var T=Hn(s);zl(s,(T?T+" ":"")+l)}}function Xe(s,l){s.classList!==void 0?s.classList.remove(l):zl(s,P((" "+Hn(s)+" ").replace(" "+l+" "," ")))}function zl(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Hn(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function ut(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&Go(s,l)}function Go(s,l){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):s.style.filter+=" progid:"+p+"(opacity="+l+")"}function ti(s){for(var l=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in l)return s[d];return!1}function Rr(s,l,d){var p=l||new Z(0,0);s.style[zs]=(oe.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function fe(s,l){s._leaflet_pos=l,oe.any3d?Rr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function Wn(s){return s._leaflet_pos||new Z(0,0)}var fr,pr,$l;if("onselectstart"in document)fr=function(){le(window,"selectstart",nt)},pr=function(){ze(window,"selectstart",nt)};else{var Fi=ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fr=function(){if(Fi){var s=document.documentElement.style;$l=s[Fi],s[Fi]="none"}},pr=function(){Fi&&(document.documentElement.style[Fi]=$l,$l=void 0)}}function Hl(){le(window,"dragstart",nt)}function Wl(){ze(window,"dragstart",nt)}var Ko,ql;function ni(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(bn(),Ko=s,ql=s.style.outlineStyle,s.style.outlineStyle="none",le(window,"keydown",bn))}function bn(){Ko&&(Ko.style.outlineStyle=ql,Ko=void 0,ql=void 0,ze(window,"keydown",bn))}function Gl(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Zo(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Eh={__proto__:null,TRANSFORM:zs,TRANSITION:$s,TRANSITION_END:Ul,get:jl,getStyle:Di,create:Ie,remove:We,empty:Hs,toFront:ei,toBack:Vi,hasClass:Bl,addClass:_e,removeClass:Xe,setClass:zl,getClass:Hn,setOpacity:ut,testProp:ti,setTransform:Rr,setPosition:fe,getPosition:Wn,get disableTextSelection(){return fr},get enableTextSelection(){return pr},disableImageDrag:Hl,enableImageDrag:Wl,preventOutline:ni,restoreOutline:bn,getSizedParentNode:Gl,getScale:Zo};function le(s,l,d,p){if(l&&typeof l=="object")for(var y in l)Kl(s,y,l[y],d);else{l=S(l);for(var T=0,V=l.length;T<V;T++)Kl(s,l[T],d,p)}return this}var qn="_leaflet_events";function ze(s,l,d,p){if(arguments.length===1)Th(s),delete s[qn];else if(l&&typeof l=="object")for(var y in l)Zl(s,y,l[y],d);else if(l=S(l),arguments.length===2)Th(s,function($){return B(l,$)!==-1});else for(var T=0,V=l.length;T<V;T++)Zl(s,l[T],d,p);return this}function Th(s,l){for(var d in s[qn]){var p=d.split(/\d/)[0];(!l||l(p))&&Zl(s,p,null,null,d)}}var Gn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Kl(s,l,d,p){var y=l+h(d)+(p?"_"+h(p):"");if(s[qn]&&s[qn][y])return this;var T=function($){return d.call(p||s,$||window.event)},V=T;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?T=_h(s,l,T):oe.touch&&l==="dblclick"?T=Bs(s,T):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Gn[l]||l,T,oe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function($){$=$||window.event,Yl(s,$)&&V($)},s.addEventListener(Gn[l],T,!1)):s.addEventListener(l,V,!1):s.attachEvent("on"+l,T),s[qn]=s[qn]||{},s[qn][y]=T}function Zl(s,l,d,p,y){y=y||l+h(d)+(p?"_"+h(p):"");var T=s[qn]&&s[qn][y];if(!T)return this;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?yh(s,l,T):oe.touch&&l==="dblclick"?Jr(s,T):"removeEventListener"in s?s.removeEventListener(Gn[l]||l,T,!1):s.detachEvent("on"+l,T),s[qn][y]=null}function An(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ui(s){return Kl(s,"wheel",An),this}function ji(s){return le(s,"mousedown touchstart dblclick contextmenu",An),s._leaflet_disable_click=!0,this}function nt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Rn(s){return nt(s),An(s),this}function Ql(s){if(s.composedPath)return s.composedPath();for(var l=[],d=s.target;d;)l.push(d),d=d.parentNode;return l}function Qo(s,l){if(!l)return new Z(s.clientX,s.clientY);var d=Zo(l),p=d.boundingClientRect;return new Z((s.clientX-p.left)/d.x-l.clientLeft,(s.clientY-p.top)/d.y-l.clientTop)}var Je=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sh(s){return oe.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Je:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Yl(s,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var Ph={__proto__:null,on:le,off:ze,stopPropagation:An,disableScrollPropagation:Ui,disableClickPropagation:ji,preventDefault:nt,stop:Rn,getPropagationPath:Ql,getMousePosition:Qo,getWheelDelta:Sh,isExternalTarget:Yl,addListener:le,removeListener:ze},Xl=an.extend({run:function(s,l,d,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Wn(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var d=this._startPos.add(this._offset.multiplyBy(s));l&&d._round(),fe(this._el,d),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Se=an.extend({options:{crs:Ls,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=E(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(me(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$s&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),le(this._proxy,Ul,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(me(s),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=i({animate:d.animate},d.zoom),d.pan=i({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,d.zoom):this._tryAnimatedPan(s,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,d){var p=this.getZoomScale(l),y=this.getSize().divideBy(2),T=s instanceof Z?s:this.latLngToContainerPoint(s),V=T.subtract(y).multiplyBy(1-1/p),$=this.containerPointToLatLng(y.add(V));return this.setView($,l,{zoom:d})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Me(s);var d=ee(l.paddingTopLeft||l.padding||[0,0]),p=ee(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,d.add(p));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var T=p.subtract(d).divideBy(2),V=this.project(s.getSouthWest(),y),$=this.project(s.getNorthEast(),y),H=this.unproject(V.add($).divideBy(2).add(T),y);return{center:H,zoom:y}},fitBounds:function(s,l){if(s=Me(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=ee(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Xl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,d){if(d=d||{},d.animate===!1||!oe.any3d)return this.setView(s,l,d);this._stop();var p=this.project(this.getCenter()),y=this.project(s),T=this.getSize(),V=this._zoom;s=me(s),l=l===void 0?V:l;var $=Math.max(T.x,T.y),H=$*this.getZoomScale(V,l),Y=y.distanceTo(p)||1,ne=1.42,ue=ne*ne;function Te(Tt){var jh=Tt?-1:1,qA=Tt?H:$,GA=H*H-$*$+jh*ue*ue*Y*Y,KA=2*qA*ue*Y,Em=GA/KA,ow=Math.sqrt(Em*Em+1)-Em,ZA=ow<1e-9?-18:Math.log(ow);return ZA}function un(Tt){return(Math.exp(Tt)-Math.exp(-Tt))/2}function Mt(Tt){return(Math.exp(Tt)+Math.exp(-Tt))/2}function Zn(Tt){return un(Tt)/Mt(Tt)}var _n=Te(0);function ua(Tt){return $*(Mt(_n)/Mt(_n+ne*Tt))}function zA(Tt){return $*(Mt(_n)*Zn(_n+ne*Tt)-un(_n))/ue}function $A(Tt){return 1-Math.pow(1-Tt,1.5)}var HA=Date.now(),iw=(Te(1)-_n)/ne,WA=d.duration?1e3*d.duration:1e3*iw*.8;function sw(){var Tt=(Date.now()-HA)/WA,jh=$A(Tt)*iw;Tt<=1?(this._flyToFrame=F(sw,this),this._move(this.unproject(p.add(y.subtract(p).multiplyBy(zA(jh)/Y)),V),this.getScaleZoom($/ua(jh),V),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),sw.call(this),this},flyToBounds:function(s,l){var d=this._getBoundsCenterZoom(s,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(s){return s=Me(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,Me(s));return d.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var d=ee(l.paddingTopLeft||l.padding||[0,0]),p=ee(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),T=this.project(s),V=this.getPixelBounds(),$=ve([V.min.add(d),V.max.subtract(p)]),H=$.getSize();if(!$.contains(T)){this._enforcingBounds=!0;var Y=T.subtract($.getCenter()),ne=$.extend(T).getSize().subtract(H);y.x+=Y.x<0?-ne.x:ne.x,y.y+=Y.y<0?-ne.y:ne.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=i({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=l.divideBy(2).round(),y=d.divideBy(2).round(),T=p.subtract(y);return!T.x&&!T.y?this:(s.animate&&s.pan?this.panBy(T):(s.pan&&this._rawPanBy(T),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=i({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),d=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,s):navigator.geolocation.getCurrentPosition(l,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,d=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,d=s.coords.longitude,p=new Ee(l,d),y=p.toBounds(s.coords.accuracy*2),T=this._locateOptions;if(T.setView){var V=this.getBoundsZoom(y);this.setView(p,T.maxZoom?Math.min(V,T.maxZoom):V)}var $={latlng:p,bounds:y,timestamp:s.timestamp};for(var H in s.coords)typeof s.coords[H]=="number"&&($[H]=s.coords[H]);this.fire("locationfound",$)}},addHandler:function(s,l){if(!l)return this;var d=this[s]=new l(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),We(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)We(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=Ie("div",d,l||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new Pe(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,d){s=Me(s),d=ee(d||[0,0]);var p=this.getZoom()||0,y=this.getMinZoom(),T=this.getMaxZoom(),V=s.getNorthWest(),$=s.getSouthEast(),H=this.getSize().subtract(d),Y=ve(this.project($,p),this.project(V,p)).getSize(),ne=oe.any3d?this.options.zoomSnap:1,ue=H.x/Y.x,Te=H.y/Y.y,un=l?Math.max(ue,Te):Math.min(ue,Te);return p=this.getScaleZoom(un,p),ne&&(p=Math.round(p/(ne/100))*(ne/100),p=l?Math.ceil(p/ne)*ne:Math.floor(p/ne)*ne),Math.max(y,Math.min(T,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var d=this._getTopLeftPoint(s,l);return new de(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(s)/d.scale(l)},getScaleZoom:function(s,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var p=d.zoom(s*d.scale(l));return isNaN(p)?1/0:p},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(me(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ee(s),l)},layerPointToLatLng:function(s){var l=ee(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(me(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(me(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Me(s))},distance:function(s,l){return this.options.crs.distance(me(s),me(l))},containerPointToLayerPoint:function(s){return ee(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ee(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(ee(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(s)))},mouseEventToContainerPoint:function(s){return Qo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=jl(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");le(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,_e(s,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Di(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),fe(this._mapPane,new Z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(s.markerPane,"leaflet-zoom-hide"),_e(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,d){fe(this._mapPane,new Z(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,d)._move(s,l)._moveEnd(y),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,d,p){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?d&&d.pinch&&this.fire("zoom",d):((y||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){fe(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[h(this._container)]=this;var l=s?ze:le;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var d=[],p,y=l==="mouseout"||l==="mouseover",T=s.target||s.srcElement,V=!1;T;){if(p=this._targets[h(T)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){V=!0;break}if(p&&p.listens(l,!0)&&(y&&!Yl(T,s)||(d.push(p),y))||T===this._container)break;T=T.parentNode}return!d.length&&!V&&!y&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var d=s.type;d==="mousedown"&&ni(l),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,d){if(s.type==="click"){var p=i({},s);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var y=this._findEventTargets(s,l);if(d){for(var T=[],V=0;V<d.length;V++)d[V].listens(l,!0)&&T.push(d[V]);y=T.concat(y)}if(y.length){l==="contextmenu"&&nt(s);var $=y[0],H={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Y=$.getLatLng&&(!$._radius||$._radius<=10);H.containerPoint=Y?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(s),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Y?$.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(V=0;V<y.length;V++)if(y[V].fire(l,H,!0),H.originalEvent._stopped||y[V].options.bubblingMouseEvents===!1&&B(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return Wn(this._mapPane)||new Z(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var d=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var d=this.getSize()._divideBy(2);return this.project(s,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,d){var p=this._getNewPixelOrigin(d,l);return this.project(s,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,l,d){var p=this._getNewPixelOrigin(d,l);return ve([this.project(s.getSouthWest(),l)._subtract(p),this.project(s.getNorthWest(),l)._subtract(p),this.project(s.getSouthEast(),l)._subtract(p),this.project(s.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,d){if(!d)return s;var p=this.project(s,l),y=this.getSize().divideBy(2),T=new de(p.subtract(y),p.add(y)),V=this._getBoundsOffset(T,d,l);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?s:this.unproject(p.add(V),l)},_limitOffset:function(s,l){if(!l)return s;var d=this.getPixelBounds(),p=new de(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(s,l,d){var p=ve(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),y=p.min.subtract(s.min),T=p.max.subtract(s.max),V=this._rebound(y.x,-T.x),$=this._rebound(y.y,-T.y);return new Z(V,$)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),d=this.getMaxZoom(),p=oe.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(l,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var d=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var s=this._proxy=Ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var d=zs,p=this._proxy.style[d];Rr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){We(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Rr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(y)?!1:(F(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yo(s,l){return new Se(s,l)}var gn=He.extend({options:{position:"topright"},initialize:function(s){E(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),d=this.getPosition(),p=s._controlCorners[d];return _e(l,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(We(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),ln=function(s){return new gn(s)};Se.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",d=this._controlContainer=Ie("div",l+"control-container",this._container);function p(y,T){var V=l+y+" "+l+T;s[y+T]=Ie("div",V,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)We(this._controlCorners[s]);We(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Jl=gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,d,p){return d<p?-1:p<d?1:0}},initialize:function(s,l,d){E(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return gn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Ie("div",s),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ji(l),Ui(l);var p=this._section=Ie("section",s+"-list");d&&(this._map.on("click",this.collapse,this),le(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Ie("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),le(y,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){nt(T),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Ie("div",s+"-base",p),this._separator=Ie("div",s+"-separator",p),this._overlaysList=Ie("div",s+"-overlays",p),l.appendChild(p)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(a(function(p,y){return this.options.sortFunction(p.layer,y.layer,p.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hs(this._baseLayersList),Hs(this._overlaysList),this._layerControlInputs=[];var s,l,d,p,y=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),l=l||p.overlay,s=s||!p.overlay,y+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(h(s.target)),d=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(s,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(s){var l=document.createElement("label"),d=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(p),p.layerId=h(s.layer),le(p,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(p),T.appendChild(y);var V=s.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,d,p=[],y=[];this._handlingClick=!0;for(var T=s.length-1;T>=0;T--)l=s[T],d=this._getLayer(l.layerId).layer,l.checked?p.push(d):l.checked||y.push(d);for(T=0;T<y.length;T++)this._map.hasLayer(y[T])&&this._map.removeLayer(y[T]);for(T=0;T<p.length;T++)this._map.hasLayer(p[T])||this._map.addLayer(p[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,d,p=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,le(s,"click",nt),this.expand();var l=this;setTimeout(function(){ze(s,"click",nt),l._preventClick=!1})}}),mm=function(s,l,d){return new Jl(s,l,d)},ri=gn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",d=Ie("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,d,p,y){var T=Ie("a",d,p);return T.innerHTML=s,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),ji(T),le(T,"click",Rn),le(T,"click",y,this),le(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Xe(this._zoomInButton,l),Xe(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(_e(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(_e(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Se.mergeOptions({zoomControl:!0}),Se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ri,this.addControl(this.zoomControl))});var Ih=function(s){return new ri(s)},Xo=gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",d=Ie("div",l),p=this.options;return this._addScales(p,l+"-line",d),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,d){s.metric&&(this._mScale=Ie("div",l,d)),s.imperial&&(this._iScale=Ie("div",l,d))},_update:function(){var s=this._map,l=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/s)},_updateImperial:function(s){var l=s*3.2808399,d,p,y;l>5280?(d=l/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),d=s/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),Jo=function(s){return new Xo(s)},xh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bi=gn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?xh+" ":"")+"Leaflet</a>"},initialize:function(s){E(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Ie("div","leaflet-control-attribution"),ji(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Se.mergeOptions({attributionControl:!0}),Se.addInitHook(function(){this.options.attributionControl&&new Bi().addTo(this)});var gm=function(s){return new Bi(s)};gn.Layers=Jl,gn.Zoom=ri,gn.Scale=Xo,gn.Attribution=Bi,ln.layers=mm,ln.zoom=Ih,ln.scale=Jo,ln.attribution=gm;var kn=He.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(s,l){return s.addHandler(l,this),this};var Ws={Events:mt},eu=oe.touch?"touchstart mousedown":"mousedown",mr=an.extend({options:{clickTolerance:3},initialize:function(s,l,d,p){E(this,p),this._element=s,this._dragStartTarget=l||s,this._preventOutline=d},enable:function(){this._enabled||(le(this._dragStartTarget,eu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mr._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,eu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Bl(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){mr._dragging===this&&this.finishDrag();return}if(!(mr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(mr._dragging=this,this._preventOutline&&ni(this._element),Hl(),fr(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,d=Gl(this._element);this._startPoint=new Z(l.clientX,l.clientY),this._startPos=Wn(this._element),this._parentScale=Zo(d);var p=s.type==="mousedown";le(document,p?"mousemove":"touchmove",this._onMove,this),le(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,d=new Z(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,nt(s),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),fe(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Xe(document.body,"leaflet-dragging"),this._lastTarget&&(Xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),Wl(),pr();var l=this._moved&&this._moving;this._moving=!1,mr._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ea(s,l,d){var p,y=[1,4,2,8],T,V,$,H,Y,ne,ue,Te;for(T=0,ne=s.length;T<ne;T++)s[T]._code=kr(s[T],l);for($=0;$<4;$++){for(ue=y[$],p=[],T=0,ne=s.length,V=ne-1;T<ne;V=T++)H=s[T],Y=s[V],H._code&ue?Y._code&ue||(Te=Nt(Y,H,ue,l,d),Te._code=kr(Te,l),p.push(Te)):(Y._code&ue&&(Te=Nt(Y,H,ue,l,d),Te._code=kr(Te,l),p.push(Te)),p.push(H));s=p}return s}function ta(s,l){var d,p,y,T,V,$,H,Y,ne;if(!s||s.length===0)throw new Error("latlngs not passed");c(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ue=me([0,0]),Te=Me(s),un=Te.getNorthWest().distanceTo(Te.getSouthWest())*Te.getNorthEast().distanceTo(Te.getNorthWest());un<1700&&(ue=na(s));var Mt=s.length,Zn=[];for(d=0;d<Mt;d++){var _n=me(s[d]);Zn.push(l.project(me([_n.lat-ue.lat,_n.lng-ue.lng])))}for($=H=Y=0,d=0,p=Mt-1;d<Mt;p=d++)y=Zn[d],T=Zn[p],V=y.y*T.x-T.y*y.x,H+=(y.x+T.x)*V,Y+=(y.y+T.y)*V,$+=V*3;$===0?ne=Zn[0]:ne=[H/$,Y/$];var ua=l.unproject(ee(ne));return me([ua.lat+ue.lat,ua.lng+ue.lng])}function na(s){for(var l=0,d=0,p=0,y=0;y<s.length;y++){var T=me(s[y]);l+=T.lat,d+=T.lng,p++}return me([l/p,d/p])}var ra={__proto__:null,clipPolygon:ea,polygonCenter:ta,centroid:na};function tu(s,l){if(!l||!s.length)return s.slice();var d=l*l;return s=bh(s,d),s=Ch(s,d),s}function nu(s,l,d){return Math.sqrt(Kn(s,l,d,!0))}function ii(s,l,d){return Kn(s,l,d)}function Ch(s,l){var d=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,y=new p(d);y[0]=y[d-1]=1,ia(s,y,l,0,d-1);var T,V=[];for(T=0;T<d;T++)y[T]&&V.push(s[T]);return V}function ia(s,l,d,p,y){var T=0,V,$,H;for($=p+1;$<=y-1;$++)H=Kn(s[$],s[p],s[y],!0),H>T&&(V=$,T=H);T>d&&(l[V]=1,ia(s,l,d,p,V),ia(s,l,d,V,y))}function bh(s,l){for(var d=[s[0]],p=1,y=0,T=s.length;p<T;p++)Ah(s[p],s[y])>l&&(d.push(s[p]),y=p);return y<T-1&&d.push(s[T-1]),d}var ru;function qs(s,l,d,p,y){var T=p?ru:kr(s,d),V=kr(l,d),$,H,Y;for(ru=V;;){if(!(T|V))return[s,l];if(T&V)return!1;$=T||V,H=Nt(s,l,$,d,y),Y=kr(H,d),$===T?(s=H,T=Y):(l=H,V=Y)}}function Nt(s,l,d,p,y){var T=l.x-s.x,V=l.y-s.y,$=p.min,H=p.max,Y,ne;return d&8?(Y=s.x+T*(H.y-s.y)/V,ne=H.y):d&4?(Y=s.x+T*($.y-s.y)/V,ne=$.y):d&2?(Y=H.x,ne=s.y+V*(H.x-s.x)/T):d&1&&(Y=$.x,ne=s.y+V*($.x-s.x)/T),new Z(Y,ne,y)}function kr(s,l){var d=0;return s.x<l.min.x?d|=1:s.x>l.max.x&&(d|=2),s.y<l.min.y?d|=4:s.y>l.max.y&&(d|=8),d}function Ah(s,l){var d=l.x-s.x,p=l.y-s.y;return d*d+p*p}function Kn(s,l,d,p){var y=l.x,T=l.y,V=d.x-y,$=d.y-T,H=V*V+$*$,Y;return H>0&&(Y=((s.x-y)*V+(s.y-T)*$)/H,Y>1?(y=d.x,T=d.y):Y>0&&(y+=V*Y,T+=$*Y)),V=s.x-y,$=s.y-T,p?V*V+$*$:new Z(y,T)}function c(s){return!R(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function g(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),c(s)}function v(s,l){var d,p,y,T,V,$,H,Y;if(!s||s.length===0)throw new Error("latlngs not passed");c(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ne=me([0,0]),ue=Me(s),Te=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());Te<1700&&(ne=na(s));var un=s.length,Mt=[];for(d=0;d<un;d++){var Zn=me(s[d]);Mt.push(l.project(me([Zn.lat-ne.lat,Zn.lng-ne.lng])))}for(d=0,p=0;d<un-1;d++)p+=Mt[d].distanceTo(Mt[d+1])/2;if(p===0)Y=Mt[0];else for(d=0,T=0;d<un-1;d++)if(V=Mt[d],$=Mt[d+1],y=V.distanceTo($),T+=y,T>p){H=(T-p)/y,Y=[$.x-H*($.x-V.x),$.y-H*($.y-V.y)];break}var _n=l.unproject(ee(Y));return me([_n.lat+ne.lat,_n.lng+ne.lng])}var I={__proto__:null,simplify:tu,pointToSegmentDistance:nu,closestPointOnSegment:ii,clipSegment:qs,_getEdgeIntersection:Nt,_getBitCode:kr,_sqClosestPointOnSegment:Kn,isFlat:c,_flat:g,polylineCenter:v},z={project:function(s){return new Z(s.lng,s.lat)},unproject:function(s){return new Ee(s.y,s.x)},bounds:new de([-180,-90],[180,90])},W={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,d=this.R,p=s.lat*l,y=this.R_MINOR/d,T=Math.sqrt(1-y*y),V=T*Math.sin(p),$=Math.tan(Math.PI/4-p/2)/Math.pow((1-V)/(1+V),T/2);return p=-d*Math.log(Math.max($,1e-10)),new Z(s.lng*l*d,p)},unproject:function(s){for(var l=180/Math.PI,d=this.R,p=this.R_MINOR/d,y=Math.sqrt(1-p*p),T=Math.exp(-s.y/d),V=Math.PI/2-2*Math.atan(T),$=0,H=.1,Y;$<15&&Math.abs(H)>1e-7;$++)Y=y*Math.sin(V),Y=Math.pow((1-Y)/(1+Y),y/2),H=Math.PI/2-2*Math.atan(T*Y)-V,V+=H;return new Ee(V*l,s.x*l/d)}},te={__proto__:null,LonLat:z,Mercator:W,SphericalMercator:Li},De=i({},Ar,{code:"EPSG:3395",projection:W,transformation:function(){var s=.5/(Math.PI*W.R);return Qr(s,.5,-s,.5)}()}),Et=i({},Ar,{code:"EPSG:4326",projection:z,transformation:Qr(1/180,1,-1/180,.5)}),Ae=i({},bt,{projection:z,transformation:Qr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var d=l.lng-s.lng,p=l.lat-s.lat;return Math.sqrt(d*d+p*p)},infinite:!0});bt.Earth=Ar,bt.EPSG3395=De,bt.EPSG3857=Ls,bt.EPSG900913=xl,bt.EPSG4326=Et,bt.Simple=Ae;var $e=an.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[h(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[h(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Se.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=h(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return h(s)in this._layers},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},_addLayers:function(s){s=s?R(s)?s:[s]:[];for(var l=0,d=s.length;l<d;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[h(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=h(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var y=this._zoomBoundLayers[p].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var rt=$e.extend({initialize:function(s,l){E(this,l),this._layers={};var d,p;if(s)for(d=0,p=s.length;d<p;d++)this.addLayer(s[d])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[s]&&p[s].apply(p,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var d in this._layers)s.call(l,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return h(s)}}),zi=function(s,l){return new rt(s,l)},gt=rt.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),rt.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),rt.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Pe;for(var l in this._layers){var d=this._layers[l];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),sa=function(s,l){return new gt(s,l)},Or=He.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){E(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,l){var d=this.options,p=d[l+"Size"];typeof p=="number"&&(p=[p,p]);var y=ee(p),T=ee(l==="shadow"&&d.shadowAnchor||d.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(d.className||""),T&&(s.style.marginLeft=-T.x+"px",s.style.marginTop=-T.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return oe.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function SA(s){return new Or(s)}var iu=Or.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof iu.imagePath!="string"&&(iu.imagePath=this._detectIconPath()),(this.options.imagePath||iu.imagePath)+Or.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(d,p,y){var T=p.exec(d);return T&&T[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Ie("div","leaflet-default-icon-path",document.body),l=Di(s,"background-image")||Di(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),U0=kn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new mr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,d=l._map,p=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,T=Wn(l._icon),V=d.getPixelBounds(),$=d.getPixelOrigin(),H=ve(V.min._subtract($).add(y),V.max._subtract($).subtract(y));if(!H.contains(T)){var Y=ee((Math.max(H.max.x,T.x)-H.max.x)/(V.max.x-H.max.x)-(Math.min(H.min.x,T.x)-H.min.x)/(V.min.x-H.min.x),(Math.max(H.max.y,T.y)-H.max.y)/(V.max.y-H.max.y)-(Math.min(H.min.y,T.y)-H.min.y)/(V.min.y-H.min.y)).multiplyBy(p);d.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),fe(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=F(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,d=l._shadow,p=Wn(l._icon),y=l._map.layerPointToLatLng(p);d&&fe(d,p),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Rh=$e.extend({options:{icon:new iu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){E(this,l),this._latlng=me(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=me(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),_e(d,l),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&le(d,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),T=!1;y!==this._shadow&&(this._removeShadow(),T=!0),y&&(_e(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&T&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),We(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&We(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&fe(this._icon,s),this._shadow&&fe(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),U0)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new U0(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&ut(this._icon,s),this._shadow&&ut(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,d=l.iconSize?ee(l.iconSize):ee(0,0),p=l.iconAnchor?ee(l.iconAnchor):ee(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function PA(s,l){return new Rh(s,l)}var $i=$e.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return E(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),kh=$i.extend({options:{fill:!0,radius:10},initialize:function(s,l){E(this,l),this._latlng=me(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=me(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return $i.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,d=this._clickTolerance(),p=[s+d,l+d];this._pxBounds=new de(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function IA(s,l){return new kh(s,l)}var _m=kh.extend({initialize:function(s,l,d){if(typeof l=="number"&&(l=i({},d,{radius:l})),E(this,l),this._latlng=me(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:$i.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===Ar.distance){var y=Math.PI/180,T=this._mRadius/Ar.R/y,V=d.project([l+T,s]),$=d.project([l-T,s]),H=V.add($).divideBy(2),Y=d.unproject(H).lat,ne=Math.acos((Math.cos(T*y)-Math.sin(l*y)*Math.sin(Y*y))/(Math.cos(l*y)*Math.cos(Y*y)))/y;(isNaN(ne)||ne===0)&&(ne=T/Math.cos(Math.PI/180*l)),this._point=H.subtract(d.getPixelOrigin()),this._radius=isNaN(ne)?0:H.x-d.project([Y,s-ne]).x,this._radiusY=H.y-V.y}else{var ue=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(ue).x}this._updateBounds()}});function xA(s,l,d){return new _m(s,l,d)}var si=$i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){E(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,d=null,p=Kn,y,T,V=0,$=this._parts.length;V<$;V++)for(var H=this._parts[V],Y=1,ne=H.length;Y<ne;Y++){y=H[Y-1],T=H[Y];var ue=p(s,y,T,!0);ue<l&&(l=ue,d=p(s,y,T))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return v(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=me(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Pe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return c(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],d=c(s),p=0,y=s.length;p<y;p++)d?(l[p]=me(s[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(s[p]);return l},_project:function(){var s=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new Z(s,s);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,d){var p=s[0]instanceof Ee,y=s.length,T,V;if(p){for(V=[],T=0;T<y;T++)V[T]=this._map.latLngToLayerPoint(s[T]),d.extend(V[T]);l.push(V)}else for(T=0;T<y;T++)this._projectLatlngs(s[T],l,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,p,y,T,V,$,H;for(d=0,y=0,T=this._rings.length;d<T;d++)for(H=this._rings[d],p=0,V=H.length;p<V-1;p++)$=qs(H[p],H[p+1],s,p,!0),$&&(l[y]=l[y]||[],l[y].push($[0]),($[1]!==H[p+1]||p===V-2)&&(l[y].push($[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,d=0,p=s.length;d<p;d++)s[d]=tu(s[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var d,p,y,T,V,$,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,T=this._parts.length;d<T;d++)for($=this._parts[d],p=0,V=$.length,y=V-1;p<V;y=p++)if(!(!l&&p===0)&&nu(s,$[y],$[p])<=H)return!0;return!1}});function CA(s,l){return new si(s,l)}si._flat=g;var oa=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ta(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=si.prototype._convertLatLngs.call(this,s),d=l.length;return d>=2&&l[0]instanceof Ee&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(s){si.prototype._setLatLngs.call(this,s),c(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return c(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,d=new Z(l,l);if(s=new de(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,y=this._rings.length,T;p<y;p++)T=ea(this._rings[p],s,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,d,p,y,T,V,$,H,Y;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(T=0,H=this._parts.length;T<H;T++)for(d=this._parts[T],V=0,Y=d.length,$=Y-1;V<Y;$=V++)p=d[V],y=d[$],p.y>s.y!=y.y>s.y&&s.x<(y.x-p.x)*(s.y-p.y)/(y.y-p.y)+p.x&&(l=!l);return l||si.prototype._containsPoint.call(this,s,!0)}});function bA(s,l){return new oa(s,l)}var oi=gt.extend({initialize:function(s,l){E(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=R(s)?s:s.features,d,p,y;if(l){for(d=0,p=l.length;d<p;d++)y=l[d],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var T=this.options;if(T.filter&&!T.filter(s))return this;var V=Oh(s,T);return V?(V.feature=Mh(s),V.defaultOptions=V.options,this.resetStyle(V),T.onEachFeature&&T.onEachFeature(s,V),this.addLayer(V)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=i({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Oh(s,l){var d=s.type==="Feature"?s.geometry:s,p=d?d.coordinates:null,y=[],T=l&&l.pointToLayer,V=l&&l.coordsToLatLng||ym,$,H,Y,ne;if(!p&&!d)return null;switch(d.type){case"Point":return $=V(p),j0(T,s,$,l);case"MultiPoint":for(Y=0,ne=p.length;Y<ne;Y++)$=V(p[Y]),y.push(j0(T,s,$,l));return new gt(y);case"LineString":case"MultiLineString":return H=Lh(p,d.type==="LineString"?0:1,V),new si(H,l);case"Polygon":case"MultiPolygon":return H=Lh(p,d.type==="Polygon"?1:2,V),new oa(H,l);case"GeometryCollection":for(Y=0,ne=d.geometries.length;Y<ne;Y++){var ue=Oh({geometry:d.geometries[Y],type:"Feature",properties:s.properties},l);ue&&y.push(ue)}return new gt(y);case"FeatureCollection":for(Y=0,ne=d.features.length;Y<ne;Y++){var Te=Oh(d.features[Y],l);Te&&y.push(Te)}return new gt(y);default:throw new Error("Invalid GeoJSON object.")}}function j0(s,l,d,p){return s?s(l,d):new Rh(d,p&&p.markersInheritOptions&&p)}function ym(s){return new Ee(s[1],s[0],s[2])}function Lh(s,l,d){for(var p=[],y=0,T=s.length,V;y<T;y++)V=l?Lh(s[y],l-1,d):(d||ym)(s[y]),p.push(V);return p}function vm(s,l){return s=me(s),s.alt!==void 0?[w(s.lng,l),w(s.lat,l),w(s.alt,l)]:[w(s.lng,l),w(s.lat,l)]}function Nh(s,l,d,p){for(var y=[],T=0,V=s.length;T<V;T++)y.push(l?Nh(s[T],c(s[T])?0:l-1,d,p):vm(s[T],p));return!l&&d&&y.length>0&&y.push(y[0].slice()),y}function aa(s,l){return s.feature?i({},s.feature,{geometry:l}):Mh(l)}function Mh(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var wm={toGeoJSON:function(s){return aa(this,{type:"Point",coordinates:vm(this.getLatLng(),s)})}};Rh.include(wm),_m.include(wm),kh.include(wm),si.include({toGeoJSON:function(s){var l=!c(this._latlngs),d=Nh(this._latlngs,l?1:0,!1,s);return aa(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),oa.include({toGeoJSON:function(s){var l=!c(this._latlngs),d=l&&!c(this._latlngs[0]),p=Nh(this._latlngs,d?2:l?1:0,!0,s);return l||(p=[p]),aa(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),rt.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(s).geometry.coordinates)}),aa(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var d=l==="GeometryCollection",p=[];return this.eachLayer(function(y){if(y.toGeoJSON){var T=y.toGeoJSON(s);if(d)p.push(T.geometry);else{var V=Mh(T);V.type==="FeatureCollection"?p.push.apply(p,V.features):p.push(V)}}}),d?aa(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function B0(s,l){return new oi(s,l)}var AA=B0,Dh=$e.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,d){this._url=s,this._bounds=Me(l),E(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){We(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ei(this._image),this},bringToBack:function(){return this._map&&Vi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Me(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Ie("img");if(_e(l,"leaflet-image-layer"),this._zoomAnimated&&_e(l,"leaflet-zoom-animated"),this.options.className&&_e(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Rr(this._image,d,l)},_reset:function(){var s=this._image,l=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();fe(s,l.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),RA=function(s,l,d){return new Dh(s,l,d)},z0=Dh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Ie("video");if(_e(l,"leaflet-image-layer"),this._zoomAnimated&&_e(l,"leaflet-zoom-animated"),this.options.className&&_e(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onloadeddata=a(this.fire,this,"load"),s){for(var d=l.getElementsByTagName("source"),p=[],y=0;y<d.length;y++)p.push(d[y].src);this._url=d.length>0?p:[l.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var V=Ie("source");V.src=this._url[T],l.appendChild(V)}}});function kA(s,l,d){return new z0(s,l,d)}var $0=Dh.extend({_initImage:function(){var s=this._image=this._url;_e(s,"leaflet-image-layer"),this._zoomAnimated&&_e(s,"leaflet-zoom-animated"),this.options.className&&_e(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function OA(s,l,d){return new $0(s,l,d)}var Lr=$e.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Ee||R(s))?(this._latlng=me(s),E(this,l)):(E(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&ut(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(ut(this._container,0),this._removeTimeout=setTimeout(a(We,void 0,this._container),200)):We(this._container),this.options.interactive&&(Xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=me(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ei(this._container),this},bringToBack:function(){return this._map&&Vi(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof gt){l=null;var d=this._source._layers;for(var p in d)if(d[p]._map){l=d[p];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=ee(this.options.offset),d=this._getAnchor();this._zoomAnimated?fe(this._container,s.add(d)):l=l.add(s).add(d);var p=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Se.include({_initOverlay:function(s,l,d,p){var y=l;return y instanceof s||(y=new s(p).setContent(l)),d&&y.setLatLng(d),y}}),$e.include({_initOverlay:function(s,l,d,p){var y=d;return y instanceof s?(E(y,p),y._source=this):(y=l&&!p?l:new s(p,this),y.setContent(d)),y}});var Vh=Lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Lr.prototype.openOn.call(this,s)},onAdd:function(s){Lr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof $i||this._source.on("preclick",An))},onRemove:function(s){Lr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof $i||this._source.off("preclick",An))},getEvents:function(){var s=Lr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Ie("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Ie("div",s+"-content-wrapper",l);if(this._contentNode=Ie("div",s+"-content",d),ji(l),Ui(this._contentNode),le(l,"contextmenu",An),this._tipContainer=Ie("div",s+"-tip-container",l),this._tip=Ie("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Ie("a",s+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',le(p,"click",function(y){nt(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var p=s.offsetHeight,y=this.options.maxHeight,T="leaflet-popup-scrolled";y&&p>y?(l.height=y+"px",_e(s,T)):Xe(s,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();fe(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Di(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,p=this._containerWidth,y=new Z(this._containerLeft,-d-this._containerBottom);y._add(Wn(this._container));var T=s.layerPointToContainerPoint(y),V=ee(this.options.autoPanPadding),$=ee(this.options.autoPanPaddingTopLeft||V),H=ee(this.options.autoPanPaddingBottomRight||V),Y=s.getSize(),ne=0,ue=0;T.x+p+H.x>Y.x&&(ne=T.x+p-Y.x+H.x),T.x-ne-$.x<0&&(ne=T.x-$.x),T.y+d+H.y>Y.y&&(ue=T.y+d-Y.y+H.y),T.y-ue-$.y<0&&(ue=T.y-$.y),(ne||ue)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ne,ue]))}},_getAnchor:function(){return ee(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),LA=function(s,l){return new Vh(s,l)};Se.mergeOptions({closePopupOnClick:!0}),Se.include({openPopup:function(s,l,d){return this._initOverlay(Vh,s,l,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),$e.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Vh,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof gt||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Rn(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof $i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Fh=Lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Lr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Lr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Lr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ie("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,d,p=this._map,y=this._container,T=p.latLngToContainerPoint(p.getCenter()),V=p.layerPointToContainerPoint(s),$=this.options.direction,H=y.offsetWidth,Y=y.offsetHeight,ne=ee(this.options.offset),ue=this._getAnchor();$==="top"?(l=H/2,d=Y):$==="bottom"?(l=H/2,d=0):$==="center"?(l=H/2,d=Y/2):$==="right"?(l=0,d=Y/2):$==="left"?(l=H,d=Y/2):V.x<T.x?($="right",l=0,d=Y/2):($="left",l=H+(ne.x+ue.x)*2,d=Y/2),s=s.subtract(ee(l,d,!0)).add(ne).add(ue),Xe(y,"leaflet-tooltip-right"),Xe(y,"leaflet-tooltip-left"),Xe(y,"leaflet-tooltip-top"),Xe(y,"leaflet-tooltip-bottom"),_e(y,"leaflet-tooltip-"+$),fe(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&ut(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return ee(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),NA=function(s,l){return new Fh(s,l)};Se.include({openTooltip:function(s,l,d){return this._initOverlay(Fh,s,l,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),$e.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fh,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof gt||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(le(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),le(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,d,p;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var H0=Or.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Hs(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=ee(d.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function MA(s){return new H0(s)}Or.Default=iu;var su=$e.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){E(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),We(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Vi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Z?s:new Z(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,d=-s(-1/0,1/0),p=0,y=l.length,T;p<y;p++)T=l[p].style.zIndex,l[p]!==this._container&&T&&(d=s(d,+T));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){ut(this._container,this.options.opacity);var s=+new Date,l=!1,d=!1;for(var p in this._tiles){var y=this._tiles[p];if(!(!y.current||!y.loaded)){var T=Math.min(1,(s-y.loaded)/200);ut(y.el,T),T<1?l=!0:(y.active?d=!0:this._onOpaqueTile(y),y.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=l-Math.abs(s-d),this._onUpdateLevel(d)):(We(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[s],y=this._map;return p||(p=this._levels[s]={},p.el=Ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,y.getCenter(),y.getZoom()),_(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)We(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,d,p){var y=Math.floor(s/2),T=Math.floor(l/2),V=d-1,$=new Z(+y,+T);$.z=+V;var H=this._tileCoordsToKey($),Y=this._tiles[H];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),V>p?this._retainParent(y,T,V,p):!1)},_retainChildren:function(s,l,d,p){for(var y=2*s;y<2*s+2;y++)for(var T=2*l;T<2*l+2;T++){var V=new Z(y,T);V.z=d+1;var $=this._tileCoordsToKey(V),H=this._tiles[$];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);d+1<p&&this._retainChildren(y,T,d+1,p)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,d,p){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var T=this.options.updateWhenZooming&&y!==this._tileZoom;(!p||T)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,l)},_setZoomTransform:function(s,l,d){var p=this._map.getZoomScale(d,s.zoom),y=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,d)).round();oe.any3d?Rr(s.el,y,p):fe(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],p).x/d.x),Math.ceil(s.project([0,l.wrapLng[1]],p).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],p).y/d.x),Math.ceil(s.project([l.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(d,this._tileZoom),y=l.project(s,this._tileZoom).floor(),T=l.getSize().divideBy(p*2);return new de(y.subtract(T),y.add(T))},_update:function(s){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(p),T=y.getCenter(),V=[],$=this.options.keepBuffer,H=new de(y.getBottomLeft().subtract([$,-$]),y.getTopRight().add([$,-$]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ne=this._tiles[Y].coords;(ne.z!==this._tileZoom||!H.contains(new Z(ne.x,ne.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var ue=y.min.y;ue<=y.max.y;ue++)for(var Te=y.min.x;Te<=y.max.x;Te++){var un=new Z(Te,ue);if(un.z=this._tileZoom,!!this._isValidTile(un)){var Mt=this._tiles[this._tileCoordsToKey(un)];Mt?Mt.current=!0:V.push(un)}}if(V.sort(function(_n,ua){return _n.distanceTo(T)-ua.distanceTo(T)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(Te=0;Te<V.length;Te++)this._addTile(V[Te],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!l.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return Me(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,d=this.getTileSize(),p=s.scaleBy(d),y=p.add(d),T=l.unproject(p,s.z),V=l.unproject(y,s.z);return[T,V]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),d=new Pe(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),d=new Z(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(s){var l=this._tiles[s];l&&(We(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){_e(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=_,s.onmousemove=_,oe.ielt9&&this.options.opacity<1&&ut(s,this.options.opacity)},_addTile:function(s,l){var d=this._getTilePos(s),p=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&F(a(this._tileReady,this,s,null,y)),fe(y,d),this._tiles[p]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:s});var p=this._tileCoordsToKey(s);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(ut(d.el,0),U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(_e(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new Z(this._wrapX?m(s.x,this._wrapX):s.x,this._wrapY?m(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new de(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function DA(s){return new su(s)}var la=su.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=E(this,l),l.detectRetina&&oe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var d=document.createElement("img");return le(d,"load",a(this._tileOnLoad,this,l,d)),le(d,"error",a(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var l={r:oe.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=d),l["-y"]=d}return x(this._url,i(l,this.options))},_tileOnLoad:function(s,l){oe.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,d){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),s(d,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(s=l-s),s+p},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=_,l.onerror=_,!l.complete)){l.src=q;var d=this._tiles[s].coords;We(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",q),su.prototype._removeTile.call(this,s)},_tileReady:function(s,l,d){if(!(!this._map||d&&d.getAttribute("src")===q))return su.prototype._tileReady.call(this,s,l,d)}});function W0(s,l){return new la(s,l)}var q0=la.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var d=i({},this.defaultWmsParams);for(var p in l)p in this.options||(d[p]=l[p]);l=E(this,l);var y=l.detectRetina&&oe.retina?2:1,T=this.getTileSize();d.width=T.x*y,d.height=T.y*y,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,la.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),d=this._crs,p=ve(d.project(l[0]),d.project(l[1])),y=p.min,T=p.max,V=(this._wmsVersion>=1.3&&this._crs===Et?[y.y,y.x,T.y,T.x]:[y.x,y.y,T.x,T.y]).join(","),$=la.prototype.getTileUrl.call(this,s);return $+N(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(s,l){return i(this.wmsParams,s),l||this.redraw(),this}});function VA(s,l){return new q0(s,l)}la.WMS=q0,W0.wms=VA;var ai=$e.extend({options:{padding:.1},initialize:function(s){E(this,s),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var d=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),T=p.multiplyBy(-d).add(y).subtract(this._map._getNewPixelOrigin(s,l));oe.any3d?Rr(this._container,T,d):fe(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new de(d,d.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),G0=ai.extend({options:{tolerance:0},getEvents:function(){var s=ai.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");le(s,"mousemove",this._onMouseMove,this),le(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),le(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,We(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var s=this._bounds,l=this._container,d=s.getSize(),p=oe.retina?2:1;fe(l,s.min),l.width=p*d.x,l.height=p*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[h(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,d=l.next,p=l.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete s._order,delete this._layers[h(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),d=[],p,y;for(y=0;y<l.length;y++){if(p=Number(l[y]),isNaN(p))return;d.push(p)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var d,p,y,T,V=s._parts,$=V.length,H=this._ctx;if($){for(H.beginPath(),d=0;d<$;d++){for(p=0,y=V[d].length;p<y;p++)T=V[d][p],H[p?"lineTo":"moveTo"](T.x,T.y);l&&H.closePath()}this._fillStroke(H,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,d=this._ctx,p=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||p)/p;y!==1&&(d.save(),d.scale(1,y)),d.beginPath(),d.arc(l.x,l.y/y,p,0,Math.PI*2,!1),y!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,l){var d=l.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),d,p,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Xe(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var d,p,y=this._drawFirst;y;y=y.next)d=y.layer,d.options.interactive&&d._containsPoint(l)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(_e(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,d){this._map._fireDOMEvent(l,d||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var d=l.next,p=l.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var d=l.next,p=l.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function K0(s){return oe.canvas?new G0(s):null}var ou=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),FA={_initContainer:function(){this._container=Ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ai.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=ou("shape");_e(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=ou("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;We(l),s.removeInteractiveTarget(l),delete this._layers[h(s)]},_updateStyle:function(s){var l=s._stroke,d=s._fill,p=s.options,y=s._container;y.stroked=!!p.stroke,y.filled=!!p.fill,p.stroke?(l||(l=s._stroke=ou("stroke")),y.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=R(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(y.removeChild(l),s._stroke=null),p.fill?(d||(d=s._fill=ou("fill")),y.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(y.removeChild(d),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),d=Math.round(s._radius),p=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){ei(s._container)},_bringToBack:function(s){Vi(s._container)}},Uh=oe.vml?ou:Lo,au=ai.extend({_initContainer:function(){this._container=Uh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Uh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){We(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ai.prototype._update.call(this);var s=this._bounds,l=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),fe(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Uh("path");s.options.className&&_e(l,s.options.className),s.options.interactive&&_e(l,"leaflet-interactive"),this._updateStyle(s),this._layers[h(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){We(s._path),s.removeInteractiveTarget(s._path),delete this._layers[h(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,d=s.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Cl(s._parts,l))},_updateCircle:function(s){var l=s._point,d=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||d,y="a"+d+","+p+" 0 1,0 ",T=s._empty()?"M0 0":"M"+(l.x-d)+","+l.y+y+d*2+",0 "+y+-d*2+",0 ";this._setPath(s,T)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){ei(s._path)},_bringToBack:function(s){Vi(s._path)}});oe.vml&&au.include(FA);function Z0(s){return oe.svg||oe.vml?new au(s):null}Se.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&K0(s)||Z0(s)}});var Q0=oa.extend({initialize:function(s,l){oa.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Me(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function UA(s,l){return new Q0(s,l)}au.create=Uh,au.pointsToPath=Cl,oi.geometryToLayer=Oh,oi.coordsToLatLng=ym,oi.coordsToLatLngs=Lh,oi.latLngToCoords=vm,oi.latLngsToCoords=Nh,oi.getFeature=aa,oi.asFeature=Mh,Se.mergeOptions({boxZoom:!0});var Y0=kn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){We(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fr(),Hl(),this._startPoint=this._map.mouseEventToContainerPoint(s),le(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Ie("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new de(this._point,this._startPoint),d=l.getSize();fe(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(We(this._box),Xe(this._container,"leaflet-crosshair")),pr(),Wl(),ze(document,{contextmenu:Rn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Se.addInitHook("addHandler","boxZoom",Y0),Se.mergeOptions({doubleClickZoom:!0});var X0=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,d=l.getZoom(),p=l.options.zoomDelta,y=s.originalEvent.shiftKey?d-p:d+p;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});Se.addInitHook("addHandler","doubleClickZoom",X0),Se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var J0=kn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new mr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xe(this._map._container,"leaflet-grab"),Xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Me(this._map.options.maxBounds);this._offsetLimit=ve(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,y=(p-l+d)%s+l-d,T=(p+l+d)%s-l-d,V=Math.abs(y+d)<Math.abs(T+d)?y:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(s){var l=this._map,d=l.options,p=!d.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),p)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,V=d.easeLinearity,$=y.multiplyBy(V/T),H=$.distanceTo([0,0]),Y=Math.min(d.inertiaMaxSpeed,H),ne=$.multiplyBy(Y/H),ue=Y/(d.inertiaDeceleration*V),Te=ne.multiplyBy(-ue/2).round();!Te.x&&!Te.y?l.fire("moveend"):(Te=l._limitOffset(Te,l.options.maxBounds),F(function(){l.panBy(Te,{duration:ue,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Se.addInitHook("addHandler","dragging",J0),Se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ew=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),le(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,d=s.scrollTop||l.scrollTop,p=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},d=this.keyCodes,p,y;for(p=0,y=d.left.length;p<y;p++)l[d.left[p]]=[-1*s,0];for(p=0,y=d.right.length;p<y;p++)l[d.right[p]]=[s,0];for(p=0,y=d.down.length;p<y;p++)l[d.down[p]]=[0,s];for(p=0,y=d.up.length;p<y;p++)l[d.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},d=this.keyCodes,p,y;for(p=0,y=d.zoomIn.length;p<y;p++)l[d.zoomIn[p]]=s;for(p=0,y=d.zoomOut.length;p<y;p++)l[d.zoomOut[p]]=-s},_addHooks:function(){le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,d=this._map,p;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[l],s.shiftKey&&(p=ee(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(ee(p),d.options.maxBounds)),d.options.worldCopyJump){var y=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(y)}else d.panBy(p)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Rn(s)}}});Se.addInitHook("addHandler","keyboard",ew),Se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tw=kn.extend({addHooks:function(){le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=Sh(s),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),p),Rn(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,T=d?Math.ceil(y/d)*d:y,V=s._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,V&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+V):s.setZoomAround(this._lastMousePos,l+V))}});Se.addInitHook("addHandler","scrollWheelZoom",tw);var jA=600;Se.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var nw=kn.extend({addHooks:function(){le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new Z(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(le(document,"touchend",nt),le(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),jA),le(document,"touchend touchcancel contextmenu",this._cancel,this),le(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ze(document,"touchend",nt),ze(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new Z(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Se.addInitHook("addHandler","tapHold",nw),Se.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var rw=kn.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xe(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),le(document,"touchmove",this._onTouchMove,this),le(document,"touchend touchcancel",this._onTouchEnd,this),nt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(s.touches[0]),p=l.mouseEventToContainerPoint(s.touches[1]),y=d.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var T=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(y===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var V=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(V,this,!0),nt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Se.addInitHook("addHandler","touchZoom",rw),Se.BoxZoom=Y0,Se.DoubleClickZoom=X0,Se.Drag=J0,Se.Keyboard=ew,Se.ScrollWheelZoom=tw,Se.TapHold=nw,Se.TouchZoom=rw,n.Bounds=de,n.Browser=oe,n.CRS=bt,n.Canvas=G0,n.Circle=_m,n.CircleMarker=kh,n.Class=He,n.Control=gn,n.DivIcon=H0,n.DivOverlay=Lr,n.DomEvent=Ph,n.DomUtil=Eh,n.Draggable=mr,n.Evented=an,n.FeatureGroup=gt,n.GeoJSON=oi,n.GridLayer=su,n.Handler=kn,n.Icon=Or,n.ImageOverlay=Dh,n.LatLng=Ee,n.LatLngBounds=Pe,n.Layer=$e,n.LayerGroup=rt,n.LineUtil=I,n.Map=Se,n.Marker=Rh,n.Mixin=Ws,n.Path=$i,n.Point=Z,n.PolyUtil=ra,n.Polygon=oa,n.Polyline=si,n.Popup=Vh,n.PosAnimation=Xl,n.Projection=te,n.Rectangle=Q0,n.Renderer=ai,n.SVG=au,n.SVGOverlay=$0,n.TileLayer=la,n.Tooltip=Fh,n.Transformation=Ni,n.Util=D,n.VideoOverlay=z0,n.bind=a,n.bounds=ve,n.canvas=K0,n.circle=xA,n.circleMarker=IA,n.control=ln,n.divIcon=MA,n.extend=i,n.featureGroup=sa,n.geoJSON=B0,n.geoJson=AA,n.gridLayer=DA,n.icon=SA,n.imageOverlay=RA,n.latLng=me,n.latLngBounds=Me,n.layerGroup=zi,n.map=Yo,n.marker=PA,n.point=ee,n.polygon=bA,n.polyline=CA,n.popup=LA,n.rectangle=UA,n.setOptions=E,n.stamp=h,n.svg=Z0,n.svgOverlay=OA,n.tileLayer=W0,n.tooltip=NA,n.transformation=Qr,n.version=r,n.videoOverlay=kA;var BA=window.L;n.noConflict=function(){return window.L=BA,this},window.L=n})})(K_,K_.exports);var Np=K_.exports;function f0(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function p0(t,e){return e==null?function(r,i){const o=j.useRef();return o.current||(o.current=t(r,i)),o}:function(r,i){const o=j.useRef();o.current||(o.current=t(r,i));const a=j.useRef(r),{instance:u}=o.current;return j.useEffect(function(){a.current!==r&&(e(u,r,a.current),a.current=r)},[u,r,i]),o}}function _3(t,e){j.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Eb(t){return function(n){const r=vb(),i=t(d0(n,r),r);return gb(r.map,n.attribution),wb(i.current,n.eventHandlers),_3(i.current,r),i}}function y3(t,e){const n=p0(t,e),r=Eb(n);return f3(r)}function v3(t,e){const n=p0(t),r=g3(n,e);return p3(r)}function w3(t,e){const n=p0(t,e),r=Eb(n);return m3(r)}function E3(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function Z_(){return Z_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function T3({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:o,placeholder:a,style:u,whenReady:h,zoom:f,...m},_){const[w]=j.useState({className:i,id:o,style:u}),[P,S]=j.useState(null);j.useImperativeHandle(_,()=>(P==null?void 0:P.map)??null,[P]);const E=j.useCallback(b=>{if(b!==null&&P===null){const x=new Np.Map(b,m);n!=null&&f!=null?x.setView(n,f):t!=null&&x.fitBounds(t,e),h!=null&&x.whenReady(h),S(h3(x))}},[]);j.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const N=P?zd.createElement(yb,{value:P},r):a??null;return zd.createElement("div",Z_({},w,{ref:E}),N)}const S3=j.forwardRef(T3),P3=y3(function({position:e,...n},r){const i=new Np.Marker(e,n);return f0(i,d3(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),I3=v3(function(e,n){const r=new Np.Popup(e,n.overlayContainer);return f0(r,n)},function(e,n,{position:r},i){j.useEffect(function(){const{instance:a}=e;function u(f){f.popup===a&&(a.update(),i(!0))}function h(f){f.popup===a&&i(!1)}return n.map.on({popupopen:u,popupclose:h}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var m;n.map.off({popupopen:u,popupclose:h}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),x3=w3(function({url:e,...n},r){const i=new Np.TileLayer(e,d0(n,r));return f0(i,r)},function(e,n,r){E3(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)});function C3({items:t}){const e=[t[0].latitude,t[0].longitude];return A.jsx(P3,{position:e,children:A.jsx(I3,{children:A.jsx("div",{className:"popupContainer",children:t.map(n=>A.jsx("div",{className:"popupItem",children:A.jsxs("div",{className:"textContainer",children:[A.jsx(At,{to:`/hostel/${n._id}`,children:n.name}),A.jsxs("span",{children:[n.type," type"]}),A.jsxs("p",{children:["$",n.price," / month"]}),A.jsxs("b",{children:["Rating: ",Number(n.averageRating).toFixed(1)," (",n.ratings.length,")"]})]})},n._id))})})})}const Tb=({items:t})=>{const n=(r=>{const i={};return r.forEach(o=>{const a=`${o.latitude},${o.longitude}`;i[a]||(i[a]=[]),i[a].push(o)}),i})(t);return A.jsxs(S3,{center:t.length===1?[t[0].latitude,t[0].longitude]:[1.2966,103.7764],zoom:13,scrollWheelZoom:!0,className:"map",children:[A.jsx(x3,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object.values(n).map((r,i)=>A.jsx(C3,{items:r},i))]})},b3=({hostels:t,setFilteredHostels:e})=>{const[n,r]=j.useState(""),i=o=>{const a=o.target.value.toLowerCase();r(a);const u=t.filter(h=>h.name.toLowerCase().includes(a)||h.type.toLowerCase().includes(a));e(u)};return A.jsx("div",{className:"search-bar-container",children:A.jsx("input",{type:"text",placeholder:"Search hostel by name or type",className:"search-bar",value:n,onChange:i})})},A3=()=>{const{currentUser:t,userLoggedIn:e}=ar(),{hostels:n,setHostels:r,filteredHostels:i,setFilteredHostels:o}=Xc(),a=ml(),u=pl(),[h,f]=j.useState(!1);j.useEffect(()=>{(async()=>{var S;try{const N=(await Tc.get("/hostels")).data;N.sort((R,B)=>B.averageRating-R.averageRating),r(N);const b=localStorage.getItem("filteredHostels"),x=localStorage.getItem("isFilterApplied")==="true";(S=u.state)!=null&&S.fromFilter?b?(o(JSON.parse(b)),f(!0)):o(N):(o(N),f(!1),localStorage.removeItem("filteredHostels"),localStorage.removeItem("isFilterApplied"))}catch(E){console.error("Error fetching hostels:",E)}})()},[r,o,u.state]),j.useEffect(()=>{console.log("Filtered Hostels:",i)},[i]);const m=P=>{o(P)},_=()=>{a("/filter",{state:{fromFilter:!0}})},w=()=>{o(n),localStorage.removeItem("filteredHostels"),localStorage.removeItem("isFilterApplied"),f(!1)};return e?A.jsxs("div",{className:"home-page",children:[A.jsx("header",{className:"header",children:A.jsx("h1",{children:"NUStay"})}),A.jsxs("div",{className:"search-bar-container",children:[A.jsx(b3,{hostels:n,setFilteredHostels:m}),A.jsx("button",{className:"filter-button profile",onClick:_,children:"Filter"}),h&&A.jsx("button",{className:"cancel-filter-button profile",onClick:w,children:"Cancel Filter"})]}),A.jsxs("div",{className:"main-content",children:[A.jsxs("div",{className:"hostel-list-section",children:[A.jsx("h2",{children:"Top rated hostels in NUS"}),A.jsx(u3,{posts:i})]}),A.jsxs("div",{className:"map-explore-section",children:[A.jsx("h2",{children:"Map(click on pin to view hostel info)"}),A.jsx("div",{className:"map-container",children:A.jsx(Tb,{items:i})})]})]}),A.jsxs("div",{className:"login-info",children:["Hello ",t.displayName?t.displayName:t.email,", you are now logged in."]})]}):A.jsx(rv,{to:"/login"})},R3=()=>{const{hostels:t,setFilteredHostels:e}=Xc(),[n,r]=j.useState([]),[i,o]=j.useState([]),[a,u]=j.useState(""),[h,f]=j.useState(""),m=ml(),_=(S,E,N)=>{E(b=>b.includes(N)?b.filter(x=>x!==N):[...b,N])},w=S=>{const{propertyType:E,roomType:N,minPrice:b,maxPrice:x}=S,R=t.filter(B=>{const q=E.length===0||E.every(O=>B.type.includes(O)),K=N.length===0||N.every(O=>B.type.includes(O)),k=b===""||B.price>=parseFloat(b),C=x===""||B.price<=parseFloat(x);return q&&K&&k&&C});console.log("Filtered Data: ",R),e(R),localStorage.setItem("filteredHostels",JSON.stringify(R)),localStorage.setItem("isFilterApplied","true"),m("/home",{state:{fromFilter:!0}})},P=()=>{if(a!==""&&h!==""&&parseFloat(a)>parseFloat(h)){alert("Min price must be smaller than max price!");return}w({propertyType:n,roomType:i,minPrice:a,maxPrice:h})};return A.jsxs("div",{className:"filter-page",children:[A.jsx("h2",{children:"Filter Hostels"}),A.jsxs("div",{className:"filter-container",children:[A.jsxs("div",{className:"filter-row",children:[A.jsxs("div",{className:"filter-item",children:[A.jsx("label",{children:"Property Type"}),A.jsx("div",{className:"button-group",children:["House","Hall","Residence","Residential College"].map(S=>A.jsx("button",{className:`filter-button ${n.includes(S)?"selected":""}`,onClick:()=>_(n,r,S),children:S},S))})]}),A.jsxs("div",{className:"filter-item",children:[A.jsx("label",{children:"Room Type"}),A.jsx("div",{className:"button-group",children:["Single","Shared","Apartment"].map(S=>A.jsx("button",{className:`filter-button ${i.includes(S)?"selected":""}`,onClick:()=>_(i,o,S),children:S},S))})]})]}),A.jsxs("div",{className:"price-row",children:[A.jsxs("div",{className:"filter-item",children:[A.jsx("label",{children:"Min Price"}),A.jsx("input",{type:"number",value:a,onChange:S=>u(S.target.value),placeholder:"Enter min price"})]}),A.jsxs("div",{className:"filter-item",children:[A.jsx("label",{children:"Max Price"}),A.jsx("input",{type:"number",value:h,onChange:S=>f(S.target.value),placeholder:"Enter max price"})]})]}),A.jsx("button",{className:"apply-filter-button",onClick:P,children:"Apply Filter"})]})]})},k3=()=>A.jsx("div",{className:"filter-page",children:A.jsx(R3,{})}),O3=({postId:t})=>{const{currentUser:e}=ar(),[n,r]=j.useState(""),i=async()=>{n!==""&&(await TC(Tp(rn,"posts",t,"comments"),{comment:n,createdAt:Mf(),uid:e.uid,email:e.email,displayName:e.displayName||e.email,photoURL:e.photoURL||"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",upvotes:0}),r(""))};return A.jsxs("div",{id:"create-comment-container",children:[A.jsx("textarea",{placeholder:"Write a comment",value:n,onChange:o=>r(o.target.value),id:"create-comment-input"}),A.jsx("button",{id:"submit-comment-button",onClick:i,children:"Submit"})]})};var m0={},Sb={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Sb);var Jc=Sb.exports,fg={};function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(null,arguments)}function ns(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Pb(t){if(!ns(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Pb(t[n])}),e}function qr(t,e,n={clone:!0}){const r=n.clone?Ue({},t):t;return ns(t)&&ns(e)&&Object.keys(e).forEach(i=>{ns(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ns(t[i])?r[i]=qr(t[i],e[i],n):n.clone?r[i]=ns(e[i])?Pb(e[i]):e[i]:r[i]=e[i]}),r}const L3=Object.freeze(Object.defineProperty({__proto__:null,default:qr,isPlainObject:ns},Symbol.toStringTag,{value:"Module"}));function Sc(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const N3=Object.freeze(Object.defineProperty({__proto__:null,default:Sc},Symbol.toStringTag,{value:"Module"}));var Ib={exports:{}},je={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=Symbol.for("react.element"),_0=Symbol.for("react.portal"),Mp=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),Fp=Symbol.for("react.provider"),Up=Symbol.for("react.context"),M3=Symbol.for("react.server_context"),jp=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),$p=Symbol.for("react.memo"),Hp=Symbol.for("react.lazy"),D3=Symbol.for("react.offscreen"),xb;xb=Symbol.for("react.module.reference");function lr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case g0:switch(t=t.type,t){case Mp:case Vp:case Dp:case Bp:case zp:return t;default:switch(t=t&&t.$$typeof,t){case M3:case Up:case jp:case Hp:case $p:case Fp:return t;default:return e}}case _0:return e}}}je.ContextConsumer=Up;je.ContextProvider=Fp;je.Element=g0;je.ForwardRef=jp;je.Fragment=Mp;je.Lazy=Hp;je.Memo=$p;je.Portal=_0;je.Profiler=Vp;je.StrictMode=Dp;je.Suspense=Bp;je.SuspenseList=zp;je.isAsyncMode=function(){return!1};je.isConcurrentMode=function(){return!1};je.isContextConsumer=function(t){return lr(t)===Up};je.isContextProvider=function(t){return lr(t)===Fp};je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===g0};je.isForwardRef=function(t){return lr(t)===jp};je.isFragment=function(t){return lr(t)===Mp};je.isLazy=function(t){return lr(t)===Hp};je.isMemo=function(t){return lr(t)===$p};je.isPortal=function(t){return lr(t)===_0};je.isProfiler=function(t){return lr(t)===Vp};je.isStrictMode=function(t){return lr(t)===Dp};je.isSuspense=function(t){return lr(t)===Bp};je.isSuspenseList=function(t){return lr(t)===zp};je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mp||t===Vp||t===Dp||t===Bp||t===zp||t===D3||typeof t=="object"&&t!==null&&(t.$$typeof===Hp||t.$$typeof===$p||t.$$typeof===Fp||t.$$typeof===Up||t.$$typeof===jp||t.$$typeof===xb||t.getModuleId!==void 0)};je.typeOf=lr;Ib.exports=je;var r1=Ib.exports;const V3=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function Cb(t){const e=`${t}`.match(V3);return e&&e[1]||""}function bb(t,e=""){return t.displayName||t.name||Cb(t)||e}function i1(t,e,n){const r=bb(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function F3(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return bb(t,"Component");if(typeof t=="object")switch(t.$$typeof){case r1.ForwardRef:return i1(t,t.render,"ForwardRef");case r1.Memo:return i1(t,t.type,"memo");default:return}}}const U3=Object.freeze(Object.defineProperty({__proto__:null,default:F3,getFunctionName:Cb},Symbol.toStringTag,{value:"Module"}));function Ps(t){if(typeof t!="string")throw new Error(Sc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const j3=Object.freeze(Object.defineProperty({__proto__:null,default:Ps},Symbol.toStringTag,{value:"Module"}));function B3(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function z3(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function $3(t,e){return()=>null}function H3(t,e){var n,r;return j.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function Ab(t){return t&&t.ownerDocument||document}function W3(t){return Ab(t).defaultView||window}function q3(t,e){return()=>null}function Rb(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const kb=typeof window<"u"?j.useLayoutEffect:j.useEffect;let s1=0;function G3(t){const[e,n]=j.useState(t),r=t||e;return j.useEffect(()=>{e==null&&(s1+=1,n(`mui-${s1}`))},[e]),r}const o1=$d.useId;function K3(t){if(o1!==void 0){const e=o1();return t??e}return G3(t)}function Z3(t,e,n,r,i){return null}function Q3({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=j.useRef(t!==void 0),[o,a]=j.useState(e),u=i?t:o,h=j.useCallback(f=>{i||a(f)},[]);return[u,h]}function Y3(t){const e=j.useRef(t);return kb(()=>{e.current=t}),j.useRef((...n)=>(0,e.current)(...n)).current}function X3(...t){return j.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Rb(n,e)})},t)}class y0{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new y0}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let Wp=!0,Q_=!1;const J3=new y0,eB={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function tB(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&eB[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function nB(t){t.metaKey||t.altKey||t.ctrlKey||(Wp=!0)}function pg(){Wp=!1}function rB(){this.visibilityState==="hidden"&&Q_&&(Wp=!0)}function iB(t){t.addEventListener("keydown",nB,!0),t.addEventListener("mousedown",pg,!0),t.addEventListener("pointerdown",pg,!0),t.addEventListener("touchstart",pg,!0),t.addEventListener("visibilitychange",rB,!0)}function sB(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Wp||tB(e)}function oB(){const t=j.useCallback(i=>{i!=null&&iB(i.ownerDocument)},[]),e=j.useRef(!1);function n(){return e.current?(Q_=!0,J3.start(100,()=>{Q_=!1}),e.current=!1,!0):!1}function r(i){return sB(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Ob(t,e){const n=Ue({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Ue({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=Ue({},o),Object.keys(i).forEach(a=>{n[r][a]=Ob(i[a],o[a])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function aB(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,a)=>{if(a){const u=e(a);u!==""&&o.push(u),n&&n[a]&&o.push(n[a])}return o},[]).join(" ")}),r}const a1=t=>t,lB=()=>{let t=a1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=a1}}},Lb=lB(),uB={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Nb(t,e,n="Mui"){const r=uB[e];return r?`${n}-${r}`:`${Lb.generate(t)}-${e}`}function cB(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Nb(t,i,n)}),r}function hB(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const dB=Object.freeze(Object.defineProperty({__proto__:null,default:hB},Symbol.toStringTag,{value:"Module"}));function Os(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Mb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fB(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Mb(t))&&(r&&(r+=" "),r+=e);return r}function pB(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Ob(e.components[n].defaultProps,r)}const mB=["values","unit","step"],gB=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Ue({},n,{[r.key]:r.val}),{})};function Db(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Os(t,mB),o=gB(e),a=Object.keys(o);function u(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${n})`}function h(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-r/100}${n})`}function f(w,P){const S=a.indexOf(P);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${n}) and (max-width:${(S!==-1&&typeof e[a[S]]=="number"?e[a[S]]:P)-r/100}${n})`}function m(w){return a.indexOf(w)+1<a.length?f(w,a[a.indexOf(w)+1]):u(w)}function _(w){const P=a.indexOf(w);return P===0?u(a[1]):P===a.length-1?h(a[P]):f(w,a[a.indexOf(w)+1]).replace("@media","@media not all and")}return Ue({keys:a,values:o,up:u,down:h,between:f,only:m,not:_,unit:n},i)}const _B={borderRadius:4};function Ku(t,e){return e?qr(t,e,{clone:!1}):t}const v0={xs:0,sm:600,md:900,lg:1200,xl:1536},l1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${v0[t]}px)`};function Ci(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||l1;return e.reduce((a,u,h)=>(a[o.up(o.keys[h])]=n(e[h]),a),{})}if(typeof e=="object"){const o=r.breakpoints||l1;return Object.keys(e).reduce((a,u)=>{if(Object.keys(o.values||v0).indexOf(u)!==-1){const h=o.up(u);a[h]=n(e[u],u)}else{const h=u;a[h]=e[h]}return a},{})}return n(e)}function yB(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function vB(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function qp(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Ff(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=qp(t,n)||r,e&&(i=e(i,r,t)),i}function yt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=a=>{if(a[e]==null)return null;const u=a[e],h=a.theme,f=qp(h,r)||{};return Ci(a,u,_=>{let w=Ff(f,i,_);return _===w&&typeof _=="string"&&(w=Ff(f,i,`${e}${_==="default"?"":Ps(_)}`,_)),n===!1?w:{[n]:w}})};return o.propTypes={},o.filterProps=[e],o}function wB(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const EB={m:"margin",p:"padding"},TB={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},SB=wB(t=>{if(t.length>2)if(u1[t])t=u1[t];else return[t];const[e,n]=t.split(""),r=EB[e],i=TB[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),w0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],E0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...w0,...E0];function eh(t,e,n,r){var i;const o=(i=qp(t,e,!1))!=null?i:n;return typeof o=="number"?a=>typeof a=="string"?a:o*a:Array.isArray(o)?a=>typeof a=="string"?a:o[a]:typeof o=="function"?o:()=>{}}function Vb(t){return eh(t,"spacing",8)}function th(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function PB(t,e){return n=>t.reduce((r,i)=>(r[i]=th(e,n),r),{})}function IB(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=SB(n),o=PB(i,r),a=t[n];return Ci(t,a,o)}function Fb(t,e){const n=Vb(t.theme);return Object.keys(t).map(r=>IB(t,e,r,n)).reduce(Ku,{})}function ct(t){return Fb(t,w0)}ct.propTypes={};ct.filterProps=w0;function ht(t){return Fb(t,E0)}ht.propTypes={};ht.filterProps=E0;function xB(t=8){if(t.mui)return t;const e=Vb({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const a=e(o);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function Gp(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Ku(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Jn(t){return typeof t!="number"?t:`${t}px solid`}function ur(t,e){return yt({prop:t,themeKey:"borders",transform:e})}const CB=ur("border",Jn),bB=ur("borderTop",Jn),AB=ur("borderRight",Jn),RB=ur("borderBottom",Jn),kB=ur("borderLeft",Jn),OB=ur("borderColor"),LB=ur("borderTopColor"),NB=ur("borderRightColor"),MB=ur("borderBottomColor"),DB=ur("borderLeftColor"),VB=ur("outline",Jn),FB=ur("outlineColor"),Kp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=eh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:th(e,r)});return Ci(t,t.borderRadius,n)}return null};Kp.propTypes={};Kp.filterProps=["borderRadius"];Gp(CB,bB,AB,RB,kB,OB,LB,NB,MB,DB,Kp,VB,FB);const Zp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=eh(t.theme,"spacing",8),n=r=>({gap:th(e,r)});return Ci(t,t.gap,n)}return null};Zp.propTypes={};Zp.filterProps=["gap"];const Qp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=eh(t.theme,"spacing",8),n=r=>({columnGap:th(e,r)});return Ci(t,t.columnGap,n)}return null};Qp.propTypes={};Qp.filterProps=["columnGap"];const Yp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=eh(t.theme,"spacing",8),n=r=>({rowGap:th(e,r)});return Ci(t,t.rowGap,n)}return null};Yp.propTypes={};Yp.filterProps=["rowGap"];const UB=yt({prop:"gridColumn"}),jB=yt({prop:"gridRow"}),BB=yt({prop:"gridAutoFlow"}),zB=yt({prop:"gridAutoColumns"}),$B=yt({prop:"gridAutoRows"}),HB=yt({prop:"gridTemplateColumns"}),WB=yt({prop:"gridTemplateRows"}),qB=yt({prop:"gridTemplateAreas"}),GB=yt({prop:"gridArea"});Gp(Zp,Qp,Yp,UB,jB,BB,zB,$B,HB,WB,qB,GB);function za(t,e){return e==="grey"?e:t}const KB=yt({prop:"color",themeKey:"palette",transform:za}),ZB=yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:za}),QB=yt({prop:"backgroundColor",themeKey:"palette",transform:za});Gp(KB,ZB,QB);function Ln(t){return t<=1&&t!==0?`${t*100}%`:t}const YB=yt({prop:"width",transform:Ln}),T0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||v0[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Ln(n)}};return Ci(t,t.maxWidth,e)}return null};T0.filterProps=["maxWidth"];const XB=yt({prop:"minWidth",transform:Ln}),JB=yt({prop:"height",transform:Ln}),ez=yt({prop:"maxHeight",transform:Ln}),tz=yt({prop:"minHeight",transform:Ln});yt({prop:"size",cssProperty:"width",transform:Ln});yt({prop:"size",cssProperty:"height",transform:Ln});const nz=yt({prop:"boxSizing"});Gp(YB,T0,XB,JB,ez,tz,nz);const nh={border:{themeKey:"borders",transform:Jn},borderTop:{themeKey:"borders",transform:Jn},borderRight:{themeKey:"borders",transform:Jn},borderBottom:{themeKey:"borders",transform:Jn},borderLeft:{themeKey:"borders",transform:Jn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Jn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Kp},color:{themeKey:"palette",transform:za},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:za},backgroundColor:{themeKey:"palette",transform:za},p:{style:ht},pt:{style:ht},pr:{style:ht},pb:{style:ht},pl:{style:ht},px:{style:ht},py:{style:ht},padding:{style:ht},paddingTop:{style:ht},paddingRight:{style:ht},paddingBottom:{style:ht},paddingLeft:{style:ht},paddingX:{style:ht},paddingY:{style:ht},paddingInline:{style:ht},paddingInlineStart:{style:ht},paddingInlineEnd:{style:ht},paddingBlock:{style:ht},paddingBlockStart:{style:ht},paddingBlockEnd:{style:ht},m:{style:ct},mt:{style:ct},mr:{style:ct},mb:{style:ct},ml:{style:ct},mx:{style:ct},my:{style:ct},margin:{style:ct},marginTop:{style:ct},marginRight:{style:ct},marginBottom:{style:ct},marginLeft:{style:ct},marginX:{style:ct},marginY:{style:ct},marginInline:{style:ct},marginInlineStart:{style:ct},marginInlineEnd:{style:ct},marginBlock:{style:ct},marginBlockStart:{style:ct},marginBlockEnd:{style:ct},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zp},rowGap:{style:Yp},columnGap:{style:Qp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ln},maxWidth:{style:T0},minWidth:{transform:Ln},height:{transform:Ln},maxHeight:{transform:Ln},minHeight:{transform:Ln},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function rz(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function iz(t,e){return typeof t=="function"?t(e):t}function Ub(){function t(n,r,i,o){const a={[n]:r,theme:i},u=o[n];if(!u)return{[n]:r};const{cssProperty:h=n,themeKey:f,transform:m,style:_}=u;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[n]:r};const w=qp(i,f)||{};return _?_(a):Ci(a,r,S=>{let E=Ff(w,m,S);return S===E&&typeof S=="string"&&(E=Ff(w,m,`${n}${S==="default"?"":Ps(S)}`,S)),h===!1?E:{[h]:E}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const a=(r=o.unstable_sxConfig)!=null?r:nh;function u(h){let f=h;if(typeof h=="function")f=h(o);else if(typeof h!="object")return h;if(!f)return null;const m=yB(o.breakpoints),_=Object.keys(m);let w=m;return Object.keys(f).forEach(P=>{const S=iz(f[P],o);if(S!=null)if(typeof S=="object")if(a[P])w=Ku(w,t(P,S,o,a));else{const E=Ci({theme:o},S,N=>({[P]:N}));rz(E,S)?w[P]=e({sx:S,theme:o}):w=Ku(w,E)}else w=Ku(w,t(P,S,o,a))}),vB(_,w)}return Array.isArray(i)?i.map(u):u(i)}return e}const Xp=Ub();Xp.filterProps=["sx"];function jb(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const sz=["breakpoints","palette","spacing","shape"];function S0(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,a=Os(t,sz),u=Db(n),h=xB(i);let f=qr({breakpoints:u,direction:"ltr",components:{},palette:Ue({mode:"light"},r),spacing:h,shape:Ue({},_B,o)},a);return f.applyStyles=jb,f=e.reduce((m,_)=>qr(m,_),f),f.unstable_sxConfig=Ue({},nh,a==null?void 0:a.unstable_sxConfig),f.unstable_sx=function(_){return Xp({sx:_,theme:this})},f}const oz=Object.freeze(Object.defineProperty({__proto__:null,default:S0,private_createBreakpoints:Db,unstable_applyStyles:jb},Symbol.toStringTag,{value:"Module"}));function Bb(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var az=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lz=Bb(function(t){return az.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function uz(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cz(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hz=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cz(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=uz(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Jt="-ms-",Uf="-moz-",Oe="-webkit-",zb="comm",P0="rule",I0="decl",dz="@import",$b="@keyframes",fz="@layer",pz=Math.abs,Jp=String.fromCharCode,mz=Object.assign;function gz(t,e){return $t(t,0)^45?(((e<<2^$t(t,0))<<2^$t(t,1))<<2^$t(t,2))<<2^$t(t,3):0}function Hb(t){return t.trim()}function _z(t,e){return(t=e.exec(t))?t[0]:t}function Le(t,e,n){return t.replace(e,n)}function Y_(t,e){return t.indexOf(e)}function $t(t,e){return t.charCodeAt(e)|0}function Pc(t,e,n){return t.slice(e,n)}function Dr(t){return t.length}function x0(t){return t.length}function hd(t,e){return e.push(t),t}function yz(t,e){return t.map(e).join("")}var em=1,ul=1,Wb=0,Cn=0,It=0,Sl="";function tm(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:em,column:ul,length:a,return:""}}function vu(t,e){return mz(tm("",null,null,"",null,null,0),t,{length:-t.length},e)}function vz(){return It}function wz(){return It=Cn>0?$t(Sl,--Cn):0,ul--,It===10&&(ul=1,em--),It}function Fn(){return It=Cn<Wb?$t(Sl,Cn++):0,ul++,It===10&&(ul=1,em++),It}function Gr(){return $t(Sl,Cn)}function Vd(){return Cn}function rh(t,e){return Pc(Sl,t,e)}function Ic(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qb(t){return em=ul=1,Wb=Dr(Sl=t),Cn=0,[]}function Gb(t){return Sl="",t}function Fd(t){return Hb(rh(Cn-1,X_(t===91?t+2:t===40?t+1:t)))}function Ez(t){for(;(It=Gr())&&It<33;)Fn();return Ic(t)>2||Ic(It)>3?"":" "}function Tz(t,e){for(;--e&&Fn()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return rh(t,Vd()+(e<6&&Gr()==32&&Fn()==32))}function X_(t){for(;Fn();)switch(It){case t:return Cn;case 34:case 39:t!==34&&t!==39&&X_(It);break;case 40:t===41&&X_(t);break;case 92:Fn();break}return Cn}function Sz(t,e){for(;Fn()&&t+It!==57;)if(t+It===84&&Gr()===47)break;return"/*"+rh(e,Cn-1)+"*"+Jp(t===47?t:Fn())}function Pz(t){for(;!Ic(Gr());)Fn();return rh(t,Cn)}function Iz(t){return Gb(Ud("",null,null,null,[""],t=qb(t),0,[0],t))}function Ud(t,e,n,r,i,o,a,u,h){for(var f=0,m=0,_=a,w=0,P=0,S=0,E=1,N=1,b=1,x=0,R="",B=i,q=o,K=r,k=R;N;)switch(S=x,x=Fn()){case 40:if(S!=108&&$t(k,_-1)==58){Y_(k+=Le(Fd(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=Fd(x);break;case 9:case 10:case 13:case 32:k+=Ez(S);break;case 92:k+=Tz(Vd()-1,7);continue;case 47:switch(Gr()){case 42:case 47:hd(xz(Sz(Fn(),Vd()),e,n),h);break;default:k+="/"}break;case 123*E:u[f++]=Dr(k)*b;case 125*E:case 59:case 0:switch(x){case 0:case 125:N=0;case 59+m:b==-1&&(k=Le(k,/\f/g,"")),P>0&&Dr(k)-_&&hd(P>32?h1(k+";",r,n,_-1):h1(Le(k," ","")+";",r,n,_-2),h);break;case 59:k+=";";default:if(hd(K=c1(k,e,n,f,m,i,u,R,B=[],q=[],_),o),x===123)if(m===0)Ud(k,e,K,K,B,o,_,u,q);else switch(w===99&&$t(k,3)===110?100:w){case 100:case 108:case 109:case 115:Ud(t,K,K,r&&hd(c1(t,K,K,0,0,i,u,R,i,B=[],_),q),i,q,_,u,r?B:q);break;default:Ud(k,K,K,K,[""],q,0,u,q)}}f=m=P=0,E=b=1,R=k="",_=a;break;case 58:_=1+Dr(k),P=S;default:if(E<1){if(x==123)--E;else if(x==125&&E++==0&&wz()==125)continue}switch(k+=Jp(x),x*E){case 38:b=m>0?1:(k+="\f",-1);break;case 44:u[f++]=(Dr(k)-1)*b,b=1;break;case 64:Gr()===45&&(k+=Fd(Fn())),w=Gr(),m=_=Dr(R=k+=Pz(Vd())),x++;break;case 45:S===45&&Dr(k)==2&&(E=0)}}return o}function c1(t,e,n,r,i,o,a,u,h,f,m){for(var _=i-1,w=i===0?o:[""],P=x0(w),S=0,E=0,N=0;S<r;++S)for(var b=0,x=Pc(t,_+1,_=pz(E=a[S])),R=t;b<P;++b)(R=Hb(E>0?w[b]+" "+x:Le(x,/&\f/g,w[b])))&&(h[N++]=R);return tm(t,e,n,i===0?P0:u,h,f,m)}function xz(t,e,n){return tm(t,e,n,zb,Jp(vz()),Pc(t,2,-2),0)}function h1(t,e,n,r){return tm(t,e,n,I0,Pc(t,0,r),Pc(t,r+1,-1),r)}function $a(t,e){for(var n="",r=x0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Cz(t,e,n,r){switch(t.type){case fz:if(t.children.length)break;case dz:case I0:return t.return=t.return||t.value;case zb:return"";case $b:return t.return=t.value+"{"+$a(t.children,r)+"}";case P0:t.value=t.props.join(",")}return Dr(n=$a(t.children,r))?t.return=t.value+"{"+n+"}":""}function bz(t){var e=x0(t);return function(n,r,i,o){for(var a="",u=0;u<e;u++)a+=t[u](n,r,i,o)||"";return a}}function Az(t){return function(e){e.root||(e=e.return)&&t(e)}}var Rz=function(e,n,r){for(var i=0,o=0;i=o,o=Gr(),i===38&&o===12&&(n[r]=1),!Ic(o);)Fn();return rh(e,Cn)},kz=function(e,n){var r=-1,i=44;do switch(Ic(i)){case 0:i===38&&Gr()===12&&(n[r]=1),e[r]+=Rz(Cn-1,n,r);break;case 2:e[r]+=Fd(i);break;case 4:if(i===44){e[++r]=Gr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Jp(i)}while(i=Fn());return e},Oz=function(e,n){return Gb(kz(qb(e),n))},d1=new WeakMap,Lz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!d1.get(r))&&!i){d1.set(e,!0);for(var o=[],a=Oz(n,o),u=r.props,h=0,f=0;h<a.length;h++)for(var m=0;m<u.length;m++,f++)e.props[f]=o[h]?a[h].replace(/&\f/g,u[m]):u[m]+" "+a[h]}}},Nz=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Kb(t,e){switch(gz(t,e)){case 5103:return Oe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Oe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Oe+t+Uf+t+Jt+t+t;case 6828:case 4268:return Oe+t+Jt+t+t;case 6165:return Oe+t+Jt+"flex-"+t+t;case 5187:return Oe+t+Le(t,/(\w+).+(:[^]+)/,Oe+"box-$1$2"+Jt+"flex-$1$2")+t;case 5443:return Oe+t+Jt+"flex-item-"+Le(t,/flex-|-self/,"")+t;case 4675:return Oe+t+Jt+"flex-line-pack"+Le(t,/align-content|flex-|-self/,"")+t;case 5548:return Oe+t+Jt+Le(t,"shrink","negative")+t;case 5292:return Oe+t+Jt+Le(t,"basis","preferred-size")+t;case 6060:return Oe+"box-"+Le(t,"-grow","")+Oe+t+Jt+Le(t,"grow","positive")+t;case 4554:return Oe+Le(t,/([^-])(transform)/g,"$1"+Oe+"$2")+t;case 6187:return Le(Le(Le(t,/(zoom-|grab)/,Oe+"$1"),/(image-set)/,Oe+"$1"),t,"")+t;case 5495:case 3959:return Le(t,/(image-set\([^]*)/,Oe+"$1$`$1");case 4968:return Le(Le(t,/(.+:)(flex-)?(.*)/,Oe+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Oe+t+t;case 4095:case 3583:case 4068:case 2532:return Le(t,/(.+)-inline(.+)/,Oe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Dr(t)-1-e>6)switch($t(t,e+1)){case 109:if($t(t,e+4)!==45)break;case 102:return Le(t,/(.+:)(.+)-([^]+)/,"$1"+Oe+"$2-$3$1"+Uf+($t(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Y_(t,"stretch")?Kb(Le(t,"stretch","fill-available"),e)+t:t}break;case 4949:if($t(t,e+1)!==115)break;case 6444:switch($t(t,Dr(t)-3-(~Y_(t,"!important")&&10))){case 107:return Le(t,":",":"+Oe)+t;case 101:return Le(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Oe+($t(t,14)===45?"inline-":"")+"box$3$1"+Oe+"$2$3$1"+Jt+"$2box$3")+t}break;case 5936:switch($t(t,e+11)){case 114:return Oe+t+Jt+Le(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Oe+t+Jt+Le(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Oe+t+Jt+Le(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Oe+t+Jt+t+t}return t}var Mz=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case I0:e.return=Kb(e.value,e.length);break;case $b:return $a([vu(e,{value:Le(e.value,"@","@"+Oe)})],i);case P0:if(e.length)return yz(e.props,function(o){switch(_z(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $a([vu(e,{props:[Le(o,/:(read-\w+)/,":"+Uf+"$1")]})],i);case"::placeholder":return $a([vu(e,{props:[Le(o,/:(plac\w+)/,":"+Oe+"input-$1")]}),vu(e,{props:[Le(o,/:(plac\w+)/,":"+Uf+"$1")]}),vu(e,{props:[Le(o,/:(plac\w+)/,Jt+"input-$1")]})],i)}return""})}},Dz=[Mz],Zb=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var N=E.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||Dz,o={},a,u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var N=E.getAttribute("data-emotion").split(" "),b=1;b<N.length;b++)o[N[b]]=!0;u.push(E)});var h,f=[Lz,Nz];{var m,_=[Cz,Az(function(E){m.insert(E)})],w=bz(f.concat(i,_)),P=function(N){return $a(Iz(N),w)};h=function(N,b,x,R){m=x,P(N?N+"{"+b.styles+"}":b.styles),R&&(S.inserted[b.name]=!0)}}var S={key:n,sheet:new hz({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:h};return S.sheet.hydrate(u),S},Qb={exports:{}},Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=typeof Symbol=="function"&&Symbol.for,C0=Ut?Symbol.for("react.element"):60103,b0=Ut?Symbol.for("react.portal"):60106,nm=Ut?Symbol.for("react.fragment"):60107,rm=Ut?Symbol.for("react.strict_mode"):60108,im=Ut?Symbol.for("react.profiler"):60114,sm=Ut?Symbol.for("react.provider"):60109,om=Ut?Symbol.for("react.context"):60110,A0=Ut?Symbol.for("react.async_mode"):60111,am=Ut?Symbol.for("react.concurrent_mode"):60111,lm=Ut?Symbol.for("react.forward_ref"):60112,um=Ut?Symbol.for("react.suspense"):60113,Vz=Ut?Symbol.for("react.suspense_list"):60120,cm=Ut?Symbol.for("react.memo"):60115,hm=Ut?Symbol.for("react.lazy"):60116,Fz=Ut?Symbol.for("react.block"):60121,Uz=Ut?Symbol.for("react.fundamental"):60117,jz=Ut?Symbol.for("react.responder"):60118,Bz=Ut?Symbol.for("react.scope"):60119;function zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case C0:switch(t=t.type,t){case A0:case am:case nm:case im:case rm:case um:return t;default:switch(t=t&&t.$$typeof,t){case om:case lm:case hm:case cm:case sm:return t;default:return e}}case b0:return e}}}function Yb(t){return zn(t)===am}Be.AsyncMode=A0;Be.ConcurrentMode=am;Be.ContextConsumer=om;Be.ContextProvider=sm;Be.Element=C0;Be.ForwardRef=lm;Be.Fragment=nm;Be.Lazy=hm;Be.Memo=cm;Be.Portal=b0;Be.Profiler=im;Be.StrictMode=rm;Be.Suspense=um;Be.isAsyncMode=function(t){return Yb(t)||zn(t)===A0};Be.isConcurrentMode=Yb;Be.isContextConsumer=function(t){return zn(t)===om};Be.isContextProvider=function(t){return zn(t)===sm};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===C0};Be.isForwardRef=function(t){return zn(t)===lm};Be.isFragment=function(t){return zn(t)===nm};Be.isLazy=function(t){return zn(t)===hm};Be.isMemo=function(t){return zn(t)===cm};Be.isPortal=function(t){return zn(t)===b0};Be.isProfiler=function(t){return zn(t)===im};Be.isStrictMode=function(t){return zn(t)===rm};Be.isSuspense=function(t){return zn(t)===um};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nm||t===am||t===im||t===rm||t===um||t===Vz||typeof t=="object"&&t!==null&&(t.$$typeof===hm||t.$$typeof===cm||t.$$typeof===sm||t.$$typeof===om||t.$$typeof===lm||t.$$typeof===Uz||t.$$typeof===jz||t.$$typeof===Bz||t.$$typeof===Fz)};Be.typeOf=zn;Qb.exports=Be;var zz=Qb.exports,Xb=zz,$z={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Jb={};Jb[Xb.ForwardRef]=$z;Jb[Xb.Memo]=Hz;var Wz=!0;function qz(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var eA=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Wz===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},tA=function(e,n,r){eA(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Gz(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Kz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zz=/[A-Z]|^ms/g,Qz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nA=function(e){return e.charCodeAt(1)===45},f1=function(e){return e!=null&&typeof e!="boolean"},mg=Bb(function(t){return nA(t)?t:t.replace(Zz,"-$&").toLowerCase()}),p1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Qz,function(r,i,o){return Vr={name:i,styles:o,next:Vr},i})}return Kz[e]!==1&&!nA(e)&&typeof n=="number"&&n!==0?n+"px":n};function xc(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Vr={name:n.name,styles:n.styles,next:Vr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Vr={name:r.name,styles:r.styles,next:Vr},r=r.next;var i=n.styles+";";return i}return Yz(t,e,n)}case"function":{if(t!==void 0){var o=Vr,a=n(t);return Vr=o,xc(t,e,a)}break}}if(e==null)return n;var u=e[n];return u!==void 0?u:n}function Yz(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xc(t,e,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object")e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":f1(a)&&(r+=mg(o)+":"+p1(o,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var u=0;u<a.length;u++)f1(a[u])&&(r+=mg(o)+":"+p1(o,a[u])+";");else{var h=xc(t,e,a);switch(o){case"animation":case"animationName":{r+=mg(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var m1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vr,R0=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";Vr=void 0;var a=e[0];a==null||a.raw===void 0?(i=!1,o+=xc(r,n,a)):o+=a[0];for(var u=1;u<e.length;u++)o+=xc(r,n,e[u]),i&&(o+=a[u]);m1.lastIndex=0;for(var h="",f;(f=m1.exec(o))!==null;)h+="-"+f[1];var m=Gz(o)+h;return{name:m,styles:o,next:Vr}},Xz=function(e){return e()},rA=$d.useInsertionEffect?$d.useInsertionEffect:!1,Jz=rA||Xz,g1=rA||j.useLayoutEffect,iA=j.createContext(typeof HTMLElement<"u"?Zb({key:"css"}):null),e5=iA.Provider,sA=function(e){return j.forwardRef(function(n,r){var i=j.useContext(iA);return e(n,i,r)})},dm=j.createContext({}),gg={exports:{}},_1;function oA(){return _1||(_1=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(gg)),gg.exports}oA();var t5=sA(function(t,e){var n=t.styles,r=R0([n],void 0,j.useContext(dm)),i=j.useRef();return g1(function(){var o=e.key+"-global",a=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),u=!1,h=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),h!==null&&(u=!0,h.setAttribute("data-emotion",o),a.hydrate([h])),i.current=[a,u],function(){a.flush()}},[e]),g1(function(){var o=i.current,a=o[0],u=o[1];if(u){o[1]=!1;return}if(r.next!==void 0&&tA(e,r.next,!0),a.tags.length){var h=a.tags[a.tags.length-1].nextElementSibling;a.before=h,a.flush()}e.insert("",r,a,!1)},[e,r.name]),null});function aA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return R0(e)}var n5=function(){var e=aA.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},r5=lz,i5=function(e){return e!=="theme"},y1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?r5:i5},v1=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(a){return e.__emotion_forwardProp(a)&&o(a)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},s5=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return eA(n,r,i),Jz(function(){return tA(n,r,i)}),null},o5=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,a;n!==void 0&&(o=n.label,a=n.target);var u=v1(e,n,r),h=u||y1(i),f=!h("as");return function(){var m=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),m[0]==null||m[0].raw===void 0)_.push.apply(_,m);else{_.push(m[0][0]);for(var w=m.length,P=1;P<w;P++)_.push(m[P],m[0][P])}var S=sA(function(E,N,b){var x=f&&E.as||i,R="",B=[],q=E;if(E.theme==null){q={};for(var K in E)q[K]=E[K];q.theme=j.useContext(dm)}typeof E.className=="string"?R=qz(N.registered,B,E.className):E.className!=null&&(R=E.className+" ");var k=R0(_.concat(B),N.registered,q);R+=N.key+"-"+k.name,a!==void 0&&(R+=" "+a);var C=f&&u===void 0?y1(x):h,O={};for(var M in E)f&&M==="as"||C(M)&&(O[M]=E[M]);return O.className=R,O.ref=b,j.createElement(j.Fragment,null,j.createElement(s5,{cache:N,serialized:k,isStringTag:typeof x=="string"}),j.createElement(x,O))});return S.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=i,S.__emotion_styles=_,S.__emotion_forwardProp=u,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(E,N){return t(E,Ue({},n,N,{shouldForwardProp:v1(S,N,!0)})).apply(void 0,_)},S}},a5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],J_=o5.bind();a5.forEach(function(t){J_[t]=J_(t)});let ey;typeof document=="object"&&(ey=Zb({key:"css",prepend:!0}));function l5(t){const{injectFirst:e,children:n}=t;return e&&ey?A.jsx(e5,{value:ey,children:n}):n}function u5(t){return t==null||Object.keys(t).length===0}function c5(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(u5(i)?n:i):e;return A.jsx(t5,{styles:r})}function h5(t,e){return J_(t,e)}const d5=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},f5=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:c5,StyledEngineProvider:l5,ThemeContext:dm,css:aA,default:h5,internal_processStyles:d5,keyframes:n5},Symbol.toStringTag,{value:"Module"}));function p5(t){return Object.keys(t).length===0}function m5(t=null){const e=j.useContext(dm);return!e||p5(e)?t:e}const g5=S0();function _5(t=g5){return m5(t)}function y5({props:t,name:e,defaultTheme:n,themeId:r}){let i=_5(n);return r&&(i=i[r]||i),pB({theme:i,name:e,props:t})}const v5=["sx"],w5=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:nh;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function E5(t){const{sx:e}=t,n=Os(t,v5),{systemProps:r,otherProps:i}=w5(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...a)=>{const u=e(...a);return ns(u)?Ue({},r,u):r}:o=Ue({},r,e),Ue({},i,{sx:o})}const T5=Object.freeze(Object.defineProperty({__proto__:null,default:Xp,extendSxProp:E5,unstable_createStyleFunctionSx:Ub,unstable_defaultSxConfig:nh},Symbol.toStringTag,{value:"Module"}));function S5(t,e){return Ue({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var vt={};const P5=bi(N3),I5=bi(dB);var lA=Jc;Object.defineProperty(vt,"__esModule",{value:!0});vt.alpha=dA;vt.blend=F5;vt.colorChannel=void 0;var x5=vt.darken=O0;vt.decomposeColor=or;vt.emphasize=fA;var C5=vt.getContrastRatio=L5;vt.getLuminance=jf;vt.hexToRgb=uA;vt.hslToRgb=hA;var b5=vt.lighten=L0;vt.private_safeAlpha=N5;vt.private_safeColorChannel=void 0;vt.private_safeDarken=M5;vt.private_safeEmphasize=V5;vt.private_safeLighten=D5;vt.recomposeColor=Pl;vt.rgbToHex=O5;var w1=lA(P5),A5=lA(I5);function k0(t,e=0,n=1){return(0,A5.default)(t,e,n)}function uA(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function R5(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function or(t){if(t.type)return t;if(t.charAt(0)==="#")return or(uA(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,w1.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,w1.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const cA=t=>{const e=or(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};vt.colorChannel=cA;const k5=(t,e)=>{try{return cA(t)}catch{return t}};vt.private_safeColorChannel=k5;function Pl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function O5(t){if(t.indexOf("#")===0)return t;const{values:e}=or(t);return`#${e.map((n,r)=>R5(r===3?Math.round(255*n):n)).join("")}`}function hA(t){t=or(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),a=(f,m=(f+n/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const h=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(u+="a",h.push(e[3])),Pl({type:u,values:h})}function jf(t){t=or(t);let e=t.type==="hsl"||t.type==="hsla"?or(hA(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function L5(t,e){const n=jf(t),r=jf(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function dA(t,e){return t=or(t),e=k0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Pl(t)}function N5(t,e,n){try{return dA(t,e)}catch{return t}}function O0(t,e){if(t=or(t),e=k0(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Pl(t)}function M5(t,e,n){try{return O0(t,e)}catch{return t}}function L0(t,e){if(t=or(t),e=k0(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Pl(t)}function D5(t,e,n){try{return L0(t,e)}catch{return t}}function fA(t,e=.15){return jf(t)>.5?O0(t,e):L0(t,e)}function V5(t,e,n){try{return fA(t,e)}catch{return t}}function F5(t,e,n,r=1){const i=(h,f)=>Math.round((h**(1/r)*(1-n)+f**(1/r)*n)**r),o=or(t),a=or(e),u=[i(o.values[0],a.values[0]),i(o.values[1],a.values[1]),i(o.values[2],a.values[2])];return Pl({type:"rgb",values:u})}const Cc={black:"#000",white:"#fff"},U5={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ha={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},da={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},fa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},pa={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ma={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},j5=["mode","contrastThreshold","tonalOffset"],E1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cc.white,default:Cc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_g={text:{primary:Cc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function T1(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=b5(t.main,i):e==="dark"&&(t.dark=x5(t.main,o)))}function B5(t="light"){return t==="dark"?{main:fa[200],light:fa[50],dark:fa[400]}:{main:fa[700],light:fa[400],dark:fa[800]}}function z5(t="light"){return t==="dark"?{main:ha[200],light:ha[50],dark:ha[400]}:{main:ha[500],light:ha[300],dark:ha[700]}}function $5(t="light"){return t==="dark"?{main:da[500],light:da[300],dark:da[700]}:{main:da[700],light:da[400],dark:da[800]}}function H5(t="light"){return t==="dark"?{main:pa[400],light:pa[300],dark:pa[700]}:{main:pa[700],light:pa[500],dark:pa[900]}}function W5(t="light"){return t==="dark"?{main:ma[400],light:ma[300],dark:ma[700]}:{main:ma[800],light:ma[500],dark:ma[900]}}function q5(t="light"){return t==="dark"?{main:wu[400],light:wu[300],dark:wu[700]}:{main:"#ed6c02",light:wu[500],dark:wu[900]}}function G5(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Os(t,j5),o=t.primary||B5(e),a=t.secondary||z5(e),u=t.error||$5(e),h=t.info||H5(e),f=t.success||W5(e),m=t.warning||q5(e);function _(E){return C5(E,_g.text.primary)>=n?_g.text.primary:E1.text.primary}const w=({color:E,name:N,mainShade:b=500,lightShade:x=300,darkShade:R=700})=>{if(E=Ue({},E),!E.main&&E[b]&&(E.main=E[b]),!E.hasOwnProperty("main"))throw new Error(Sc(11,N?` (${N})`:"",b));if(typeof E.main!="string")throw new Error(Sc(12,N?` (${N})`:"",JSON.stringify(E.main)));return T1(E,"light",x,r),T1(E,"dark",R,r),E.contrastText||(E.contrastText=_(E.main)),E},P={dark:_g,light:E1};return qr(Ue({common:Ue({},Cc),mode:e,primary:w({color:o,name:"primary"}),secondary:w({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:w({color:u,name:"error"}),warning:w({color:m,name:"warning"}),info:w({color:h,name:"info"}),success:w({color:f,name:"success"}),grey:U5,contrastThreshold:n,getContrastText:_,augmentColor:w,tonalOffset:r},P[e]),i)}const K5=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Z5(t){return Math.round(t*1e5)/1e5}const S1={textTransform:"uppercase"},P1='"Roboto", "Helvetica", "Arial", sans-serif';function Q5(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=P1,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:m,pxToRem:_}=n,w=Os(n,K5),P=i/14,S=_||(b=>`${b/f*P}rem`),E=(b,x,R,B,q)=>Ue({fontFamily:r,fontWeight:b,fontSize:S(x),lineHeight:R},r===P1?{letterSpacing:`${Z5(B/x)}em`}:{},q,m),N={h1:E(o,96,1.167,-1.5),h2:E(o,60,1.2,-.5),h3:E(a,48,1.167,0),h4:E(a,34,1.235,.25),h5:E(a,24,1.334,0),h6:E(u,20,1.6,.15),subtitle1:E(a,16,1.75,.15),subtitle2:E(u,14,1.57,.1),body1:E(a,16,1.5,.15),body2:E(a,14,1.43,.15),button:E(u,14,1.75,.4,S1),caption:E(a,12,1.66,.4),overline:E(a,12,2.66,1,S1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qr(Ue({htmlFontSize:f,pxToRem:S,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:h},N),w,{clone:!1})}const Y5=.2,X5=.14,J5=.12;function et(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Y5})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${X5})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${J5})`].join(",")}const e9=["none",et(0,2,1,-1,0,1,1,0,0,1,3,0),et(0,3,1,-2,0,2,2,0,0,1,5,0),et(0,3,3,-2,0,3,4,0,0,1,8,0),et(0,2,4,-1,0,4,5,0,0,1,10,0),et(0,3,5,-1,0,5,8,0,0,1,14,0),et(0,3,5,-1,0,6,10,0,0,1,18,0),et(0,4,5,-2,0,7,10,1,0,2,16,1),et(0,5,5,-3,0,8,10,1,0,3,14,2),et(0,5,6,-3,0,9,12,1,0,3,16,2),et(0,6,6,-3,0,10,14,1,0,4,18,3),et(0,6,7,-4,0,11,15,1,0,4,20,3),et(0,7,8,-4,0,12,17,2,0,5,22,4),et(0,7,8,-4,0,13,19,2,0,5,24,4),et(0,7,9,-4,0,14,21,2,0,5,26,4),et(0,8,9,-5,0,15,22,2,0,6,28,5),et(0,8,10,-5,0,16,24,2,0,6,30,5),et(0,8,11,-5,0,17,26,2,0,6,32,5),et(0,9,11,-5,0,18,28,2,0,7,34,6),et(0,9,12,-6,0,19,29,2,0,7,36,6),et(0,10,13,-6,0,20,31,3,0,8,38,7),et(0,10,13,-6,0,21,33,3,0,8,40,7),et(0,10,14,-6,0,22,35,3,0,8,42,7),et(0,11,14,-7,0,23,36,3,0,9,44,8),et(0,11,15,-7,0,24,38,3,0,9,46,8)],t9=["duration","easing","delay"],n9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},r9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function I1(t){return`${Math.round(t)}ms`}function i9(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function s9(t){const e=Ue({},n9,t.easing),n=Ue({},r9,t.duration);return Ue({getAutoHeightDuration:i9,create:(i=["all"],o={})=>{const{duration:a=n.standard,easing:u=e.easeInOut,delay:h=0}=o;return Os(o,t9),(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof a=="string"?a:I1(a)} ${u} ${typeof h=="string"?h:I1(h)}`).join(",")}},t,{easing:e,duration:n})}const o9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},a9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function l9(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,a=Os(t,a9);if(t.vars)throw new Error(Sc(18));const u=G5(r),h=S0(t);let f=qr(h,{mixins:S5(h.breakpoints,n),palette:u,shadows:e9.slice(),typography:Q5(u,o),transitions:s9(i),zIndex:Ue({},o9)});return f=qr(f,a),f=e.reduce((m,_)=>qr(m,_),f),f.unstable_sxConfig=Ue({},nh,a==null?void 0:a.unstable_sxConfig),f.unstable_sx=function(_){return Xp({sx:_,theme:this})},f}const pA=l9(),mA="$$material";function u9({props:t,name:e}){return y5({props:t,name:e,defaultTheme:pA,themeId:mA})}var ih={},yg={exports:{}},x1;function c9(){return x1||(x1=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.indexOf(o)>=0)continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(yg)),yg.exports}const h9=bi(f5),d9=bi(L3),f9=bi(j3),p9=bi(U3),m9=bi(oz),g9=bi(T5);var Il=Jc;Object.defineProperty(ih,"__esModule",{value:!0});var _9=ih.default=R9;ih.shouldForwardProp=jd;ih.systemDefaultTheme=void 0;var Qn=Il(oA()),ty=Il(c9()),C1=P9(h9),y9=d9;Il(f9);Il(p9);var v9=Il(m9),w9=Il(g9);const E9=["ownerState"],T9=["variants"],S9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function gA(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(gA=function(r){return r?n:e})(t)}function P9(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=gA(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function I9(t){return Object.keys(t).length===0}function x9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function jd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const C9=ih.systemDefaultTheme=(0,v9.default)(),b9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function dd({defaultTheme:t,theme:e,themeId:n}){return I9(e)?t:e[n]||e}function A9(t){return t?(e,n)=>n[t]:null}function Bd(t,e){let{ownerState:n}=e,r=(0,ty.default)(e,E9);const i=typeof t=="function"?t((0,Qn.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>Bd(o,(0,Qn.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let u=(0,ty.default)(i,T9);return o.forEach(h=>{let f=!0;typeof h.props=="function"?f=h.props((0,Qn.default)({ownerState:n},r,n)):Object.keys(h.props).forEach(m=>{(n==null?void 0:n[m])!==h.props[m]&&r[m]!==h.props[m]&&(f=!1)}),f&&(Array.isArray(u)||(u=[u]),u.push(typeof h.style=="function"?h.style((0,Qn.default)({ownerState:n},r,n)):h.style))}),u}return i}function R9(t={}){const{themeId:e,defaultTheme:n=C9,rootShouldForwardProp:r=jd,slotShouldForwardProp:i=jd}=t,o=a=>(0,w9.default)((0,Qn.default)({},a,{theme:dd((0,Qn.default)({},a,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(a,u={})=>{(0,C1.internal_processStyles)(a,q=>q.filter(K=>!(K!=null&&K.__mui_systemSx)));const{name:h,slot:f,skipVariantsResolver:m,skipSx:_,overridesResolver:w=A9(b9(f))}=u,P=(0,ty.default)(u,S9),S=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,E=_||!1;let N,b=jd;f==="Root"||f==="root"?b=r:f?b=i:x9(a)&&(b=void 0);const x=(0,C1.default)(a,(0,Qn.default)({shouldForwardProp:b,label:N},P)),R=q=>typeof q=="function"&&q.__emotion_real!==q||(0,y9.isPlainObject)(q)?K=>Bd(q,(0,Qn.default)({},K,{theme:dd({theme:K.theme,defaultTheme:n,themeId:e})})):q,B=(q,...K)=>{let k=R(q);const C=K?K.map(R):[];h&&w&&C.push(F=>{const U=dd((0,Qn.default)({},F,{defaultTheme:n,themeId:e}));if(!U.components||!U.components[h]||!U.components[h].styleOverrides)return null;const D=U.components[h].styleOverrides,He={};return Object.entries(D).forEach(([cr,mt])=>{He[cr]=Bd(mt,(0,Qn.default)({},F,{theme:U}))}),w(F,He)}),h&&!S&&C.push(F=>{var U;const D=dd((0,Qn.default)({},F,{defaultTheme:n,themeId:e})),He=D==null||(U=D.components)==null||(U=U[h])==null?void 0:U.variants;return Bd({variants:He},(0,Qn.default)({},F,{theme:D}))}),E||C.push(o);const O=C.length-K.length;if(Array.isArray(q)&&O>0){const F=new Array(O).fill("");k=[...q,...F],k.raw=[...q.raw,...F]}const M=x(k,...C);return a.muiName&&(M.muiName=a.muiName),M};return x.withConfig&&(B.withConfig=x.withConfig),B}}function k9(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const O9=t=>k9(t)&&t!=="classes",L9=_9({themeId:mA,defaultTheme:pA,rootShouldForwardProp:O9});function N9(t){return Nb("MuiSvgIcon",t)}cB("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const M9=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],D9=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ps(e)}`,`fontSize${Ps(n)}`]};return aB(i,N9,r)},V9=L9("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ps(n.color)}`],e[`fontSize${Ps(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,a,u,h,f,m,_,w,P,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((u=t.typography)==null||(h=u.pxToRem)==null?void 0:h.call(u,24))||"1.5rem",large:((f=t.typography)==null||(m=f.pxToRem)==null?void 0:m.call(f,35))||"2.1875rem"}[e.fontSize],color:(_=(w=(t.vars||t).palette)==null||(w=w[e.color])==null?void 0:w.main)!=null?_:{action:(P=(t.vars||t).palette)==null||(P=P.action)==null?void 0:P.active,disabled:(S=(t.vars||t).palette)==null||(S=S.action)==null?void 0:S.disabled,inherit:void 0}[e.color]}}),ny=j.forwardRef(function(e,n){const r=u9({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:a="inherit",component:u="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:m=!1,titleAccess:_,viewBox:w="0 0 24 24"}=r,P=Os(r,M9),S=j.isValidElement(i)&&i.type==="svg",E=Ue({},r,{color:a,component:u,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:w,hasSvgAsChild:S}),N={};m||(N.viewBox=w);const b=D9(E);return A.jsxs(V9,Ue({as:u,className:fB(b.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:n},N,P,S&&i.props,{ownerState:E,children:[S?i.props.children:i,_?A.jsx("title",{children:_}):null]}))});ny.muiName="SvgIcon";function F9(t,e){function n(r,i){return A.jsx(ny,Ue({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=ny.muiName,j.memo(j.forwardRef(n))}const U9={configure:t=>{Lb.configure(t)}},j9=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ps,createChainedFunction:B3,createSvgIcon:F9,debounce:z3,deprecatedPropType:$3,isMuiElement:H3,ownerDocument:Ab,ownerWindow:W3,requirePropFactory:q3,setRef:Rb,unstable_ClassNameGenerator:U9,unstable_useEnhancedEffect:kb,unstable_useId:K3,unsupportedProp:Z3,useControlled:Q3,useEventCallback:Y3,useForkRef:X3,useIsFocusVisible:oB},Symbol.toStringTag,{value:"Module"})),B9=bi(j9);var b1;function N0(){return b1||(b1=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=B9}(fg)),fg}var z9=Jc;Object.defineProperty(m0,"__esModule",{value:!0});var M0=m0.default=void 0,$9=z9(N0()),H9=A;M0=m0.default=(0,$9.default)((0,H9.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");var D0={},W9=Jc;Object.defineProperty(D0,"__esModule",{value:!0});var V0=D0.default=void 0,q9=W9(N0()),G9=A;V0=D0.default=(0,q9.default)((0,G9.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var F0={},K9=Jc;Object.defineProperty(F0,"__esModule",{value:!0});var _A=F0.default=void 0,Z9=K9(N0()),Q9=A;_A=F0.default=(0,Z9.default)((0,Q9.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp");function br(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Po(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const yA=6048e5,Y9=864e5;let X9={};function fm(){return X9}function bc(t,e){var u,h,f,m;const n=fm(),r=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,i=br(t),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Bf(t){return bc(t,{weekStartsOn:1})}function vA(t){const e=br(t),n=e.getFullYear(),r=Po(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Bf(r),o=Po(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=Bf(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function A1(t){const e=br(t);return e.setHours(0,0,0,0),e}function R1(t){const e=br(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function J9(t,e){const n=A1(t),r=A1(e),i=+n-R1(n),o=+r-R1(r);return Math.round((i-o)/Y9)}function e6(t){const e=vA(t),n=Po(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Bf(n)}function t6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function n6(t){if(!t6(t)&&typeof t!="number")return!1;const e=br(t);return!isNaN(Number(e))}function r6(t){const e=br(t),n=Po(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const i6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},s6=(t,e,n)=>{let r;const i=i6[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const o6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},a6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u6={date:vg({formats:o6,defaultWidth:"full"}),time:vg({formats:a6,defaultWidth:"full"}),dateTime:vg({formats:l6,defaultWidth:"full"})},c6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h6=(t,e,n,r)=>c6[t];function Eu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):a;i=t.formattingValues[u]||t.formattingValues[a]}else{const a=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const d6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},f6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},p6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},m6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},v6={ordinalNumber:y6,era:Eu({values:d6,defaultWidth:"wide"}),quarter:Eu({values:f6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Eu({values:p6,defaultWidth:"wide"}),day:Eu({values:m6,defaultWidth:"wide"}),dayPeriod:Eu({values:g6,defaultWidth:"wide",formattingValues:_6,defaultFormattingWidth:"wide"})};function Tu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?E6(u,_=>_.test(a)):w6(u,_=>_.test(a));let f;f=t.valueCallback?t.valueCallback(h):h,f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(a.length);return{value:f,rest:m}}}function w6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function E6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function T6(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const u=e.slice(i.length);return{value:a,rest:u}}}const S6=/^(\d+)(th|st|nd|rd)?/i,P6=/\d+/i,I6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x6={any:[/^b/i,/^(a|c)/i]},C6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b6={any:[/1/i,/2/i,/3/i,/4/i]},A6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},k6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},O6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},N6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M6={ordinalNumber:T6({matchPattern:S6,parsePattern:P6,valueCallback:t=>parseInt(t,10)}),era:Tu({matchPatterns:I6,defaultMatchWidth:"wide",parsePatterns:x6,defaultParseWidth:"any"}),quarter:Tu({matchPatterns:C6,defaultMatchWidth:"wide",parsePatterns:b6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Tu({matchPatterns:A6,defaultMatchWidth:"wide",parsePatterns:R6,defaultParseWidth:"any"}),day:Tu({matchPatterns:k6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any"}),dayPeriod:Tu({matchPatterns:L6,defaultMatchWidth:"any",parsePatterns:N6,defaultParseWidth:"any"})},D6={code:"en-US",formatDistance:s6,formatLong:u6,formatRelative:h6,localize:v6,match:M6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function V6(t){const e=br(t);return J9(e,r6(e))+1}function F6(t){const e=br(t),n=+Bf(e)-+e6(e);return Math.round(n/yA)+1}function wA(t,e){var m,_,w,P;const n=br(t),r=n.getFullYear(),i=fm(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??i.firstWeekContainsDate??((P=(w=i.locale)==null?void 0:w.options)==null?void 0:P.firstWeekContainsDate)??1,a=Po(t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const u=bc(a,e),h=Po(t,0);h.setFullYear(r,0,o),h.setHours(0,0,0,0);const f=bc(h,e);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function U6(t,e){var u,h,f,m;const n=fm(),r=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,i=wA(t,e),o=Po(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),bc(o,e)}function j6(t,e){const n=br(t),r=+bc(n,e)-+U6(n,e);return Math.round(r/yA)+1}function Ve(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Gi={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ve(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ve(n+1,2)},d(t,e){return Ve(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ve(t.getHours()%12||12,e.length)},H(t,e){return Ve(t.getHours(),e.length)},m(t,e){return Ve(t.getMinutes(),e.length)},s(t,e){return Ve(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ve(i,e.length)}},ga={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Gi.y(t,e)},Y:function(t,e,n,r){const i=wA(t,r),o=i>0?i:1-i;if(e==="YY"){const a=o%100;return Ve(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ve(o,e.length)},R:function(t,e){const n=vA(t);return Ve(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ve(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ve(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ve(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Gi.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ve(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=j6(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ve(i,e.length)},I:function(t,e,n){const r=F6(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ve(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Gi.d(t,e)},D:function(t,e,n){const r=V6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ve(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ve(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ve(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ve(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ga.noon:r===0?i=ga.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ga.evening:r>=12?i=ga.afternoon:r>=4?i=ga.morning:i=ga.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gi.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Gi.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ve(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Gi.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Gi.s(t,e)},S:function(t,e){return Gi.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return L1(r);case"XXXX":case"XX":return Qs(r);case"XXXXX":case"XXX":default:return Qs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return L1(r);case"xxxx":case"xx":return Qs(r);case"xxxxx":case"xxx":default:return Qs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+O1(r,":");case"OOOO":default:return"GMT"+Qs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+O1(r,":");case"zzzz":default:return"GMT"+Qs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ve(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ve(r,e.length)}};function O1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Ve(o,2)}function L1(t,e){return t%60===0?(t>0?"-":"+")+Ve(Math.abs(t)/60,2):Qs(t,e)}function Qs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ve(Math.trunc(r/60),2),o=Ve(r%60,2);return n+i+e+o}const N1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},B6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return N1(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",N1(r,e)).replace("{{time}}",EA(i,e))},z6={p:EA,P:B6},$6=/^D+$/,H6=/^Y+$/,W6=["D","DD","YY","YYYY"];function q6(t){return $6.test(t)}function G6(t){return H6.test(t)}function K6(t,e,n){const r=Z6(t,e,n);if(console.warn(r),W6.includes(t))throw new RangeError(r)}function Z6(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Q6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Y6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,X6=/^'([^]*?)'?$/,J6=/''/g,e$=/[a-zA-Z]/;function TA(t,e,n){var m,_,w,P;const r=fm(),i=r.locale??D6,o=r.firstWeekContainsDate??((_=(m=r.locale)==null?void 0:m.options)==null?void 0:_.firstWeekContainsDate)??1,a=r.weekStartsOn??((P=(w=r.locale)==null?void 0:w.options)==null?void 0:P.weekStartsOn)??0,u=br(t);if(!n6(u))throw new RangeError("Invalid time value");let h=e.match(Y6).map(S=>{const E=S[0];if(E==="p"||E==="P"){const N=z6[E];return N(S,i.formatLong)}return S}).join("").match(Q6).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const E=S[0];if(E==="'")return{isToken:!1,value:t$(S)};if(k1[E])return{isToken:!0,value:S};if(E.match(e$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(h=i.localize.preprocessor(u,h));const f={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return h.map(S=>{if(!S.isToken)return S.value;const E=S.value;(G6(E)||q6(E))&&K6(E,e,String(t));const N=k1[E[0]];return N(u,E,i.localize,f)}).join("")}function t$(t){const e=t.match(X6);return e?e[1].replace(J6,"'"):t}const n$=({postId:t,comment:e})=>{const{currentUser:n}=ar(),[r,i]=j.useState(!1),[o,a]=j.useState(""),[u,h]=j.useState(!1),[f,m]=j.useState(e.comment),[_,w]=j.useState(e.upvotes||0),[P,S]=j.useState(e.upvotedBy||[]);j.useEffect(()=>{w(e.upvotes||0),S(e.upvotedBy||[])},[e.upvotes,e.upvotedBy]);const E=async()=>{await EC(oo(rn,"posts",t,"comments",e.id))},N=async()=>{o!==""&&(await TC(Tp(rn,"posts",t,"comments",e.id,"replies"),{comment:o,createdAt:Mf(),uid:n.uid,email:n.email,displayName:n.displayName||n.email,photoURL:n.photoURL||"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png"}),a(""),i(!1))},b=async()=>{await Nd(oo(rn,"posts",t,"comments",e.id),{comment:f,updatedAt:Mf()}),h(!1)},x=async()=>{const B=oo(rn,"posts",t,"comments",e.id);if(P.includes(n.uid)){const q=_-1;w(q),S(P.filter(K=>K!==n.uid)),await Nd(B,{upvotes:q,upvotedBy:d4(n.uid)})}else{const q=_+1;w(q),S([...P,n.uid]),await Nd(B,{upvotes:q,upvotedBy:h4(n.uid)})}},R=B=>B?TA(B.toDate(),"PPpp"):"";return A.jsxs("div",{id:"comment-container",children:[A.jsxs("div",{id:"comment-img-container",children:[A.jsx("img",{id:"user-comment-profile",src:e.photoURL||"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:"User Profile"}),n.uid===e.uid&&A.jsxs("div",{className:"comment-actions",children:[A.jsx("button",{id:"edit-comment",onClick:()=>h(!u),children:A.jsx(V0,{})}),A.jsx("button",{id:"delete-comment",onClick:E,children:A.jsx(M0,{})})]})]}),A.jsxs("div",{id:"comment-content-container",children:[A.jsxs("p",{id:"comment-content-user",children:["Created by: ",e.displayName]}),A.jsxs("p",{id:"comment-timestamp",children:["Created at: ",R(e.createdAt)," ",e.updatedAt&&`(Edited at: ${R(e.updatedAt)})`]}),u?A.jsxs(A.Fragment,{children:[A.jsx("textarea",{value:f,onChange:B=>m(B.target.value),id:"edit-comment-input"}),A.jsxs("div",{className:"edit-actions",children:[A.jsx("button",{onClick:b,className:"submit-button",children:"Save"}),A.jsx("button",{onClick:()=>h(!1),className:"cancel-button",children:"Cancel"})]})]}):A.jsx("p",{id:"comment-content-body",children:e.comment}),A.jsx("button",{onClick:()=>i(!r),className:"reply-button",children:"Reply"}),r&&A.jsxs("div",{id:"reply-input-container",children:[A.jsx("textarea",{placeholder:"Write a reply",value:o,onChange:B=>a(B.target.value),id:"reply-input"}),A.jsxs("div",{className:"reply-actions",children:[A.jsx("button",{onClick:N,className:"submit-button",children:"Submit"}),A.jsx("button",{onClick:()=>i(!1),className:"cancel-button",children:"Cancel"})]})]}),A.jsx(r$,{postId:t,commentId:e.id}),A.jsxs("button",{onClick:x,className:"upvote-button",children:[A.jsx(_A,{})," ",_]})]})]})},r$=({postId:t,commentId:e})=>{const{currentUser:n}=ar(),[r,i]=j.useState([]),[o,a]=j.useState(null),[u,h]=j.useState("");j.useEffect(()=>{const w=ll(Tp(rn,"posts",t,"comments",e,"replies"),U_("createdAt")),P=SC(w,S=>{let E=[];S.forEach(N=>{E.push({...N.data(),id:N.id})}),i(E)});return()=>P()},[t,e]);const f=async w=>{await EC(oo(rn,"posts",t,"comments",e,"replies",w))},m=async(w,P)=>{await Nd(oo(rn,"posts",t,"comments",e,"replies",w),{comment:P,updatedAt:Mf()}),a(null)},_=w=>w?TA(w.toDate(),"PPpp"):"";return A.jsx("div",{id:"replies-container",children:r.map(w=>A.jsx("div",{id:"reply-container",children:A.jsxs("div",{id:"reply-content",children:[A.jsx("img",{id:"user-reply-profile",src:w.photoURL||"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",alt:"User Profile"}),A.jsxs("div",{className:"reply-user-info",children:[A.jsx("p",{id:"reply-user",children:w.displayName}),A.jsxs("p",{id:"reply-timestamp",children:[_(w.createdAt)," ",w.updatedAt&&`(Edited at: ${_(w.updatedAt)})`]})]}),o===w.id?A.jsxs(A.Fragment,{children:[A.jsx("textarea",{value:u,onChange:P=>h(P.target.value)}),A.jsxs("div",{className:"edit-actions",children:[A.jsx("button",{onClick:()=>m(w.id,u),className:"submit-button",children:"Save"}),A.jsx("button",{onClick:()=>a(null),className:"cancel-button",children:"Cancel"})]})]}):A.jsx("p",{className:"reply-body",children:w.comment}),n.uid===w.uid&&A.jsxs("div",{className:"reply-actions",children:[A.jsx("button",{onClick:()=>{a(w.id),h(w.comment)},children:A.jsx(V0,{})}),A.jsx("button",{onClick:()=>f(w.id),children:A.jsx(M0,{})})]})]})},w.id))})},i$=({postId:t})=>{const[e,n]=j.useState([]);return j.useEffect(()=>{const r=ll(Tp(rn,"posts",t,"comments"),U_("upvotes","desc"),U_("createdAt","asc")),i=SC(r,o=>{let a=[];o.forEach(u=>{a.push({...u.data(),id:u.id})}),n(a)});return()=>i()},[t]),A.jsxs("div",{id:"comments-container",children:[A.jsx(O3,{postId:t}),A.jsx("section",{id:"current-comments-container",children:e.map(r=>A.jsx(n$,{postId:t,comment:r},r.id))})]})},s$=5,M1="",o$="grey",a$="yellow";function l$({count:t,defaultRating:e,icon:n,color:r,iconSize:i,onRating:o}){const[a,u]=j.useState(e),[h,f]=j.useState(0);let m=Array(t||s$).fill(n||M1);const _=w=>{u(w),localStorage.setItem("starRating",w),o&&o(w)};return A.jsx("div",{className:"starsContainer",children:m.map((w,P)=>{const S=(a||h)&&(P<a||P<h);let E="";return S?E=r||a$:E=o$,A.jsx("div",{className:"star",style:{fontSize:i?`${i}px`:"14px",color:E,filter:`${S?"grayscale(0%)":"grayscale(100%)"}`},onMouseEnter:()=>f(P+1),onMouseLeave:()=>f(0),onClick:()=>_(P+1),children:n||M1},P)})})}const u$=({hostelId:t})=>{const{currentUser:e}=ar(),[n,r]=j.useState(null),[i,o]=j.useState(!1);j.useEffect(()=>{(async()=>{var f;try{const w=(f=(await ot.get(`http://localhost:5000/api/hostels/${t}`)).data.ratings)==null?void 0:f.find(P=>P.userId===e.uid);w&&r(w.rating)}catch(m){console.error("Error fetching rating:",m)}})()},[t,e]);const a=async h=>{try{console.log("Submitting rating:",{userId:e.uid,rating:h});const f=await ot.post(`http://localhost:5000/api/hostels/rate-hostel/${t}`,{userId:e.uid,rating:Number(h)});console.log("Rating response:",f.data),r(h),o(!1)}catch(f){console.error("Error rating hostel:",f),alert("Failed to rate hostel")}},u=async()=>{try{console.log("Deleting rating for user:",e.uid);const h=await ot.post(`http://localhost:5000/api/hostels/delete-rating/${t}`,{userId:e.uid});console.log("Delete rating response:",h.data),r(null),o(!1)}catch(h){console.error("Error deleting rating:",h),alert("Failed to delete rating")}};return A.jsx("div",{className:"rating-container",children:n&&!i?A.jsxs("div",{className:"user-rating",children:[A.jsxs("p",{children:["Your rating for this hostel is ",n," stars"]}),A.jsx("button",{onClick:()=>o(!0),className:"edit-button",children:"Edit"}),A.jsx("button",{onClick:u,className:"delete-button",children:"Delete"})]}):A.jsxs("div",{className:"rating-edit",children:[A.jsx("p",{children:"Rate from 1-5 for this hostel: "}),A.jsx(l$,{count:5,defaultRating:n,icon:"",color:"yellow",iconSize:24,onRating:a}),i&&A.jsx("button",{onClick:()=>o(!1),className:"cancel-button",children:"Cancel"})]})})};function c$({images:t}){const[e,n]=j.useState(null),r=i=>{i==="left"?n(e===0?t.length-1:e-1):e===t.length-1?n(0):n(e+1)};return A.jsxs("div",{className:"slider",children:[e!==null&&A.jsxs("div",{className:"fullSlider",children:[A.jsx("div",{className:"arrow",onClick:()=>r("left"),children:A.jsx("img",{src:"/arrow.png",alt:""})}),A.jsx("div",{className:"imgContainer",children:A.jsx("img",{src:t[e],alt:""})}),A.jsx("div",{className:"arrow",onClick:()=>r("right"),children:A.jsx("img",{src:"/arrow.png",className:"right",alt:""})}),A.jsx("div",{className:"close",onClick:()=>n(null),children:"X"})]}),A.jsx("div",{className:"bigImage",children:A.jsx("img",{src:t[0],alt:"",onClick:()=>n(0)})}),A.jsx("div",{className:"smallImages",children:t.slice(1).map((i,o)=>A.jsx("img",{src:i,alt:"",onClick:()=>n(o+1)},o))})]})}const h$=()=>{const{id:t}=XO(),{currentUser:e}=ar(),{hostels:n,saveHostel:r}=Xc(),[i,o]=j.useState(null),[a,u]=j.useState(!1);j.useEffect(()=>{const m=n.find(_=>_._id===t);m&&(o(m),u(m.savedBy.includes(e.uid)))},[t,n,e.uid]);const h=async()=>{await r(t,e.uid),u(m=>!m)};if(!i)return A.jsx("div",{children:"Loading..."});const f=i.ratings.length;return A.jsxs("div",{className:"hostel-info-page",children:[A.jsxs("div",{className:"hostel-info-left",children:[A.jsx("h1",{className:"title",children:A.jsx("strong",{children:i.name})}),A.jsx("div",{className:"hostel-info-image",children:A.jsx(c$,{images:i.imageUrls})}),A.jsxs("div",{className:"hostel-info-details",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Type:"})," ",i.type]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Price:"})," $",i.price," / month"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Average rating:"})," ",Number(i.averageRating).toFixed(1)," (",f,")"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Description:"})," ",i.description]}),A.jsx(u$,{hostelId:t}),A.jsxs("div",{className:`save-button-container ${a?"saved":""}`,onClick:h,children:[A.jsx("span",{children:a?"Hostel saved ":"Save this hostel "}),A.jsx("img",{src:"/save.png",alt:"Save"})]})]})]}),A.jsxs("div",{className:"hostel-info-right",children:[A.jsx("div",{className:"map-container",children:A.jsx(Tb,{items:[i]})}),A.jsx("div",{className:"comments-container",children:A.jsx(i$,{postId:t})})]})]})},d$=()=>{const{currentUser:t}=ar(),{hostels:e}=Xc(),[n,r]=j.useState([]);return j.useEffect(()=>{const i=e.filter(o=>o.savedBy.includes(t.uid));r(i)},[e,t.uid]),A.jsxs("div",{className:"saved-hostels-page",children:[A.jsx("h2",{children:"My Saved Hostels"}),A.jsx("div",{className:"saved-hostels-container",children:n.map(i=>A.jsx(mb,{item:i},i._id))})]})};function f$(){const{currentUser:t,setCurrentUser:e}=ar(),[n,r]=j.useState(null),[i,o]=j.useState(!1),[a,u]=j.useState("https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png"),[h,f]=j.useState((t==null?void 0:t.displayName)||""),[m,_]=j.useState(!1);function w(E){E.target.files[0]&&(r(E.target.files[0]),u(URL.createObjectURL(E.target.files[0])))}async function P(){await o3(n,t,o,e)}async function S(){if(h.length>10){alert("Username must be less than 10 characters!");return}if(h.trim()===""){alert("Username cannot be empty!");return}_(!0),await a3(h,t,_,e)}return j.useEffect(()=>{t!=null&&t.photoURL&&u(t.photoURL),t!=null&&t.displayName&&f(t.displayName)},[t]),A.jsxs("div",{className:"fields",children:[A.jsx("input",{type:"text",value:h,onChange:E=>f(E.target.value),placeholder:"Update your username here",disabled:m,className:"username-input",maxLength:10}),A.jsx("button",{className:m?"disabled":"",disabled:m,onClick:S,children:"Update Username"}),A.jsxs("p",{children:["Your current username is: ",t==null?void 0:t.displayName]}),A.jsxs("label",{htmlFor:"fileInput",className:`choose-file-button ${i?"disabled":""}`,children:["Choose Profile Image",A.jsx("input",{id:"fileInput",type:"file",onChange:w,disabled:i})]}),A.jsx("div",{className:"avatar-container",children:A.jsx("img",{src:a,alt:"Avatar",className:"avatar"})}),A.jsx("button",{className:`upload-button ${i?"disabled":""}`,disabled:i||!n,onClick:P,children:"Click to Upload"})]})}const p$=()=>{const t=ml(),{userLoggedIn:e,currentUser:n}=ar(),r="https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png",[i,o]=j.useState(!1),[a,u]=j.useState((n==null?void 0:n.photoURL)||"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png");return j.useEffect(()=>{n!=null&&n.photoURL?u(n.photoURL):u(r)},[n]),A.jsxs("nav",{children:[A.jsxs("div",{className:"left",children:[A.jsxs(At,{to:"/",className:"logo",children:[A.jsx("img",{src:"/utown.jpg",alt:"Logo"}),A.jsx("span",{children:"NUStay"})]}),A.jsx(At,{to:"/home",className:"nav-button",children:"Home"}),A.jsx(At,{to:"/explore",className:"nav-button",children:"Explore"}),e&&A.jsx(At,{to:"/saved",className:"nav-button",children:"Saved"}),A.jsx(At,{to:"/about",className:"nav-button",children:"About"})]}),A.jsxs("div",{className:"right",children:[e?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>{s3().then(()=>{t("/login")})},className:"nav-button",children:"Logout"}),A.jsxs("div",{className:"user",children:[A.jsx("img",{src:a,alt:"User"}),A.jsx("span",{children:(n==null?void 0:n.displayName)||(n==null?void 0:n.email)}),A.jsx(At,{to:"/profile",className:"profile nav-button",children:A.jsx("span",{children:"Profile"})})]})]}):A.jsxs(A.Fragment,{children:[A.jsx(At,{to:"/login",className:"nav-button",children:"Sign in"}),A.jsx(At,{to:"/register",className:"nav-button register",children:"Sign up"})]}),A.jsx("div",{className:"menuIcon",children:A.jsx("img",{src:"/menu.png",alt:"Menu",onClick:()=>o(h=>!h)})}),A.jsxs("div",{className:i?"menu active":"menu",children:[A.jsx(At,{to:"/home",children:"Home"}),A.jsx(At,{to:"/about",children:"About"}),A.jsx(At,{to:"/contact",children:"Contact"}),A.jsx(At,{to:"/agents",children:"Agents"}),A.jsx(At,{to:"/login",children:"Sign in"}),A.jsx(At,{to:"/register",children:"Sign up"})]})]})]})};function m$(){let e=JO([{path:"*",element:A.jsx(n1,{})},{path:"/login",element:A.jsx(n1,{})},{path:"/register",element:A.jsx(l3,{})},{path:"/home",element:A.jsx(A3,{})},{path:"/hostel/:id",element:A.jsx(h$,{})},{path:"/filter",element:A.jsx(k3,{})},{path:"/saved",element:A.jsx(d$,{})},{path:"/profile",element:A.jsx(f$,{})}]);return A.jsx(AU,{children:A.jsxs(pb,{children:[A.jsx(p$,{}),A.jsx("div",{className:"w-full h-screen flex flex-col mt-12",children:e})]})})}const g$=wg.createRoot(document.getElementById("root"));g$.render(A.jsx(pb,{children:A.jsx(yL,{children:A.jsx(m$,{})})}));
